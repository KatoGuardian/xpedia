var app=function(){"use strict";function t(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,i=n(function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(2),o=n(8),s=n(0),l=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,s=n.distance,l=void 0===s?100:s,a=n.threshold,c=void 0===a?.6:a,u=n.maxPatternLength,f=void 0===u?32:u,p=n.caseSensitive,d=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,v=n.minMatchCharLength,b=void 0===v?1:v,$=n.id,w=void 0===$?null:$,x=n.keys,k=void 0===x?[]:x,_=n.shouldSort,A=void 0===_||_,S=n.getFn,C=void 0===S?o:S,O=n.sortFn,T=void 0===O?function(t,e){return t.score-e.score}:O,E=n.tokenize,I=void 0!==E&&E,j=n.matchAllTokens,N=void 0!==j&&j,M=n.includeMatches,B=void 0!==M&&M,L=n.includeScore,F=void 0!==L&&L,R=n.verbose,D=void 0!==R&&R;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:l,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:m,findAllMatches:y,minMatchCharLength:b,id:w,keys:k,includeMatches:B,includeScore:F,shouldSort:A,getFn:C,sortFn:T,verbose:D,tokenize:I,matchAllTokens:N},this.setCollection(e)}var e,n;return e=t,(n=[{key:"setCollection",value:function(t){return this.list=t,t}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(t,'"'));var n=this._prepareSearchers(t),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i),s=o.weights,l=o.results;return this._computeScore(s,l),this.options.shouldSort&&this._sort(l),e.limit&&"number"==typeof e.limit&&(l=l.slice(0,e.limit)),this._format(l)}},{key:"_prepareSearchers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)e.push(new i(n[r],this.options));return{tokenSearchers:e,fullSearcher:new i(t,this.options)}}},{key:"_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,s=n.length;o<s;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e});return{weights:null,results:i}}for(var l={},a=0,c=n.length;a<c;a+=1)for(var u=n[a],f=0,p=this.options.keys.length;f<p;f+=1){var d=this.options.keys[f];if("string"!=typeof d){if(l[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error("Key weight has to be > 0 and <= 1");d=d.name}else l[d]={weight:1};this._analyze({key:d,value:this.options.getFn(u,d),record:u,index:a},{resultMap:r,results:i,tokenSearchers:t,fullSearcher:e})}return{weights:l,results:i}}},{key:"_analyze",value:function(t,e){var n=t.key,r=t.arrayIndex,i=void 0===r?-1:r,o=t.value,l=t.record,a=t.index,c=e.tokenSearchers,u=void 0===c?[]:c,f=e.fullSearcher,p=void 0===f?[]:f,d=e.resultMap,h=void 0===d?{}:d,m=e.results,g=void 0===m?[]:m;if(null!=o){var y=!1,v=-1,b=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var $=p.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat($.score)),this.options.tokenize){for(var w=o.split(this.options.tokenSeparator),x=[],k=0;k<u.length;k+=1){var _=u[k];this._log('\nPattern: "'.concat(_.pattern,'"'));for(var A=!1,S=0;S<w.length;S+=1){var C=w[S],O=_.search(C),T={};O.isMatch?(T[C]=O.score,y=!0,A=!0,x.push(O.score)):(T[C]=1,this.options.matchAllTokens||x.push(1)),this._log('Token: "'.concat(C,'", score: ').concat(T[C]))}A&&(b+=1)}v=x[0];for(var E=x.length,I=1;I<E;I+=1)v+=x[I];v/=E,this._log("Token score average:",v)}var j=$.score;v>-1&&(j=(j+v)/2),this._log("Score average:",j);var N=!this.options.tokenize||!this.options.matchAllTokens||b>=u.length;if(this._log("\nCheck Matches: ".concat(N)),(y||$.isMatch)&&N){var M=h[a];M?M.output.push({key:n,arrayIndex:i,value:o,score:j,matchedIndices:$.matchedIndices}):(h[a]={item:l,output:[{key:n,arrayIndex:i,value:o,score:j,matchedIndices:$.matchedIndices}]},g.push(h[a]))}}else if(s(o))for(var B=0,L=o.length;B<L;B+=1)this._analyze({key:n,arrayIndex:B,value:o[B],record:l,index:a},{resultMap:h,results:g,tokenSearchers:u,fullSearcher:p})}}},{key:"_computeScore",value:function(t,e){this._log("\n\nComputing score:\n");for(var n=0,r=e.length;n<r;n+=1){for(var i=e[n].output,o=i.length,s=1,l=1,a=0;a<o;a+=1){var c=t?t[i[a].key].weight:1,u=(1===c?i[a].score:i[a].score||.001)*c;1!==c?l=Math.min(l,u):(i[a].nScore=u,s*=u)}e[n].score=1===l?s:l,this._log(e[n])}}},{key:"_sort",value:function(t){this._log("\n\nSorting...."),t.sort(this.options.sortFn)}},{key:"_format",value:function(t){var e=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(t,function(t,e){if("object"===r(e)&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e})),n=null}var i=[];this.options.includeMatches&&i.push(function(t,e){var n=t.output;e.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),e.matches.push(s)}}}),this.options.includeScore&&i.push(function(t,e){e.score=t.score});for(var o=0,s=t.length;o<s;o+=1){var l=t[o];if(this.options.id&&(l.item=this.options.getFn(l.item,this.options.id)[0]),i.length){for(var a={item:l.item},c=0,u=i.length;c<u;c+=1)i[c](l,a);e.push(a)}else e.push(l.item)}return e}},{key:"_log",value:function(){var t;this.options.verbose&&(t=console).log.apply(t,arguments)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}();t.exports=l},function(t,e,n){var r=n(3),i=n(4),o=n(7),s=function(){function t(e,n){var r=n.location,i=void 0===r?0:r,s=n.distance,l=void 0===s?100:s,a=n.threshold,c=void 0===a?.6:a,u=n.maxPatternLength,f=void 0===u?32:u,p=n.isCaseSensitive,d=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,v=n.minMatchCharLength,b=void 0===v?1:v;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={location:i,distance:l,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:m,findAllMatches:y,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=o(this.pattern))}var e,n;return e=t,(n=[{key:"search",value:function(t){if(this.options.isCaseSensitive||(t=t.toLowerCase()),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};var e=this.options,n=e.maxPatternLength,o=e.tokenSeparator;if(this.pattern.length>n)return r(t,this.pattern,o);var s=this.options,l=s.location,a=s.distance,c=s.threshold,u=s.findAllMatches,f=s.minMatchCharLength;return i(t,this.pattern,this.patternAlphabet,{location:l,distance:a,threshold:c,findAllMatches:u,minMatchCharLength:f})}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}();t.exports=s},function(t,e){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(e.replace(n,"\\$&").replace(r,"|")),o=t.match(i),s=!!o,l=[];if(s)for(var a=0,c=o.length;a<c;a+=1){var u=o[a];l.push([t.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:l}}},function(t,e,n){var r=n(5),i=n(6);t.exports=function(t,e,n,o){for(var s=o.location,l=void 0===s?0:s,a=o.distance,c=void 0===a?100:a,u=o.threshold,f=void 0===u?.6:u,p=o.findAllMatches,d=void 0!==p&&p,h=o.minMatchCharLength,m=void 0===h?1:h,g=l,y=t.length,v=f,b=t.indexOf(e,g),$=e.length,w=[],x=0;x<y;x+=1)w[x]=0;if(-1!==b){var k=r(e,{errors:0,currentLocation:b,expectedLocation:g,distance:c});if(v=Math.min(k,v),-1!==(b=t.lastIndexOf(e,g+$))){var _=r(e,{errors:0,currentLocation:b,expectedLocation:g,distance:c});v=Math.min(_,v)}}b=-1;for(var A=[],S=1,C=$+y,O=1<<$-1,T=0;T<$;T+=1){for(var E=0,I=C;E<I;)r(e,{errors:T,currentLocation:g+I,expectedLocation:g,distance:c})<=v?E=I:C=I,I=Math.floor((C-E)/2+E);C=I;var j=Math.max(1,g-I+1),N=d?y:Math.min(g+I,y)+$,M=Array(N+2);M[N+1]=(1<<T)-1;for(var B=N;B>=j;B-=1){var L=B-1,F=n[t.charAt(L)];if(F&&(w[L]=1),M[B]=(M[B+1]<<1|1)&F,0!==T&&(M[B]|=(A[B+1]|A[B])<<1|1|A[B+1]),M[B]&O&&(S=r(e,{errors:T,currentLocation:L,expectedLocation:g,distance:c}))<=v){if(v=S,(b=L)<=g)break;j=Math.max(1,2*g-b)}}if(r(e,{errors:T+1,currentLocation:g,expectedLocation:g,distance:c})>v)break;A=M}return{isMatch:b>=0,score:0===S?.001:S,matchedIndices:i(w,m)}}},function(t,e){t.exports=function(t,e){var n=e.errors,r=void 0===n?0:n,i=e.currentLocation,o=void 0===i?0:i,s=e.expectedLocation,l=void 0===s?0:s,a=e.distance,c=void 0===a?100:a,u=r/t.length,f=Math.abs(l-o);return c?u+f/c:f?1:u}},function(t,e){t.exports=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,s=t.length;o<s;o+=1){var l=t[o];l&&-1===r?r=o:l||-1===r||((i=o-1)-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}},function(t,e){t.exports=function(t){for(var e={},n=t.length,r=0;r<n;r+=1)e[t.charAt(r)]=0;for(var i=0;i<n;i+=1)e[t.charAt(i)]|=1<<n-i-1;return e}},function(t,e,n){var r=n(0);t.exports=function(t,e){return function t(e,n,i){if(n){var o=n.indexOf("."),s=n,l=null;-1!==o&&(s=n.slice(0,o),l=n.slice(o+1));var a=e[s];if(null!=a)if(l||"string"!=typeof a&&"number"!=typeof a)if(r(a))for(var c=0,u=a.length;c<u;c+=1)t(a[c],l,i);else l&&t(a,l,i);else i.push(a.toString())}else i.push(e);return i}(t,e,[])}}])}),o=(r=i)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=(i.Fuse,n(function(t,n){t.exports=function t(n,r,i){function o(l,a){if(!r[l]){if(!n[l]){var c=e;if(!a&&c)return c(l,!0);if(s)return s(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[l]={exports:{}};n[l][0].call(f.exports,function(t){var e=n[l][1][t];return o(e||t)},f,f.exports,t,n,r,i)}return r[l].exports}for(var s=e,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(t,e,n){var r=t("./js-yaml/loader"),i=t("./js-yaml/dumper");function o(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}e.exports.Type=t("./js-yaml/type"),e.exports.Schema=t("./js-yaml/schema"),e.exports.FAILSAFE_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.JSON_SCHEMA=t("./js-yaml/schema/json"),e.exports.CORE_SCHEMA=t("./js-yaml/schema/core"),e.exports.DEFAULT_SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_FULL_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=t("./js-yaml/exception"),e.exports.MINIMAL_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.scan=o("scan"),e.exports.parse=o("parse"),e.exports.compose=o("compose"),e.exports.addConstructor=o("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(t,e,n){function r(t){return null==t}e.exports.isNothing=r,e.exports.isObject=function(t){return"object"==typeof t&&null!==t},e.exports.toArray=function(t){return Array.isArray(t)?t:r(t)?[]:[t]},e.exports.repeat=function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},e.exports.isNegativeZero=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},e.exports.extend=function(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;n<r;n+=1)i=o[n],t[i]=e[i];return t}},{}],3:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./schema/default_full"),s=t("./schema/default_safe"),l=Object.prototype.toString,a=Object.prototype.hasOwnProperty,c=9,u=10,f=32,p=33,d=34,h=35,m=37,g=38,y=39,v=42,b=44,$=45,w=58,x=62,k=63,_=64,A=91,S=93,C=96,O=123,T=124,E=125,I={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},j=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function N(t){var e,n,o;if(e=t.toString(16).toUpperCase(),t<=255)n="x",o=2;else if(t<=65535)n="u",o=4;else{if(!(t<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-e.length)+e}function M(t){this.schema=t.schema||o,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=r.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,s,l,c;if(null===e)return{};for(n={},r=Object.keys(e),i=0,o=r.length;i<o;i+=1)s=r[i],l=String(e[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(c=t.compiledTypeMap.fallback[s])&&a.call(c.styleAliases,l)&&(l=c.styleAliases[l]),n[s]=l;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function B(t,e){for(var n,i=r.repeat(" ",e),o=0,s=-1,l="",a=t.length;o<a;)-1===(s=t.indexOf("\n",o))?(n=t.slice(o),o=a):(n=t.slice(o,s+1),o=s+1),n.length&&"\n"!==n&&(l+=i),l+=n;return l}function L(t,e){return"\n"+r.repeat(" ",t.indent*e)}function F(t){return t===f||t===c}function R(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function D(t){return R(t)&&65279!==t&&t!==b&&t!==A&&t!==S&&t!==O&&t!==E&&t!==w&&t!==h}function P(t){return/^\n* /.test(t)}var z=1,H=2,U=3,Z=4,G=5;function W(t,e,n,r,i){var o,s,l,a=!1,c=!1,f=-1!==r,I=-1,j=R(l=t.charCodeAt(0))&&65279!==l&&!F(l)&&l!==$&&l!==k&&l!==w&&l!==b&&l!==A&&l!==S&&l!==O&&l!==E&&l!==h&&l!==g&&l!==v&&l!==p&&l!==T&&l!==x&&l!==y&&l!==d&&l!==m&&l!==_&&l!==C&&!F(t.charCodeAt(t.length-1));if(e)for(o=0;o<t.length;o++){if(!R(s=t.charCodeAt(o)))return G;j=j&&D(s)}else{for(o=0;o<t.length;o++){if((s=t.charCodeAt(o))===u)a=!0,f&&(c=c||o-I-1>r&&" "!==t[I+1],I=o);else if(!R(s))return G;j=j&&D(s)}c=c||f&&o-I-1>r&&" "!==t[I+1]}return a||c?n>9&&P(t)?G:c?Z:U:j&&!i(t)?z:H}function q(t,e,n,r){t.dump=function(){if(0===e.length)return"''";if(!t.noCompatMode&&-1!==j.indexOf(e))return"'"+e+"'";var o=t.indent*Math.max(1,n),s=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),l=r||t.flowLevel>-1&&n>=t.flowLevel;switch(W(e,l,t.indent,s,function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)})){case z:return e;case H:return"'"+e.replace(/'/g,"''")+"'";case U:return"|"+K(e,t.indent)+Y(B(e,o));case Z:return">"+K(e,t.indent)+Y(B(function(t,e){for(var n,r,i,o=/(\n+)([^\n]*)/g,s=(i=-1!==(i=t.indexOf("\n"))?i:t.length,o.lastIndex=i,V(t.slice(0,i),e)),l="\n"===t[0]||" "===t[0];r=o.exec(t);){var a=r[1],c=r[2];n=" "===c[0],s+=a+(l||n||""===c?"":"\n")+V(c,e),l=n}return s}(e,s),o));case G:return'"'+function(t){for(var e,n,r,i="",o=0;o<t.length;o++)(e=t.charCodeAt(o))>=55296&&e<=56319&&(n=t.charCodeAt(o+1))>=56320&&n<=57343?(i+=N(1024*(e-55296)+n-56320+65536),o++):(r=I[e],i+=!r&&R(e)?t[o]:r||N(e));return i}(e)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function K(t,e){var n=P(t)?String(e):"",r="\n"===t[t.length-1],i=r&&("\n"===t[t.length-2]||"\n"===t),o=i?"+":r?"":"-";return n+o+"\n"}function Y(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function V(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,s=0,l=0,a="";n=i.exec(t);)(l=n.index)-o>e&&(r=s>o?s:l,a+="\n"+t.slice(o,r),o=r+1),s=l;return a+="\n",t.length-o>e&&s>o?a+=t.slice(o,s)+"\n"+t.slice(s+1):a+=t.slice(o),a.slice(1)}function X(t,e,n){var r,o,s,c,u,f;for(o=n?t.explicitTypes:t.implicitTypes,s=0,c=o.length;s<c;s+=1)if(((u=o[s]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof e&&e instanceof u.instanceOf)&&(!u.predicate||u.predicate(e))){if(t.tag=n?u.tag:"?",u.represent){if(f=t.styleMap[u.tag]||u.defaultStyle,"[object Function]"===l.call(u.represent))r=u.represent(e,f);else{if(!a.call(u.represent,f))throw new i("!<"+u.tag+'> tag resolver accepts not "'+f+'" style');r=u.represent[f](e,f)}t.dump=r}return!0}return!1}function J(t,e,n,r,o,s){t.tag=null,t.dump=n,X(t,n,!1)||X(t,n,!0);var a=l.call(t.dump);r&&(r=t.flowLevel<0||t.flowLevel>e);var c,f,p="[object Object]"===a||"[object Array]"===a;if(p&&(c=t.duplicates.indexOf(n),f=-1!==c),(null!==t.tag&&"?"!==t.tag||f||2!==t.indent&&e>0)&&(o=!1),f&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(p&&f&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),"[object Object]"===a)r&&0!==Object.keys(t.dump).length?(function(t,e,n,r){var o,s,l,a,c,f,p="",d=t.tag,h=Object.keys(n);if(!0===t.sortKeys)h.sort();else if("function"==typeof t.sortKeys)h.sort(t.sortKeys);else if(t.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,s=h.length;o<s;o+=1)f="",r&&0===o||(f+=L(t,e)),l=h[o],a=n[l],J(t,e+1,l,!0,!0,!0)&&((c=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&u===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,c&&(f+=L(t,e)),J(t,e+1,a,!0,c)&&(t.dump&&u===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,p+=f));t.tag=d,t.dump=p||"{}"}(t,e,t.dump,o),f&&(t.dump="&ref_"+c+t.dump)):(function(t,e,n){var r,i,o,s,l,a="",c=t.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)l=t.condenseFlow?'"':"",0!==r&&(l+=", "),o=u[r],s=n[o],J(t,e,o,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),J(t,e,s,!1,!1)&&(l+=t.dump,a+=l));t.tag=c,t.dump="{"+a+"}"}(t,e,t.dump),f&&(t.dump="&ref_"+c+" "+t.dump));else if("[object Array]"===a){var d=t.noArrayIndent&&e>0?e-1:e;r&&0!==t.dump.length?(function(t,e,n,r){var i,o,s="",l=t.tag;for(i=0,o=n.length;i<o;i+=1)J(t,e+1,n[i],!0,!0)&&(r&&0===i||(s+=L(t,e)),t.dump&&u===t.dump.charCodeAt(0)?s+="-":s+="- ",s+=t.dump);t.tag=l,t.dump=s||"[]"}(t,d,t.dump,o),f&&(t.dump="&ref_"+c+t.dump)):(function(t,e,n){var r,i,o="",s=t.tag;for(r=0,i=n.length;r<i;r+=1)J(t,e,n[r],!1,!1)&&(0!==r&&(o+=","+(t.condenseFlow?"":" ")),o+=t.dump);t.tag=s,t.dump="["+o+"]"}(t,d,t.dump),f&&(t.dump="&ref_"+c+" "+t.dump))}else{if("[object String]"!==a){if(t.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+a)}"?"!==t.tag&&q(t,t.dump,e,s)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function Q(t,e){var n,r,i=[],o=[];for(function t(e,n,r){var i,o,s;if(null!==e&&"object"==typeof e)if(-1!==(o=n.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,s=e.length;o<s;o+=1)t(e[o],n,r);else for(i=Object.keys(e),o=0,s=i.length;o<s;o+=1)t(e[i[o]],n,r)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function tt(t,e){var n=new M(e=e||{});return n.noRefs||Q(t,n),J(n,0,t,!0,!0)?n.dump+"\n":""}e.exports.dump=tt,e.exports.safeDump=function(t,e){return tt(t,r.extend({schema:s},e))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(t,e,n){function r(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e},e.exports=r},{}],5:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./mark"),s=t("./schema/default_safe"),l=t("./schema/default_full"),a=Object.prototype.hasOwnProperty,c=1,u=2,f=3,p=4,d=1,h=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[\x85\u2028\u2029]/,v=/[,\[\]\{\}]/,b=/^(?:!|!!|![a-z\-]+!)$/i,$=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w(t){return Object.prototype.toString.call(t)}function x(t){return 10===t||13===t}function k(t){return 9===t||32===t}function _(t){return 9===t||32===t||10===t||13===t}function A(t){return 44===t||91===t||93===t||123===t||125===t}function S(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function C(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function O(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var T=new Array(256),E=new Array(256),I=0;I<256;I++)T[I]=C(I)?1:0,E[I]=C(I);function j(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||l,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function N(t,e){return new i(e,new o(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function M(t,e){throw N(t,e)}function B(t,e){t.onWarning&&t.onWarning.call(null,N(t,e))}var L={YAML:function(t,e,n){var r,i,o;null!==t.version&&M(t,"duplication of %YAML directive"),1!==n.length&&M(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&M(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&M(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&B(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&M(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],b.test(r)||M(t,"ill-formed tag handle (first argument) of the TAG directive"),a.call(t.tagMap,r)&&M(t,'there is a previously declared suffix for "'+r+'" tag handle'),$.test(i)||M(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};function F(t,e,n,r){var i,o,s,l;if(e<n){if(l=t.input.slice(e,n),r)for(i=0,o=l.length;i<o;i+=1)9===(s=l.charCodeAt(i))||32<=s&&s<=1114111||M(t,"expected valid JSON character");else g.test(l)&&M(t,"the stream contains non-printable characters");t.result+=l}}function R(t,e,n,i){var o,s,l,c;for(r.isObject(n)||M(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),l=0,c=o.length;l<c;l+=1)s=o[l],a.call(e,s)||(e[s]=n[s],i[s]=!0)}function D(t,e,n,r,i,o,s,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&M(t,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===w(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===w(i)&&(i="[object Object]"),i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)R(t,e,o[c],n);else R(t,e,o,n);else t.json||a.call(n,i)||!a.call(e,i)||(t.line=s||t.line,t.position=l||t.position,M(t,"duplicated mapping key")),e[i]=o,delete n[i];return e}function P(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):M(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function z(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;k(i);)i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!x(i))break;for(P(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&B(t,"deficient indentation"),r}function H(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!_(e)))}function U(t,e){1===e?t.result+=" ":e>1&&(t.result+=r.repeat("\n",e-1))}function Z(t,e){var n,r,i=t.tag,o=t.anchor,s=[],l=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),r=t.input.charCodeAt(t.position);0!==r&&45===r&&_(t.input.charCodeAt(t.position+1));)if(l=!0,t.position++,z(t,!0,-1)&&t.lineIndent<=e)s.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,q(t,e,f,!1,!0),s.push(t.result),z(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)M(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!l&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=s,!0)}function G(t){var e,n,r,i,o=!1,s=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&M(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):M(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!_(i);)33===i&&(s?M(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),b.test(n)||M(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),v.test(r)&&M(t,"tag suffix cannot contain flow indicator characters")}return r&&!$.test(r)&&M(t,"tag name cannot contain such characters: "+r),o?t.tag=r:a.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:M(t,'undeclared tag handle "'+n+'"'),!0}function W(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&M(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!_(n)&&!A(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function q(t,e,n,i,o){var s,l,g,y,v,b,$,w,C=1,I=!1,j=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=l=g=p===n||f===n,i&&z(t,!0,-1)&&(I=!0,t.lineIndent>e?C=1:t.lineIndent===e?C=0:t.lineIndent<e&&(C=-1)),1===C)for(;G(t)||W(t);)z(t,!0,-1)?(I=!0,g=s,t.lineIndent>e?C=1:t.lineIndent===e?C=0:t.lineIndent<e&&(C=-1)):g=!1;if(g&&(g=I||o),1!==C&&p!==n||($=c===n||u===n?e:e+1,w=t.position-t.lineStart,1===C?g&&(Z(t,w)||function(t,e,n){var r,i,o,s,l,a=t.tag,c=t.anchor,f={},d={},h=null,m=null,g=null,y=!1,v=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=f),l=t.input.charCodeAt(t.position);0!==l;){if(r=t.input.charCodeAt(t.position+1),o=t.line,s=t.position,63!==l&&58!==l||!_(r)){if(!q(t,n,u,!1,!0))break;if(t.line===o){for(l=t.input.charCodeAt(t.position);k(l);)l=t.input.charCodeAt(++t.position);if(58===l)_(l=t.input.charCodeAt(++t.position))||M(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(D(t,f,d,h,m,null),h=m=g=null),v=!0,y=!1,i=!1,h=t.tag,m=t.result;else{if(!v)return t.tag=a,t.anchor=c,!0;M(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return t.tag=a,t.anchor=c,!0;M(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(y&&(D(t,f,d,h,m,null),h=m=g=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):M(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,l=r;if((t.line===o||t.lineIndent>e)&&(q(t,e,p,!0,i)&&(y?m=t.result:g=t.result),y||(D(t,f,d,h,m,g,o,s),h=m=g=null),z(t,!0,-1),l=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==l)M(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&D(t,f,d,h,m,null),v&&(t.tag=a,t.anchor=c,t.kind="mapping",t.result=f),v}(t,w,$))||function(t,e){var n,r,i,o,s,l,a,u,f,p,d=!0,h=t.tag,m=t.anchor,g={};if(91===(p=t.input.charCodeAt(t.position)))i=93,l=!1,r=[];else{if(123!==p)return!1;i=125,l=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),p=t.input.charCodeAt(++t.position);0!==p;){if(z(t,!0,e),(p=t.input.charCodeAt(t.position))===i)return t.position++,t.tag=h,t.anchor=m,t.kind=l?"mapping":"sequence",t.result=r,!0;d||M(t,"missed comma between flow collection entries"),u=a=f=null,o=s=!1,63===p&&_(t.input.charCodeAt(t.position+1))&&(o=s=!0,t.position++,z(t,!0,e)),n=t.line,q(t,e,c,!1,!0),u=t.tag,a=t.result,z(t,!0,e),p=t.input.charCodeAt(t.position),!s&&t.line!==n||58!==p||(o=!0,p=t.input.charCodeAt(++t.position),z(t,!0,e),q(t,e,c,!1,!0),f=t.result),l?D(t,r,g,u,a,f):o?r.push(D(t,null,g,u,a,f)):r.push(a),z(t,!0,e),44===(p=t.input.charCodeAt(t.position))?(d=!0,p=t.input.charCodeAt(++t.position)):d=!1}M(t,"unexpected end of the stream within a flow collection")}(t,$)?j=!0:(l&&function(t,e){var n,i,o,s,l,a=d,c=!1,u=!1,f=e,p=0,g=!1;if(124===(s=t.input.charCodeAt(t.position)))i=!1;else{if(62!==s)return!1;i=!0}for(t.kind="scalar",t.result="";0!==s;)if(43===(s=t.input.charCodeAt(++t.position))||45===s)d===a?a=43===s?m:h:M(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(l=s)&&l<=57?l-48:-1)>=0))break;0===o?M(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?M(t,"repeat of an indentation width identifier"):(f=e+o-1,u=!0)}if(k(s)){do{s=t.input.charCodeAt(++t.position)}while(k(s));if(35===s)do{s=t.input.charCodeAt(++t.position)}while(!x(s)&&0!==s)}for(;0!==s;){for(P(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!u||t.lineIndent<f)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>f&&(f=t.lineIndent),x(s))p++;else{if(t.lineIndent<f){a===m?t.result+=r.repeat("\n",c?1+p:p):a===d&&c&&(t.result+="\n");break}for(i?k(s)?(g=!0,t.result+=r.repeat("\n",c?1+p:p)):g?(g=!1,t.result+=r.repeat("\n",p+1)):0===p?c&&(t.result+=" "):t.result+=r.repeat("\n",p):t.result+=r.repeat("\n",c?1+p:p),c=!0,u=!0,p=0,n=t.position;!x(s)&&0!==s;)s=t.input.charCodeAt(++t.position);F(t,n,t.position,!1)}}return!0}(t,$)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(F(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else x(n)?(F(t,r,i,!0),U(t,z(t,!1,e)),r=i=t.position):t.position===t.lineStart&&H(t)?M(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);M(t,"unexpected end of the stream within a single quoted scalar")}(t,$)||function(t,e){var n,r,i,o,s,l,a;if(34!==(l=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(l=t.input.charCodeAt(t.position));){if(34===l)return F(t,n,t.position,!0),t.position++,!0;if(92===l){if(F(t,n,t.position,!0),x(l=t.input.charCodeAt(++t.position)))z(t,!1,e);else if(l<256&&T[l])t.result+=E[l],t.position++;else if((s=120===(a=l)?2:117===a?4:85===a?8:0)>0){for(i=s,o=0;i>0;i--)l=t.input.charCodeAt(++t.position),(s=S(l))>=0?o=(o<<4)+s:M(t,"expected hexadecimal character");t.result+=O(o),t.position++}else M(t,"unknown escape sequence");n=r=t.position}else x(l)?(F(t,n,r,!0),U(t,z(t,!1,e)),n=r=t.position):t.position===t.lineStart&&H(t)?M(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}M(t,"unexpected end of the stream within a double quoted scalar")}(t,$)?j=!0:function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!_(r)&&!A(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&M(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||M(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],z(t,!0,-1),!0}(t)?(j=!0,null===t.tag&&null===t.anchor||M(t,"alias node should not have any properties")):function(t,e,n){var r,i,o,s,l,a,c,u,f=t.kind,p=t.result;if(_(u=t.input.charCodeAt(t.position))||A(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(_(r=t.input.charCodeAt(t.position+1))||n&&A(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,s=!1;0!==u;){if(58===u){if(_(r=t.input.charCodeAt(t.position+1))||n&&A(r))break}else if(35===u){if(_(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&H(t)||n&&A(u))break;if(x(u)){if(l=t.line,a=t.lineStart,c=t.lineIndent,z(t,!1,-1),t.lineIndent>=e){s=!0,u=t.input.charCodeAt(t.position);continue}t.position=o,t.line=l,t.lineStart=a,t.lineIndent=c;break}}s&&(F(t,i,o,!1),U(t,t.line-l),i=o=t.position,s=!1),k(u)||(o=t.position+1),u=t.input.charCodeAt(++t.position)}return F(t,i,o,!1),!!t.result||(t.kind=f,t.result=p,!1)}(t,$,c===n)&&(j=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===C&&(j=g&&Z(t,w))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(y=0,v=t.implicitTypes.length;y<v;y+=1)if((b=t.implicitTypes[y]).resolve(t.result)){t.result=b.construct(t.result),t.tag=b.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else a.call(t.typeMap[t.kind||"fallback"],t.tag)?(b=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&b.kind!==t.kind&&M(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+b.kind+'", not "'+t.kind+'"'),b.resolve(t.result)?(t.result=b.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):M(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):M(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||j}function K(t){var e,n,r,i,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(i=t.input.charCodeAt(t.position))&&(z(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(s=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!_(i);)i=t.input.charCodeAt(++t.position);for(n=t.input.slice(e,t.position),r=[],n.length<1&&M(t,"directive name must not be less than one character in length");0!==i;){for(;k(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!x(i));break}if(x(i))break;for(e=t.position;0!==i&&!_(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&P(t),a.call(L,n)?L[n](t,n,r):B(t,'unknown document directive "'+n+'"')}z(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,z(t,!0,-1)):s&&M(t,"directives end mark is expected"),q(t,t.lineIndent-1,p,!1,!0),z(t,!0,-1),t.checkLineBreaks&&y.test(t.input.slice(o,t.position))&&B(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&H(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,z(t,!0,-1)):t.position<t.length-1&&M(t,"end of the stream or a document separator is expected")}function Y(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new j(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)K(n);return n.documents}function V(t,e,n){var r,i,o=Y(t,n);if("function"!=typeof e)return o;for(r=0,i=o.length;r<i;r+=1)e(o[r])}function X(t,e){var n=Y(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}e.exports.loadAll=V,e.exports.load=X,e.exports.safeLoadAll=function(t,e,n){if("function"!=typeof e)return V(t,r.extend({schema:s},n));V(t,e,r.extend({schema:s},n))},e.exports.safeLoad=function(t,e){return X(t,r.extend({schema:s},e))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(t,e,n){var r=t("./common");function i(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(t,e){var n,i,o,s,l;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>e/2-1){n=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>e/2-1){o=" ... ",s-=5;break}return l=this.buffer.slice(i,s),r.repeat(" ",t)+n+l+o+"\n"+r.repeat(" ",t+this.position-i+n.length)+"^"},i.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n},e.exports=i},{"./common":2}],7:[function(t,e,n){var r=t("./common"),i=t("./exception"),o=t("./type");function s(t,e,n){var r=[];return t.include.forEach(function(t){n=s(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&e.kind===t.kind&&r.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===r.indexOf(e)})}function l(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=s(this,"implicit",[]),this.compiledExplicit=s(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(t){n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}l.DEFAULT=null,l.create=function(){var t,e;switch(arguments.length){case 1:t=l.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(t=r.toArray(t),e=r.toArray(e),!t.every(function(t){return t instanceof l}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new l({include:t,explicit:e})},e.exports=l},{"./common":2,"./exception":4,"./type":13}],8:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./json")]})},{"../schema":7,"./json":12}],9:[function(t,e,n){var r=t("../schema");e.exports=r.DEFAULT=new r({include:[t("./default_safe")],explicit:[t("../type/js/undefined"),t("../type/js/regexp"),t("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./core")],implicit:[t("../type/timestamp"),t("../type/merge")],explicit:[t("../type/binary"),t("../type/omap"),t("../type/pairs"),t("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(t,e,n){var r=t("../schema");e.exports=new r({explicit:[t("../type/str"),t("../type/seq"),t("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(t,e,n){var r=t("../schema");e.exports=new r({include:[t("./failsafe")],implicit:[t("../type/null"),t("../type/bool"),t("../type/int"),t("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(t,e,n){var r=t("./exception"),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];e.exports=function(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===i.indexOf(e))throw new r('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=(n=e.styleAliases||null,s={},null!==n&&Object.keys(n).forEach(function(t){n[t].forEach(function(e){s[String(e)]=t})}),s),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.');var n,s}},{"./exception":4}],14:[function(t,e,n){var r,i=t("../type"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,s=o;for(n=0;n<i;n++)if(!((e=s.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=o,l=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(l>>16&255),a.push(l>>8&255),a.push(255&l)),l=l<<6|s.indexOf(r.charAt(e));return 0==(n=i%4*6)?(a.push(l>>16&255),a.push(l>>8&255),a.push(255&l)):18===n?(a.push(l>>10&255),a.push(l>>2&255)):12===n&&a.push(l>>4&255),a},predicate:function(t){return r&&r.isBuffer(t)},represent:function(t){var e,n,r="",i=0,s=t.length,l=o;for(e=0;e<s;e++)e%3==0&&e&&(r+=l[i>>18&63],r+=l[i>>12&63],r+=l[i>>6&63],r+=l[63&i]),i=(i<<8)+t[e];return 0==(n=s%3)?(r+=l[i>>18&63],r+=l[i>>12&63],r+=l[i>>6&63],r+=l[63&i]):2===n?(r+=l[i>>10&63],r+=l[i>>4&63],r+=l[i<<2&63],r+=l[64]):1===n&&(r+=l[i>>2&63],r+=l[i<<4&63],r+=l[64],r+=l[64]),r}})},{"../type":13}],15:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(t,e,n){var r=t("../common"),i=t("../type"),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),s=/^[-+]?[0-9]+e/;e.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!o.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n,r,i;return e=t.replace(/_/g,"").toLowerCase(),n="-"===e[0]?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||r.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(t))return"-0.0";return n=t.toString(10),s.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(t,e,n){var r=t("../common"),i=t("../type");function o(t){return 48<=t&&t<=55}function s(t){return 48<=t&&t<=57}e.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,i=0,l=!1;if(!r)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===r)return!0;if("b"===(e=t[++i])){for(i++;i<r;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;l=!0}return l&&"_"!==e}if("x"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!(48<=(n=t.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;l=!0}return l&&"_"!==e}for(;i<r;i++)if("_"!==(e=t[i])){if(!o(t.charCodeAt(i)))return!1;l=!0}return l&&"_"!==e}if("_"===e)return!1;for(;i<r;i++)if("_"!==(e=t[i])){if(":"===e)break;if(!s(t.charCodeAt(i)))return!1;l=!0}return!(!l||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(i)))},construct:function(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),r=r.slice(1),e=r[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!r.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(t,e,n){var r;r=window.esprima;var i=t("../../type");e.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=r.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(t){return!1}},construct:function(t){var e,n="("+t+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(t){o.push(t.name)}),e=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(e[0]+1,e[1]-1)):new Function(o,"return "+n.slice(e[0],e[1]))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}})},{"../../type":13}],19:[function(t,e,n){var r=t("../../type");e.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}})},{"../../type":13}],20:[function(t,e,n){var r=t("../../type");e.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(t){return void 0===t},represent:function(){return""}})},{"../../type":13}],21:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},{"../type":13}],22:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}})},{"../type":13}],23:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(t,e,n){var r=t("../type"),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,s,l,a=[],c=t;for(e=0,n=c.length;e<n;e+=1){if(r=c[e],l=!1,"[object Object]"!==o.call(r))return!1;for(s in r)if(i.call(r,s)){if(l)return!1;l=!0}if(!l)return!1;if(-1!==a.indexOf(s))return!1;a.push(s)}return!0},construct:function(t){return null!==t?t:[]}})},{"../type":13}],25:[function(t,e,n){var r=t("../type"),i=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,s,l=t;for(s=new Array(l.length),e=0,n=l.length;e<n;e+=1){if(r=l[e],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;s[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}})},{"../type":13}],26:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},{"../type":13}],27:[function(t,e,n){var r=t("../type"),i=Object.prototype.hasOwnProperty;e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(i.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})},{"../type":13}],28:[function(t,e,n){var r=t("../type");e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},{"../type":13}],29:[function(t,e,n){var r=t("../type"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==i.exec(t)||null!==o.exec(t))},construct:function(t){var e,n,r,s,l,a,c,u,f,p,d=0,h=null;if(null===(e=i.exec(t))&&(e=o.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(n,r,s));if(l=+e[4],a=+e[5],c=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(u=+e[10],f=+(e[11]||0),h=6e4*(60*u+f),"-"===e[9]&&(h=-h)),p=new Date(Date.UTC(n,r,s,l,a,c,d)),h&&p.setTime(p.getTime()-h),p},instanceOf:Date,represent:function(t){return t.toISOString()}})},{"../type":13}],"/":[function(t,e,n){var r=t("./lib/js-yaml.js");e.exports=r},{"./lib/js-yaml.js":1}]},{},[])("/")})),l=n(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)});l.assign,l.shrinkBuf,l.setTyped,l.Buf8,l.Buf16,l.Buf32;var a=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};var c=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var u=function(t,e,n,r){var i=c,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},f=function(t,e){var n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v,b,$,w,x,k,_,A,S;n=t.state,r=t.next_in,A=t.input,i=r+(t.avail_in-5),o=t.next_out,S=t.output,s=o-(e-t.avail_out),l=o+(t.avail_out-257),a=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,p=n.window,d=n.hold,h=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{h<15&&(d+=A[r++]<<h,h+=8,d+=A[r++]<<h,h+=8),b=m[d&y];e:for(;;){if(d>>>=$=b>>>24,h-=$,0===($=b>>>16&255))S[o++]=65535&b;else{if(!(16&$)){if(0==(64&$)){b=m[(65535&b)+(d&(1<<$)-1)];continue e}if(32&$){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,($&=15)&&(h<$&&(d+=A[r++]<<h,h+=8),w+=d&(1<<$)-1,d>>>=$,h-=$),h<15&&(d+=A[r++]<<h,h+=8,d+=A[r++]<<h,h+=8),b=g[d&v];n:for(;;){if(d>>>=$=b>>>24,h-=$,!(16&($=b>>>16&255))){if(0==(64&$)){b=g[(65535&b)+(d&(1<<$)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,h<($&=15)&&(d+=A[r++]<<h,(h+=8)<$&&(d+=A[r++]<<h,h+=8)),(x+=d&(1<<$)-1)>a){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=$,h-=$,x>($=o-s)){if(($=x-$)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,_=p,0===f){if(k+=c-$,$<w){w-=$;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}}else if(f<$){if(k+=c+f-$,($-=f)<w){w-=$;do{S[o++]=p[k++]}while(--$);if(k=0,f<w){w-=$=f;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}}}else if(k+=f-$,$<w){w-=$;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}for(;w>2;)S[o++]=_[k++],S[o++]=_[k++],S[o++]=_[k++],w-=3;w&&(S[o++]=_[k++],w>1&&(S[o++]=_[k++]))}else{k=o-x;do{S[o++]=S[k++],S[o++]=S[k++],S[o++]=S[k++],w-=3}while(w>2);w&&(S[o++]=S[k++],w>1&&(S[o++]=S[k++]))}break}}break}}while(r<i&&o<l);r-=w=h>>3,d&=(1<<(h-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<l?l-o+257:257-(o-l),n.hold=d,n.bits=h},p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],g=function(t,e,n,r,i,o,s,a){var c,u,f,g,y,v,b,$,w,x=a.bits,k=0,_=0,A=0,S=0,C=0,O=0,T=0,E=0,I=0,j=0,N=null,M=0,B=new l.Buf16(16),L=new l.Buf16(16),F=null,R=0;for(k=0;k<=15;k++)B[k]=0;for(_=0;_<r;_++)B[e[n+_]]++;for(C=x,S=15;S>=1&&0===B[S];S--);if(C>S&&(C=S),0===S)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(A=1;A<S&&0===B[A];A++);for(C<A&&(C=A),E=1,k=1;k<=15;k++)if(E<<=1,(E-=B[k])<0)return-1;if(E>0&&(0===t||1!==S))return-1;for(L[1]=0,k=1;k<15;k++)L[k+1]=L[k]+B[k];for(_=0;_<r;_++)0!==e[n+_]&&(s[L[e[n+_]]++]=_);if(0===t?(N=F=s,v=19):1===t?(N=p,M-=257,F=d,R-=257,v=256):(N=h,F=m,v=-1),j=0,_=0,k=A,y=o,O=C,T=0,f=-1,g=(I=1<<C)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){b=k-T,s[_]<v?($=0,w=s[_]):s[_]>v?($=F[R+s[_]],w=N[M+s[_]]):($=96,w=0),c=1<<k-T,A=u=1<<O;do{i[y+(j>>T)+(u-=c)]=b<<24|$<<16|w|0}while(0!==u);for(c=1<<k-1;j&c;)c>>=1;if(0!==c?(j&=c-1,j+=c):j=0,_++,0==--B[k]){if(k===S)break;k=e[n+s[_]]}if(k>C&&(j&g)!==f){for(0===T&&(T=C),y+=A,E=1<<(O=k-T);O+T<S&&!((E-=B[O+T])<=0);)O++,E<<=1;if(I+=1<<O,1===t&&I>852||2===t&&I>592)return 1;i[f=j&g]=C<<24|O<<16|y-o|0}}return 0!==j&&(i[y+j]=k-T<<24|64<<16|0),a.bits=C,0},y=0,v=1,b=2,$=4,w=5,x=6,k=0,_=1,A=2,S=-2,C=-3,O=-4,T=-5,E=8,I=1,j=2,N=3,M=4,B=5,L=6,F=7,R=8,D=9,P=10,z=11,H=12,U=13,Z=14,G=15,W=16,q=17,K=18,Y=19,V=20,X=21,J=22,Q=23,tt=24,et=25,nt=26,rt=27,it=28,ot=29,st=30,lt=31,at=32,ct=852,ut=592,ft=15;function pt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function dt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new l.Buf32(ct),e.distcode=e.distdyn=new l.Buf32(ut),e.sane=1,e.back=-1,k):S}function mt(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ht(t)):S}function gt(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?S:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,mt(t))):S}function yt(t,e){var n,r;return t?(r=new dt,t.state=r,r.window=null,(n=gt(t,e))!==k&&(t.state=null),n):S}var vt,bt,$t=!0;function wt(t){if($t){var e;for(vt=new l.Buf32(512),bt=new l.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(g(v,t.lens,0,288,vt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;g(b,t.lens,0,32,bt,0,t.work,{bits:5}),$t=!1}t.lencode=vt,t.lenbits=9,t.distcode=bt,t.distbits=5}function xt(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new l.Buf8(o.wsize)),r>=o.wsize?(l.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),l.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(l.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var kt={inflateReset:mt,inflateReset2:gt,inflateResetKeep:ht,inflateInit:function(t){return yt(t,ft)},inflateInit2:yt,inflate:function(t,e){var n,r,i,o,s,c,p,d,h,m,ct,ut,ft,dt,ht,mt,gt,yt,vt,bt,$t,kt,_t,At,St=0,Ct=new l.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return S;(n=t.state).mode===H&&(n.mode=U),s=t.next_out,i=t.output,p=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,d=n.hold,h=n.bits,m=c,ct=p,kt=k;t:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=U;break}for(;h<16;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(2&n.wrap&&35615===d){n.check=0,Ct[0]=255&d,Ct[1]=d>>>8&255,n.check=u(n.check,Ct,2,0),d=0,h=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=st;break}if((15&d)!==E){t.msg="unknown compression method",n.mode=st;break}if(h-=4,$t=8+(15&(d>>>=4)),0===n.wbits)n.wbits=$t;else if($t>n.wbits){t.msg="invalid window size",n.mode=st;break}n.dmax=1<<$t,t.adler=n.check=1,n.mode=512&d?P:H,d=0,h=0;break;case j:for(;h<16;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(n.flags=d,(255&n.flags)!==E){t.msg="unknown compression method",n.mode=st;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=st;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Ct[0]=255&d,Ct[1]=d>>>8&255,n.check=u(n.check,Ct,2,0)),d=0,h=0,n.mode=N;case N:for(;h<32;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.head&&(n.head.time=d),512&n.flags&&(Ct[0]=255&d,Ct[1]=d>>>8&255,Ct[2]=d>>>16&255,Ct[3]=d>>>24&255,n.check=u(n.check,Ct,4,0)),d=0,h=0,n.mode=M;case M:for(;h<16;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(Ct[0]=255&d,Ct[1]=d>>>8&255,n.check=u(n.check,Ct,2,0)),d=0,h=0,n.mode=B;case B:if(1024&n.flags){for(;h<16;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(Ct[0]=255&d,Ct[1]=d>>>8&255,n.check=u(n.check,Ct,2,0)),d=0,h=0}else n.head&&(n.head.extra=null);n.mode=L;case L:if(1024&n.flags&&((ut=n.length)>c&&(ut=c),ut&&(n.head&&($t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),l.arraySet(n.head.extra,r,o,ut,$t)),512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,n.length-=ut),n.length))break t;n.length=0,n.mode=F;case F:if(2048&n.flags){if(0===c)break t;ut=0;do{$t=r[o+ut++],n.head&&$t&&n.length<65536&&(n.head.name+=String.fromCharCode($t))}while($t&&ut<c);if(512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,$t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=R;case R:if(4096&n.flags){if(0===c)break t;ut=0;do{$t=r[o+ut++],n.head&&$t&&n.length<65536&&(n.head.comment+=String.fromCharCode($t))}while($t&&ut<c);if(512&n.flags&&(n.check=u(n.check,r,ut,o)),c-=ut,o+=ut,$t)break t}else n.head&&(n.head.comment=null);n.mode=D;case D:if(512&n.flags){for(;h<16;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(d!==(65535&n.check)){t.msg="header crc mismatch",n.mode=st;break}d=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=H;break;case P:for(;h<32;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}t.adler=n.check=pt(d),d=0,h=0,n.mode=z;case z:if(0===n.havedict)return t.next_out=s,t.avail_out=p,t.next_in=o,t.avail_in=c,n.hold=d,n.bits=h,A;t.adler=n.check=1,n.mode=H;case H:if(e===w||e===x)break t;case U:if(n.last){d>>>=7&h,h-=7&h,n.mode=rt;break}for(;h<3;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}switch(n.last=1&d,h-=1,3&(d>>>=1)){case 0:n.mode=Z;break;case 1:if(wt(n),n.mode=V,e===x){d>>>=2,h-=2;break t}break;case 2:n.mode=q;break;case 3:t.msg="invalid block type",n.mode=st}d>>>=2,h-=2;break;case Z:for(d>>>=7&h,h-=7&h;h<32;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=st;break}if(n.length=65535&d,d=0,h=0,n.mode=G,e===x)break t;case G:n.mode=W;case W:if(ut=n.length){if(ut>c&&(ut=c),ut>p&&(ut=p),0===ut)break t;l.arraySet(i,r,o,ut,s),c-=ut,o+=ut,p-=ut,s+=ut,n.length-=ut;break}n.mode=H;break;case q:for(;h<14;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(n.nlen=257+(31&d),d>>>=5,h-=5,n.ndist=1+(31&d),d>>>=5,h-=5,n.ncode=4+(15&d),d>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=st;break}n.have=0,n.mode=K;case K:for(;n.have<n.ncode;){for(;h<3;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.lens[Ot[n.have++]]=7&d,d>>>=3,h-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_t={bits:n.lenbits},kt=g(y,n.lens,0,19,n.lencode,0,n.work,_t),n.lenbits=_t.bits,kt){t.msg="invalid code lengths set",n.mode=st;break}n.have=0,n.mode=Y;case Y:for(;n.have<n.nlen+n.ndist;){for(;mt=(St=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(gt<16)d>>>=ht,h-=ht,n.lens[n.have++]=gt;else{if(16===gt){for(At=ht+2;h<At;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(d>>>=ht,h-=ht,0===n.have){t.msg="invalid bit length repeat",n.mode=st;break}$t=n.lens[n.have-1],ut=3+(3&d),d>>>=2,h-=2}else if(17===gt){for(At=ht+3;h<At;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}h-=ht,$t=0,ut=3+(7&(d>>>=ht)),d>>>=3,h-=3}else{for(At=ht+7;h<At;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}h-=ht,$t=0,ut=11+(127&(d>>>=ht)),d>>>=7,h-=7}if(n.have+ut>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=st;break}for(;ut--;)n.lens[n.have++]=$t}}if(n.mode===st)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=st;break}if(n.lenbits=9,_t={bits:n.lenbits},kt=g(v,n.lens,0,n.nlen,n.lencode,0,n.work,_t),n.lenbits=_t.bits,kt){t.msg="invalid literal/lengths set",n.mode=st;break}if(n.distbits=6,n.distcode=n.distdyn,_t={bits:n.distbits},kt=g(b,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,_t),n.distbits=_t.bits,kt){t.msg="invalid distances set",n.mode=st;break}if(n.mode=V,e===x)break t;case V:n.mode=X;case X:if(c>=6&&p>=258){t.next_out=s,t.avail_out=p,t.next_in=o,t.avail_in=c,n.hold=d,n.bits=h,f(t,ct),s=t.next_out,i=t.output,p=t.avail_out,o=t.next_in,r=t.input,c=t.avail_in,d=n.hold,h=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;mt=(St=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(mt&&0==(240&mt)){for(yt=ht,vt=mt,bt=gt;mt=(St=n.lencode[bt+((d&(1<<yt+vt)-1)>>yt)])>>>16&255,gt=65535&St,!(yt+(ht=St>>>24)<=h);){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}d>>>=yt,h-=yt,n.back+=yt}if(d>>>=ht,h-=ht,n.back+=ht,n.length=gt,0===mt){n.mode=nt;break}if(32&mt){n.back=-1,n.mode=H;break}if(64&mt){t.msg="invalid literal/length code",n.mode=st;break}n.extra=15&mt,n.mode=J;case J:if(n.extra){for(At=n.extra;h<At;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Q;case Q:for(;mt=(St=n.distcode[d&(1<<n.distbits)-1])>>>16&255,gt=65535&St,!((ht=St>>>24)<=h);){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(0==(240&mt)){for(yt=ht,vt=mt,bt=gt;mt=(St=n.distcode[bt+((d&(1<<yt+vt)-1)>>yt)])>>>16&255,gt=65535&St,!(yt+(ht=St>>>24)<=h);){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}d>>>=yt,h-=yt,n.back+=yt}if(d>>>=ht,h-=ht,n.back+=ht,64&mt){t.msg="invalid distance code",n.mode=st;break}n.offset=gt,n.extra=15&mt,n.mode=tt;case tt:if(n.extra){for(At=n.extra;h<At;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=st;break}n.mode=et;case et:if(0===p)break t;if(ut=ct-p,n.offset>ut){if((ut=n.offset-ut)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=st;break}ut>n.wnext?(ut-=n.wnext,ft=n.wsize-ut):ft=n.wnext-ut,ut>n.length&&(ut=n.length),dt=n.window}else dt=i,ft=s-n.offset,ut=n.length;ut>p&&(ut=p),p-=ut,n.length-=ut;do{i[s++]=dt[ft++]}while(--ut);0===n.length&&(n.mode=X);break;case nt:if(0===p)break t;i[s++]=n.length,p--,n.mode=X;break;case rt:if(n.wrap){for(;h<32;){if(0===c)break t;c--,d|=r[o++]<<h,h+=8}if(ct-=p,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?u(n.check,i,ct,s-ct):a(n.check,i,ct,s-ct)),ct=p,(n.flags?d:pt(d))!==n.check){t.msg="incorrect data check",n.mode=st;break}d=0,h=0}n.mode=it;case it:if(n.wrap&&n.flags){for(;h<32;){if(0===c)break t;c--,d+=r[o++]<<h,h+=8}if(d!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=st;break}d=0,h=0}n.mode=ot;case ot:kt=_;break t;case st:kt=C;break t;case lt:return O;case at:default:return S}return t.next_out=s,t.avail_out=p,t.next_in=o,t.avail_in=c,n.hold=d,n.bits=h,(n.wsize||ct!==t.avail_out&&n.mode<st&&(n.mode<rt||e!==$))&&xt(t,t.output,t.next_out,ct-t.avail_out),m-=t.avail_in,ct-=t.avail_out,t.total_in+=m,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?u(n.check,i,ct,t.next_out-ct):a(n.check,i,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===V||n.mode===G?256:0),(0===m&&0===ct||e===$)&&kt===k&&(kt=T),kt},inflateEnd:function(t){if(!t||!t.state)return S;var e=t.state;return e.window&&(e.window=null),t.state=null,k},inflateGetHeader:function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?S:(n.head=e,e.done=!1,k):S},inflateSetDictionary:function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==z?S:n.mode===z&&a(1,e,r,0)!==n.check?C:xt(t,e,r,r)?(n.mode=lt,O):(n.havedict=1,k):S},inflateInfo:"pako inflate (from Nodeca project)"},_t=!0,At=!0;try{String.fromCharCode.apply(null,[0])}catch(t){_t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){At=!1}for(var St=new l.Buf8(256),Ct=0;Ct<256;Ct++)St[Ct]=Ct>=252?6:Ct>=248?5:Ct>=240?4:Ct>=224?3:Ct>=192?2:1;St[254]=St[254]=1;function Ot(t,e){if(e<65534&&(t.subarray&&At||!t.subarray&&_t))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var Tt={string2buf:function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new l.Buf8(a),o=0,i=0;o<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2binstring:function(t){return Ot(t,t.length)},binstring2buf:function(t){for(var e=new l.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},buf2string:function(t,e){var n,r,i,o,s=e||t.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)l[r++]=i;else if((o=St[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return Ot(l,r)},utf8border:function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+St[t[n]]>e?n:e}},Et={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},It={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var jt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var Nt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Mt=Object.prototype.toString;function Bt(t){if(!(this instanceof Bt))return new Bt(t);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jt,this.strm.avail_out=0;var n=kt.inflateInit2(this.strm,e.windowBits);if(n!==Et.Z_OK)throw new Error(It[n]);if(this.header=new Nt,kt.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Tt.string2buf(e.dictionary):"[object ArrayBuffer]"===Mt.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=kt.inflateSetDictionary(this.strm,e.dictionary))!==Et.Z_OK))throw new Error(It[n])}function Lt(t,e){var n=new Bt(e);if(n.push(t,!0),n.err)throw n.msg||It[n.err];return n.result}Bt.prototype.push=function(t,e){var n,r,i,o,s,a=this.strm,c=this.options.chunkSize,u=this.options.dictionary,f=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?Et.Z_FINISH:Et.Z_NO_FLUSH,"string"==typeof t?a.input=Tt.binstring2buf(t):"[object ArrayBuffer]"===Mt.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new l.Buf8(c),a.next_out=0,a.avail_out=c),(n=kt.inflate(a,Et.Z_NO_FLUSH))===Et.Z_NEED_DICT&&u&&(n=kt.inflateSetDictionary(this.strm,u)),n===Et.Z_BUF_ERROR&&!0===f&&(n=Et.Z_OK,f=!1),n!==Et.Z_STREAM_END&&n!==Et.Z_OK)return this.onEnd(n),this.ended=!0,!1;a.next_out&&(0!==a.avail_out&&n!==Et.Z_STREAM_END&&(0!==a.avail_in||r!==Et.Z_FINISH&&r!==Et.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Tt.utf8border(a.output,a.next_out),o=a.next_out-i,s=Tt.buf2string(a.output,i),a.next_out=o,a.avail_out=c-o,o&&l.arraySet(a.output,a.output,i,o,0),this.onData(s)):this.onData(l.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(f=!0)}while((a.avail_in>0||0===a.avail_out)&&n!==Et.Z_STREAM_END);return n===Et.Z_STREAM_END&&(r=Et.Z_FINISH),r===Et.Z_FINISH?(n=kt.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Et.Z_OK):r!==Et.Z_SYNC_FLUSH||(this.onEnd(Et.Z_OK),a.avail_out=0,!0)},Bt.prototype.onData=function(t){this.chunks.push(t)},Bt.prototype.onEnd=function(t){t===Et.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ft,Rt={Inflate:Bt,inflate:Lt,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Lt(t,e)},ungzip:Lt};function Dt(t,e,n,r){if(e)for(var i=0,o=e;i<o.length;i++){var s=n[o[i]];s&&(s[r]=s[r]||[],s[r].push(t))}}var Pt=function(){function t(){this.articles=new o(Ft.articlesOrder,{keys:["id","type","title","text"],tokenize:!0,matchAllTokens:!0,distance:10,threshold:.1})}return t.prototype.findArticles=function(t){return this.articles.search(t)},t}(),zt=function(){return function(t){if(Object.assign(this,t),Ft.manufacture[this.name]=this,this.requires)for(var e=0,n=this.requires;e<n.length;e++){var r=n[e],i=Ft.research[r];i&&(i.manufacture||(i.manufacture=[]),i.manufacture.push(this.name))}if(this.producedItems)for(var o=0,s=Object.keys(this.producedItems);o<s.length;o++){var l=s[o];(u=Ft.items[l])&&(u.manufacture||(u.manufacture={}),u.manufacture[this.name]=this.producedItems[l])}if(this.requiredItems)for(var a=0,c=Object.keys(this.requiredItems);a<c.length;a++){var u;l=c[a],(u=Ft.items[l])&&(u.componentOf||(u.componentOf={}),u.componentOf[this.name]=this.requiredItems[l])}if(this.randomProducedItems){this.chanceSum=0;for(var f=0,p=this.randomProducedItems;f<p.length;f++){var d=p[f];this.chanceSum+=d[0]}}Ut.add("allowsManufacture",this.name,this.requiresBaseFunc),Qt.create({id:this.name,section:"MANUFACTURE",type_id:"MANUFACTURE"})}}(),Ht=function(){return function(t){Object.assign(this,t),Ft.research[this.name]=this,Ut.add("allowsResearching",this.name,this.requiresBaseFunc),Qt.create({id:this.name,section:"RESEARCH",type_id:"RESEARCH"})}}(),Ut=function(){function t(t){this.id=t,Qt.create({id:t,type_id:"SERVICES",section:"SERVICES"})}return t.add=function(e,n,r){if(r)for(var i=0,o=r;i<o.length;i++){var s=o[i];s in Ft.baseServices||(Ft.baseServices[s]=new t(s)),e in Ft.baseServices[s]||(Ft.baseServices[s][e]=[]),Ft.baseServices[s][e].push(n)}},t}(),Zt=function(){return function(t){Object.assign(this,t),Ft.alienDeployments[this.type]=this;var e=Ft.startingConditions[this.startingCondition];e&&e.deployments.push(this.type)}}(),Gt=function(){return function(t){Object.assign(this,t),Ft.craftWeapons[this.type]=this,Ut.add("canBuy",this.type,this.requiresBuyBaseFunc)}}(),Wt=function(){return function(t){this.startingConditions=[],Object.assign(this,t),Ft.crafts[this.type]=this}}(),qt=function(){return function(t){Object.assign(this,t),Ft.ufos[this.type]=this}}(),Kt=function(){return function(t){Object.assign(this,t),Ft.facilities[this.type]=this,Ut.add("providedBy",this.type,this.provideBaseFunc),Ut.add("allowsBuilding",this.type,this.requiresBaseFunc),Ut.add("forbidsBuilding",this.type,this.forbiddenBaseFunc)}}(),Yt=function(){return function(t){this.allowedCraft=[],this.allowedItemCategories=[],this.allowedArmors=[],this.allowedVehicles=[],this.deployments=[],Object.assign(this,t),Ft.startingConditions[this.type]=this,Ft.lang[this.type]=Ft.str(this.type.substr(12));for(var e=0,n=this.allowedCraft;e<n.length;e++){var r=n[e];Ft.crafts[r].startingConditions.push(this.type)}Qt.create({id:this.type,section:"CONDITIONS",type_id:"CONDITIONS"})}}(),Vt=function(){return function(t){Object.assign(this,t),Ft.units[this.type]=this;var e=Ft.armors[t.armor];e&&(e.users=e.users||[],e.users.push(this.type))}}(),Xt={snap:15,auto:7,aimed:200},Jt=function(){return function(t,e){this.mode=e,this.possible=!1,this.flatTime=!1,this.shots=1,this.pellets=1;var n=e.charAt(0).toUpperCase()+e.substr(1),r="ammo"==e&&2==t.battleType||"melee"==e&&3==t.battleType||"psi"==e&&9==t.battleType||"throw"==e&&[4,5].includes(t.battleType);if("throw"==e&&!r)return null;if(!(t["accuracy"+n]||t["cost"+n]||r))return null;"STR_THROWING_HAMMER"==t.type&&(console.log(t),console.log(e)),"melee"==e&&3!=t.battleType?(this.damage=t.meleePower,this.damageBonus=t.meleeBonus,this.damageType=t.meleeType):t.compatibleAmmo||(this.damage=t.power,this.damageBonus=t.damageBonus,this.damageType=t.damageType),this.pellets=t.shotgunPellets||1,this.shots="auto"==e?t.autoShots||3:1,this.name=e.substr(0,1).toUpperCase()+e.substr(1);var i="conf"+this.name;if(i in t){var o=t[i];o.name&&(this.name=Ft.str(o.name)),o.shots&&(this.shots=o.shots),delete t[i]}if(t[e+"AttackName"]&&(this.name=Ft.str(t[e+"AttackName"])),"melee"==e&&(this.alter=t.meleeAlter),3!=t.battleType&&"melee"==e||(this.alter=t.damageAlter),"ammo"!=e){("melee"==e&&3==t.battleType||"melee"!=e)&&t.flatRate&&(this.flatTime=t.flatRate),t["flat"+n]&&t["flat"+n].time&&(this.flatTime=!0),"Psi"==n&&(n="Use"),this.cost=this.cost=t["cost"+n]||{time:t["tu"+n],energy:0},this.accuracy=t["accuracy"+n]||100;var s="throw"==e?t.throwMultiplier:"melee"==e?t.meleeMultiplier:t.accuracyMultiplier;s||((s={})["throw"==e?"throwing":"melee"==e?"melee":"firing"]=1),this.accuracyMultiplier=s}for(var l in this.alter&&this.alter.ResistType&&(this.damageType=this.alter.ResistType),e+"Range"in t&&(this.alter=Object.assign({},this.alter||{}),this.alter.range=t[e+"Range"]),this.alter)"damageType"!=l&&"ResistType"!=l||(this.alter[l]=Ft.damageTypes[this.alter[l]]);this.range=t[e+"Range"]||t[e.substr(0,3)+"Range"]||this.alter&&this.alter.range||Xt[e],this.possible=!0}}(),Qt=function(){function t(t){this.id=t.id,this.title=t.title||Ft.str(t.id),Ft.lang[this.id]=this.title,this.text=Ft.lang[t.text]||Ft.lang[t.id+"_UFOPEDIA"],this.image_id=t.image_id,this.type_id=t.type_id||"-1",Ft.articles[this.id]=this;var e=t.id;Ft.articles[e]=this,t.section&&Ft.addToSection(this,t.section)}return t.create=function(e){if(e.id in Ft.articles){var n=Ft.articles[e.id];return e.section&&n.section!=e.section&&Ft.sections[e.section].add(n),n}return new t(e)},t}(),te=function(){function t(t,e){void 0===e&&(e="PEDIA"),this.id=t,this.type_id=e,this._articles=[],Ft.sections[t]=this,this.isType()?Ft.typeSectionsOrder.push(this):Ft.sectionsOrder.push(this),this.title=Ft.str(t),Qt.create({id:t,section:t,type_id:e})}return Object.defineProperty(t.prototype,"articles",{get:function(){return this._articles},enumerable:!0,configurable:!0}),t.prototype.isType=function(){return"TYPE"==this.type_id},t.prototype.add=function(t){this._articles.includes(t)||this._articles.push(t),t.section||(t.section=this)},t}(),ee=function(){return function(t){this.id=t.type||t.typeSingle,t.files&&(this.path=t.files[0],this.extra=t.files),t.fileSingle&&(this.path=t.fileSingle)}}(),ne=function(){return function(t){if(this.dollSprites={},this.armor={},Object.assign(this,t),Ft.armors[t.type]=this,this.layersDefinition){var e=this.layersDefaultPrefix;for(var n in this.layersDefinition){var r=this.layersDefinition[n],i=[];for(var o in r){var s=r[o];if(s&&s.length){var l=e+"__"+o+"__"+s;i.push(Ft.sprite(l))}}this.dollSprites[n]=i}}else if(this.spriteInv){var a=this.spriteInv,c=a.length;if(this.spriteInv+".SPK"in Ft.sprites)this.dollSprites={0:[Ft.path+Ft.sprites[this.spriteInv+".SPK"].path]};else for(var u in Ft.sprites)u.substr(0,c)==a&&(this.dollSprites[u.substr(c,u.length-c-4)]=[Ft.path+Ft.sprites[u].path])}if(this.armor={Front:this.frontArmor,Side:this.sideArmor,Rear:this.rearArmor,Under:this.underArmor},this.storeItem&&Ft.items[this.storeItem]){var f=Ft.items[this.storeItem];f.armors||(f.armors=[]),f.armors.push(this.type)}}}(),re=function(){function t(t){this.invWidth=1,this.invHeight=1,Object.assign(this,t),Ft.items[t.type]=this,this.sprite=Ft.bigSprite[this.bigSprite];var e=this;if("flatThrow"in e&&(e.flatThrowTime=e.flatThrow.time,delete e.flatThrow),Ut.add("canBuyItem",this.type,this.requiresBuyBaseFunc),this.categories)for(var n=0,r=this.categories;n<r.length;n++){var i=r[n];this.addCategory(i)}Qt.create({id:this.type,type_id:"ITEMS",section:"ITEMS"})}return t.prototype.attacks=function(){if(!this._attacks){this._attacks=[];for(var t=0,e=["ammo","melee","snap","aimed","auto","throw","psi"];t<e.length;t++){var n=new Jt(this,e[t]);if(n.possible&&(this._attacks.push(n),n.damageType&&this.addCategory("dmg="+Ft.damageTypes[n.damageType]),n.damageBonus)){for(var r in n.damageBonus)this.addCategory("dmg*"+r);for(var r in n.accuracyMultiplier)this.addCategory("acc*"+r)}}}return 2==this.battleType&&(this._attacks[0].item=this,this._attacks[0].mode="ammo"),this._attacks},t.prototype.addCategory=function(t){var e=Ft.categories[t]||[];e.includes(this)||e.push(this),Ft.categories[t]=e},t}(),ie=function(){function e(){this.articles={},this.articlesOrder=[],this.sections={},this.sectionsOrder=[],this.typeSectionsOrder=[],this.sprites={},this.raw={},this.items={},this.categories={},this.armors={},this.units={},this.crafts={},this.ufos={},this.facilities={},this.craftWeapons={},this.alienDeployments={},this.research={},this.manufacture={},this.startingConditions={},this.bigSprite=[],this.floorSprite=[],this.handSprite=[],this.baseSprite=[],this.sounds=[],this.baseServices={},this.redirect={},this.lang={},this.damageTypes=["STR_DAMAGE_NONE","STR_DAMAGE_ARMOR_PIERCING","STR_DAMAGE_INCENDIARY","STR_DAMAGE_HIGH_EXPLOSIVE","STR_DAMAGE_LASER_BEAM","STR_DAMAGE_PLASMA_BEAM","STR_DAMAGE_STUN","STR_DAMAGE_MELEE","STR_DAMAGE_ACID","STR_DAMAGE_SMOKE","STR_DAMAGE_10","STR_DAMAGE_11","STR_DAMAGE_12","STR_DAMAGE_13","STR_DAMAGE_14","STR_DAMAGE_15","STR_DAMAGE_16","STR_DAMAGE_17","STR_DAMAGE_18","STR_MANA"],this.battleTypes=["None (Geoscape-only item)","Firearm","Ammo","Melee","Grenade","Proximity Grenade","Medi-Kit","Motion Scanner","Mind Probe","Psi-Amp","Electro-flare","Corpse"],this.experienceTrainingModes=["default algorithm","train melee","train melee 50% chance","train melee 33% chance","train firing","train firing 50% chance","train firing 33% chance","train throwing","train throwing 50% chance","train throwing 33% chance","train firing and throwing","train firing or throwing (coinflip)","train reactions","train reactions and melee","train reactions and firing","train reactions and throwing","train reactions or melee (coinflip)","train reactions or firing (coinflip)","train reactions or throwing (coinflip)","train bravery","train bravery x2","train bravery and reactions","train bravery or reactions (coinflip)","train bravery or reactions (coinflip) x2","train VooDoo power","train VooDoo power x2","train VooDoo skill","train VooDoo skill x2","train VooDoo power and VooDoo skill","train VooDoo power and VooDoo skill x2","train VooDoo power or VooDoo skill (coinflip)","train VooDoo power or VooDoo skill (coinflip) x2","train nothing"],Ft=this}return e.prototype.damageTypeName=function(t){return this.lang[this.damageTypes[t]]},e.prototype.sound=function(t){return this.path+this.sounds[t]},e.prototype.str=function(t){return this.lang[t]||t},e.prototype.specialSprite=function(t,e){return e in this[t]?this.path+this[t][e]:"xpedia/0.png"},e.prototype.combineFiles=function(t,e){void 0===e&&(e=!1);for(var n=0,r=e?t.reverse():t;n<r.length;n++){var i=r[n];for(var o in i)if("lang"==o.substr(0,4)&&Object.assign(this.lang,i[o]),o in this.raw){var s=this.raw[o],l=i[o];if(s.concat)this.raw[o]=s.concat(l);else for(var a=0,c=l;a<c.length;a++){var u=c[a];u in s?Object.assign(s[u],l[u]):s[u]=l[u]}}else this.raw[o]=i[o]}},e.prototype.mergeRuls=function(t){for(var e in void 0===t&&(t=!1),this.raw){var n={},r={},i=this.raw[e];if(Array.isArray(i)){for(var o=0,s=i;o<s.length;o++){var l=s[o],a=l.type||l.id||l.name||l.delete||l.typeSingle;if(a&&!r[a])if("delete"in l)t?r[a]=!0:delete n[a];else if(a&&a in n)if(t)for(var c in l)c in n[a]||(n[a][c]=l[c]);else Object.assign(n[a],l);else n[a]=l}this.raw[e]=Object.values(n)}}},e.prototype.parse=function(t){this.combineFiles(t,!0);for(var e=["ITEMS","CONDITIONS","CATEGORIES","RESEARCH","MANUFACTURE","SERVICES"],n=0,r=e;n<r.length;n++){new te(r[n],"TYPE")}for(var i in this.mergeRuls(!0),this.path="user/mods/"+Ft.modName+"/",this.lang){var o=this.lang[i];"string"==typeof o&&(o=(o=(o=(o=o.replace(/^({ALT})+/,"")).replace(/{ALT}/g,"")).replace(/^({NEWLINE})+/,"")).replace(/{NEWLINE}/g,"<br/>"),this.lang[i]=o)}for(var s=0,l=Ft.damageTypes;s<l.length;s++){var a=l[s];Ft.categories["dmg="+a]=[],this.redirect[a]="dmg="+a,this.lang["dmg="+a]=this.lang[a]}this.parsePedia(this.raw.ufopaedia),this.parseSprites(this.raw.extraSprites),this.sprites["BIGOBS.PCK"]&&(this.bigSprite=this.sprites["BIGOBS.PCK"].extra),this.sprites["FLOOROB.PCK"]&&(this.floorSprite=this.sprites["FLOOROB.PCK"].extra),this.sprites["HANDOB.PCK"]&&(this.handSprite=this.sprites["HANDOB.PCK"].extra),this.sprites["BASEBITS.PCK"]&&(this.baseSprite=this.sprites["BASEBITS.PCK"].extra),this.raw.extraSounds&&this.raw.extraSounds[0]&&(this.sounds=this.raw.extraSounds[0].files);for(var c=0,u=this.raw.items;c<u.length;c++){var f=u[c];new re(f)}for(var p=0,d=this.raw.armors;p<d.length;p++){var h=d[p];new ne(h)}for(var m=0,g=this.raw.units;m<g.length;m++){var y=g[m];new Vt(y)}for(var v=0,b=this.raw.crafts;v<b.length;v++){var $=b[v];new Wt($)}for(var w=0,x=this.raw.craftWeapons;w<x.length;w++){var k=x[w];new Gt(k)}for(var _=0,A=this.raw.ufos;_<A.length;_++){var S=A[_];new qt(S)}for(var C=0,O=this.raw.facilities;C<O.length;C++){var T=O[C];new Kt(T)}if(this.raw.startingConditions)for(var E=0,I=this.raw.startingConditions;E<I.length;E++){var j=I[E];new Yt(j)}for(var N=0,M=this.raw.alienDeployments;N<M.length;N++){var B=M[N];new Zt(B)}for(var L=0,F=this.raw.research;L<F.length;L++){var R=F[L];new Ht(R)}for(var D=0,P=this.raw.manufacture;D<P.length;D++){var z=P[D];new zt(z)}for(var H=0,U=Object.values(this.facilities);H<U.length;H++){var Z=U[H];if(Z.buildCostItems)for(var G=0,W=Object.keys(Z.buildCostItems);G<W.length;G++){var q=W[G];(nt=Ft.items[q])&&(nt.componentOf||(nt.componentOf={}),nt.componentOf[Z.type]=Z.buildCostItems[q].build,nt.manufacture||(nt.manufacture={}),nt.manufacture[Z.type]=Z.buildCostItems[q].refund)}}for(var K=0,Y=Object.values(this.items);K<Y.length;K++){if((nt=Y[K]).attacks(),nt.compatibleAmmo)for(var V=0,X=nt.compatibleAmmo;V<X.length;V++){var J=X[V],Q=this.items[J];Q&&(Q.compatibleWeaponsList=Q.compatibleWeaponsList||[],Q.compatibleWeaponsList.push(nt.type))}}for(var tt=0,et=Object.values(this.research);tt<et.length;tt++){var nt,rt=et[tt];if(Dt(rt.name,rt.dependencies,Ft.research,"leadsTo"),Dt(rt.name,rt.getOneFree,Ft.research,"freeFrom"),rt.lookup&&rt.name!=rt.lookup&&this.research[rt.lookup]){var it=this.research[rt.lookup];it.seeAlso=it.seeAlso||[],it.seeAlso.push(rt.name);var ot=this.article(rt.lookup),st=this.article(rt.name);Ft.lang[st.id]||(st.title=ot.title),st.text=ot.text,st.image_id=ot.image_id}if(rt.spawnedItem)(nt=Ft.items[rt.spawnedItem]).spawnedBy=nt.spawnedBy||[],nt.spawnedBy.push(rt.name)}this.ourArmors=Object.values(this.armors).filter(function(t){return t.units}).map(function(t){return t.type});for(var lt=0,at=e;lt<at.length;lt++){var ct=at[lt];Ft.sections[ct]._articles=Ft.sections[ct].articles.sort(function(t,e){return t.title<e.title?-1:1})}for(var ut=0,ft=Object.keys(this.categories);ut<ft.length;ut++){var pt=ft[ut];Qt.create({id:pt,title:Ft.str(pt),type_id:"CATEGORIES",section:"CATEGORIES"})}console.log(this),this.search=new Pt},e.prototype.parsePedia=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.id){var i=new Qt(r);this.articlesOrder.push(i),this.articles[i.id]=i}}},e.prototype.parseSprites=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=new ee(r);this.sprites[i.id]=i}},e.prototype.findNextArticle=function(t,e){if(!t)return null;var n=t.section,r=n?n.articles:this.articlesOrder,i=r.findIndex(function(e){return e.id==t.id});return null!=i?r[i+e]:void 0},e.prototype.decamelize=function(t,e){if(void 0===e&&(e=" "),"string"==typeof t){if(Ft.lang[t])return Ft.lang[t];if(this.lang[oe[t]])return this.lang[oe[t]];t=(t=t.includes("_")&&-1==t.search(/[a-z]/)?t.replace(/_/g,"_"):t.replace(/([^A-Z])([A-Z])/g,"$1"+e+"$2")).substr(0,1).toUpperCase()+t.substr(1).toLowerCase()}return t},e.prototype.sprite=function(t){return t in this.sprites?this.path+this.sprites[t].path:this.path+t},e.prototype.load=function(e){return n=this,r=void 0,o=function(){var n,r;return t(this,function(t){"base64"==(e=e.trim()).substr(0,6)&&(e=e.substr(6),n=atob(e),e=Rt.inflate(n,{to:"string"})),r=function(t){for(var e,n=[],r=/^FILE: (.+)\n/gm,i=[];e=r.exec(t);)i.push(e);for(var o=function(e){var r=i[e][1],o=void 0;if("п»ї"==(o=e<i.length-1?t.substr(i[e].index+7+r.length,i[e+1].index-i[e].index-7-r.length):t.substr(i[e].index+7+r.length)).substr(1,3)&&(o=o.substr(4)),"TEXT@"==r.substr(0,5))return Ft.lang[r.substr(5)]=o,"continue";var l=void 0;if("JSON@"==r.substr(0,5))l=JSON.parse(o),r=r.substr(5);else try{l=s.load(o,{json:!0,filename:r,onWarning:function(t){console.log(r),console.log(t.message)}})}catch(t){console.log(t.message)}if("xpedia"==r)return Ft.config=l,Ft.modName=l.mod_name,"continue";l&&n.push(l)},l=0;l<i.length;l++)o(l);return n}(e);try{this.parse(r)}catch(t){console.error(t)}return[2]})},new((i=void 0)||(i=Promise))(function(t,e){function s(t){try{a(o.next(t))}catch(t){e(t)}}function l(t){try{a(o.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new i(function(t){t(e.value)}).then(s,l)}a((o=o.apply(n,r||[])).next())});var n,r,i,o},e.prototype.addToSection=function(t,e){var n;return n=e in Ft.sections?Ft.sections[e]:Ft.sections[e]=new te(e),t.id!=n.id&&n.add(t),t.section=n,n},e.prototype.linksByType=function(t){switch(t){case"CONDITIONS":return Object.keys(this.startingConditions).map(function(t){return"CONDITIONS_"+t})}return[]},e.prototype.bodiesCompare=function(t){for(var e in t)2==t[e].length&&(t[e]=("M"==t[e].charAt(0)?"A":"B")+"0"+t[e].substr(1));return t[0]>t[1]?1:-1},e.prototype.article=function(t){return this.articles[this.redirect[t]||t]},e}(),oe={dependencies:"STR_DEPENDS_ON",seeAlso:"STR_ITEM_REQUIRED",requiresBaseFunc:"STR_SERVICES_REQUIRED",freeFrom:"STR_GET_FOR_FREE_FROM",leadsTo:"STR_LEADS_TO",unlocks:"STR_UNLOCKS",disables:"STR_DISABLES",getOneFree:"STR_GIVES_ONE_FOR_FREE",manufacture:"STR_REQUIRED_BY",randomProducedItems:"STR_RANDOM_PRODUCTION_DISCLAIMER",cost:"STR_COST"};function se(){}function le(t){return t()}function ae(){return Object.create(null)}function ce(t){t.forEach(le)}function ue(t){return"function"==typeof t}function fe(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function pe(t){return null==t?"":t}function de(t,e){t.appendChild(e)}function he(t,e,n){t.insertBefore(e,n||null)}function me(t){t.parentNode.removeChild(t)}function ge(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ye(t){return document.createElement(t)}function ve(t){return document.createTextNode(t)}function be(){return ve(" ")}function $e(){return ve("")}function we(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function xe(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ke(t,e){e=""+e,t.data!==e&&(t.data=e)}function _e(t,e){(null!=e||t.value)&&(t.value=e)}function Ae(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}class Se{constructor(t,e=null){this.e=ye("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)he(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(me)}}let Ce;function Oe(t){Ce=t}function Te(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function Ee(){const t=Te();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}const Ie=[],je=[],Ne=[],Me=[],Be=Promise.resolve();let Le=!1;function Fe(){Le||(Le=!0,Be.then(De))}function Re(t){Ne.push(t)}function De(){const t=new Set;do{for(;Ie.length;){const t=Ie.shift();Oe(t),Pe(t.$$)}for(;je.length;)je.pop()();for(let e=0;e<Ne.length;e+=1){const n=Ne[e];t.has(n)||(n(),t.add(n))}Ne.length=0}while(Ie.length);for(;Me.length;)Me.pop()();Le=!1}function Pe(t){if(null!==t.fragment){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Re)}}const ze=new Set;let He;function Ue(){He={r:0,c:[],p:He}}function Ze(){He.r||ce(He.c),He=He.p}function Ge(t,e){t&&t.i&&(ze.delete(t),t.i(e))}function We(t,e,n,r){if(t&&t.o){if(ze.has(t))return;ze.add(t),He.c.push(()=>{ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const qe="undefined"!=typeof window?window:global;function Ke(t){t&&t.c()}function Ye(t,e,n){const{fragment:r,on_mount:i,on_destroy:o,after_update:s}=t.$$;r&&r.m(e,n),Re(()=>{const e=i.map(le).filter(ue);o?o.push(...e):ce(e),t.$$.on_mount=[]}),s.forEach(Re)}function Ve(t,e){const n=t.$$;null!==n.fragment&&(ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(t,e,n,r,i,o,s=[-1]){const l=Ce;Oe(t);const a=e.props||{},c=t.$$={fragment:null,ctx:null,props:o,update:se,not_equal:i,bound:ae(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:ae(),dirty:s};let u=!1;var f;c.ctx=n?n(t,a,(e,n,r=n)=>(c.ctx&&i(c.ctx[e],c.ctx[e]=r)&&(c.bound[e]&&c.bound[e](r),u&&function(t,e){-1===t.$$.dirty[0]&&(Ie.push(t),Fe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n)):[],c.update(),u=!0,ce(c.before_update),c.fragment=!!r&&r(c.ctx),e.target&&(e.hydrate?c.fragment&&c.fragment.l((f=e.target,Array.from(f.childNodes))):c.fragment&&c.fragment.c(),e.intro&&Ge(t.$$.fragment),Ye(t,e.target,e.anchor),De()),Oe(l)}class Je{$destroy(){Ve(this,1),this.$destroy=se}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Qe(t){let e,n=Ft.str(t[0])+"";return{c(){e=ve(n)},m(t,n){he(t,e,n)},p(t,r){1&r&&n!==(n=Ft.str(t[0])+"")&&ke(e,n)},d(t){t&&me(e)}}}function tn(t){let e,n,r,i=Ft.str(t[0])+"";return{c(){e=ye("a"),n=ve(i),xe(e,"href",r="##"+t[0])},m(t,r){he(t,e,r),de(e,n)},p(t,o){1&o&&i!==(i=Ft.str(t[0])+"")&&ke(n,i),1&o&&r!==(r="##"+t[0])&&xe(e,"href",r)},d(t){t&&me(e)}}}function en(t){let e,n;function r(t,n){return(null==e||1&n)&&(e=!!Ft.article(t[0])),e?tn:Qe}let i=r(t,-1),o=i(t);return{c(){o.c(),n=$e()},m(t,e){o.m(t,e),he(t,n,e)},p(t,[e]){i===(i=r(t,e))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},i:se,o:se,d(t){o.d(t),t&&me(n)}}}function nn(t,e,n){let{href:r}=e;return t.$set=(t=>{"href"in t&&n(0,r=t.href)}),t.$$.update=(()=>{1&t.$$.dirty&&r&&r.type&&n(0,r=r.type)}),[r]}class rn extends Je{constructor(t){super(),Xe(this,t,nn,en,fe,{href:0})}}function on(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v,b,$,w,x,k,_,A,S,C,O,T,E,I,j,N,M,B,L,F,R,D,P,z;return{c(){(e=ye("h1")).textContent="XPedia",n=ve("\r\n  Autogenerated searcheable HTML reference for OpenXCom games.\r\n  "),r=ye("br"),i=ve("\r\n  Github:\r\n  "),(o=ye("a")).textContent="https://github.com/baturinsky/xpedia/",s=be(),l=ye("br"),a=ve("\r\n  Made by\r\n  "),(c=ye("a")).textContent="Baturinsky",u=ve("\r\n  with the help of\r\n  "),(f=ye("a")).textContent="Dioxine",p=ve("\r\n  ,\r\n  "),(d=ye("a")).textContent="Meridian",h=ve("\r\n  and other developers and players of\r\n  "),(m=ye("a")).textContent="OpenXCom",g=ve("\r\n  and\r\n  "),(y=ye("a")).textContent="X-Piratez",v=ve("\r\n  mod.\r\n  "),b=ye("br"),$=be(),(w=ye("div")).innerHTML='\n  ATTENTION! X-Piratez Bootypedia is a branch of Xpedia designed to use with X-Piratez mod. In this offline version of Bootypedia not all its features are supported.\n  <br>\n  Please visit <a href="https://www.xpiratez.wtf/">xpiratez.wtf</a> to take advantage of all the amenities of X-Piratez Bootypedia.\n  ',x=be(),(k=ye("h4")).textContent="Using",_=ve("\r\n  Use drop down menu to the left or search form to the right.\r\n  "),A=ye("br"),S=ve("\r\n  If you want to (re)build the xpedia.html for the mod yourself, do the\r\n  following\r\n  "),(C=ye("ol")).innerHTML='<li>\n      Download\n      <a href="https://github.com/baturinsky/xpedia/blob/master/xpedia.zip?raw=true">\n        xpedia.zip\n      </a></li> \n    <li>Copy contents of xpedia.zip to the root directory of the game.</li> \n    <li>\n      If you have Node.js installed, regardless of OS, run\n      <code style="color: yellow">node xpedia.js</code>\n      . Otherwise, if you are using Windows, run\n      <code style="color: yellow">xpedia.bat</code>\n      .\n    </li> \n    <li>\n      Or if you already has up-to-date xpedia.html you can just open it\n      directly.\n    </li> \n    <li>\n      If mod is *not* XPiratez, edit xpedia.bat (or xpeia.js) to change mod&#39;s\n      name.\n    </li>',O=be(),(T=ye("h4")).textContent="Building from source",E=be(),(I=ye("code")).innerHTML="\n        git clone https://github.com/baturinsky/xpedia/<br>\n        cd xpedia<br>\n        yarn install<br>\n        npm run build\n  ",j=be(),(N=ye("h4")).textContent="Debugging",M=be(),(B=ye("code")).textContent="    npm run dev",L=ye("br"),F=ve("\r\n  Then open\r\n  "),(R=ye("a")).textContent="localhost:5000",D=be(),P=ye("br"),z=ve("\r\n  You will need to generate xpedia.html as above and copy it to\r\n  /public/xpedia.html Also, to have pictures, copy /user directory from the game\r\n  to /public/user"),xe(o,"href","https://github.com/baturinsky/xpedia/"),xe(c,"href","https://github.com/baturinsky"),xe(f,"href","https://openxcom.org/forum/index.php/board,18.0.html"),xe(d,"href","https://github.com/MeridianOXC"),xe(m,"href","https://openxcom.org/"),xe(y,"href","https://openxcom.org/forum/index.php/board,18.0.html"),xe(w,"class","warnings"),xe(R,"href","http://localhost:5000")},m(t,H){he(t,e,H),he(t,n,H),he(t,r,H),he(t,i,H),he(t,o,H),he(t,s,H),he(t,l,H),he(t,a,H),he(t,c,H),he(t,u,H),he(t,f,H),he(t,p,H),he(t,d,H),he(t,h,H),he(t,m,H),he(t,g,H),he(t,y,H),he(t,v,H),he(t,b,H),he(t,$,H),he(t,w,H),he(t,x,H),he(t,k,H),he(t,_,H),he(t,A,H),he(t,S,H),he(t,C,H),he(t,O,H),he(t,T,H),he(t,E,H),he(t,I,H),he(t,j,H),he(t,N,H),he(t,M,H),he(t,B,H),he(t,L,H),he(t,F,H),he(t,R,H),he(t,D,H),he(t,P,H),he(t,z,H)},p:se,i:se,o:se,d(t){t&&me(e),t&&me(n),t&&me(r),t&&me(i),t&&me(o),t&&me(s),t&&me(l),t&&me(a),t&&me(c),t&&me(u),t&&me(f),t&&me(p),t&&me(d),t&&me(h),t&&me(m),t&&me(g),t&&me(y),t&&me(v),t&&me(b),t&&me($),t&&me(w),t&&me(x),t&&me(k),t&&me(_),t&&me(A),t&&me(S),t&&me(C),t&&me(O),t&&me(T),t&&me(E),t&&me(I),t&&me(j),t&&me(N),t&&me(M),t&&me(B),t&&me(L),t&&me(F),t&&me(R),t&&me(D),t&&me(P),t&&me(z)}}}function sn(t){let e=Ft.str("intro");return console.log(e),[]}class ln extends Je{constructor(t){super(),Xe(this,t,sn,on,fe,{})}}function an(t,e,n){const r=t.slice();return r[5]=e[n],r}function cn(t){let e,n,r,i,o,s,l=!t[1]&&un(t),a=t[1]&&fn(t),c=t[3],u=[];for(let e=0;e<c.length;e+=1)u[e]=pn(an(t,c,e));const f=t=>We(u[t],1,1,()=>{u[t]=null});return{c(){l&&l.c(),e=be(),a&&a.c(),n=be(),r=ye("div"),i=ye("div"),o=ye("ol");for(let t=0;t<u.length;t+=1)u[t].c();xe(i,"class","cols"),xe(r,"class","links-page")},m(t,c){l&&l.m(t,c),he(t,e,c),a&&a.m(t,c),he(t,n,c),he(t,r,c),de(r,i),de(i,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);s=!0},p(t,r){if(t[1]?l&&(l.d(1),l=null):l?l.p(t,r):((l=un(t)).c(),l.m(e.parentNode,e)),t[1]?a?a.p(t,r):((a=fn(t)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),8&r){let e;for(c=t[3],e=0;e<c.length;e+=1){const n=an(t,c,e);u[e]?(u[e].p(n,r),Ge(u[e],1)):(u[e]=pn(n),u[e].c(),Ge(u[e],1),u[e].m(o,null))}for(Ue(),e=c.length;e<u.length;e+=1)f(e);Ze()}},i(t){if(!s){for(let t=0;t<c.length;t+=1)Ge(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)We(u[t]);s=!1},d(t){l&&l.d(t),t&&me(e),a&&a.d(t),t&&me(n),t&&me(r),ge(u,t)}}}function un(t){let e,n,r,i,o,s=Ft.str("A-Z")+"";return{c(){e=ye("div"),n=ye("button"),r=ve(s),xe(n,"style",i=t[2]?"":"text-decoration:line-through"),xe(e,"class","links-page-button"),o=we(n,"click",t[4])},m(t,i){he(t,e,i),de(e,n),de(n,r)},p(t,e){4&e&&i!==(i=t[2]?"":"text-decoration:line-through")&&xe(n,"style",i)},d(t){t&&me(e),o()}}}function fn(t){let e,n;return{c(){e=ye("div"),n=ve(t[1]),xe(e,"class","links-page-header")},m(t,r){he(t,e,r),de(e,n)},p(t,e){2&e&&ke(n,t[1])},d(t){t&&me(e)}}}function pn(t){let e,n,r;const i=new rn({props:{href:t[5]}});return{c(){e=ye("li"),Ke(i.$$.fragment),n=be()},m(t,o){he(t,e,o),Ye(i,e,null),de(e,n),r=!0},p(t,e){const n={};8&e&&(n.href=t[5]),i.$set(n)},i(t){r||(Ge(i.$$.fragment,t),r=!0)},o(t){We(i.$$.fragment,t),r=!1},d(t){t&&me(e),Ve(i)}}}function dn(t){let e,n,r=t[0]&&t[0].length>0&&cn(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,[n]){t[0]&&t[0].length>0?r?(r.p(t,n),Ge(r,1)):((r=cn(t)).c(),Ge(r,1),r.m(e.parentNode,e)):r&&(Ue(),We(r,1,1,()=>{r=null}),Ze())},i(t){n||(Ge(r),n=!0)},o(t){We(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function hn(t,e,n){let{links:r}=e,{title:i=null}=e,o=!1;let s;return t.$set=(t=>{"links"in t&&n(0,r=t.links),"title"in t&&n(1,i=t.title)}),t.$$.update=(()=>{5&t.$$.dirty&&n(3,s=o?r.slice().sort((t,e)=>Ft.str(t)>Ft.str(e)?1:-1):r)}),[r,i,o,s,t=>n(2,o=!o)]}class mn extends Je{constructor(t){super(),Xe(this,t,hn,dn,fe,{links:0,title:1})}}function gn(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function yn(t){let e,n,r,i=0==t[4]?"":t[1]?"</br>":", ";const o=new rn({props:{href:t[2]}});return{c(){n=be(),Ke(o.$$.fragment),e=new Se(i,n)},m(t,i){e.m(t,i),he(t,n,i),Ye(o,t,i),r=!0},p(t,n){(!r||2&n)&&i!==(i=0==t[4]?"":t[1]?"</br>":", ")&&e.p(i);const s={};1&n&&(s.href=t[2]),o.$set(s)},i(t){r||(Ge(o.$$.fragment,t),r=!0)},o(t){We(o.$$.fragment,t),r=!1},d(t){t&&e.d(),t&&me(n),Ve(o,t)}}}function vn(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=yn(gn(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,[n]){if(3&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=gn(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=yn(o),i[s].c(),Ge(i[s],1),i[s].m(e.parentNode,e))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function bn(t,e,n){let{items:r}=e,{vertical:i=!1}=e;return t.$set=(t=>{"items"in t&&n(0,r=t.items),"vertical"in t&&n(1,i=t.vertical)}),[r,i]}class $n extends Je{constructor(t){super(),Xe(this,t,bn,vn,fe,{items:0,vertical:1})}}function wn(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function xn(t){let e;const n=new rn({props:{href:t[0]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=t[0]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function kn(t){let e,n,r=t[0].toLocaleString()+"";return{c(){e=ye("em"),n=ve(r),xe(e,"class","num")},m(t,r){he(t,e,r),de(e,n)},p(t,e){1&e&&r!==(r=t[0].toLocaleString()+"")&&ke(n,r)},i:se,o:se,d(t){t&&me(e)}}}function _n(t){let e,n,r=Ft.str(t[0].toString())+"";return{c(){e=ye("span"),n=ve(r),Ae(e,"color",t[0]?"lime":"red")},m(t,r){he(t,e,r),de(e,n)},p(t,i){1&i&&r!==(r=Ft.str(t[0].toString())+"")&&ke(n,r),1&i&&Ae(e,"color",t[0]?"lime":"red")},i:se,o:se,d(t){t&&me(e)}}}function An(t){let e,n,r=Object.keys(t[0]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Cn(wn(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[0]).sort(),s=0;s<r.length;s+=1){const o=wn(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=Cn(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Sn(t){let e;const n=new $n({props:{items:t[0],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[0]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Cn(t){let e,n,r,i,o,s,l,a,c=Ft.decamelize(t[1])+"";const u=new rn({props:{href:t[0][t[1]]}});return{c(){e=ye("tr"),n=ye("td"),r=ye("nobr"),i=be(),o=ye("td"),s=ye("em"),Ke(u.$$.fragment),l=be()},m(t,f){he(t,e,f),de(e,n),de(n,r),r.innerHTML=c,de(e,i),de(e,o),de(o,s),Ye(u,s,null),de(e,l),a=!0},p(t,e){(!a||1&e)&&c!==(c=Ft.decamelize(t[1])+"")&&(r.innerHTML=c);const n={};1&e&&(n.href=t[0][t[1]]),u.$set(n)},i(t){a||(Ge(u.$$.fragment,t),a=!0)},o(t){We(u.$$.fragment,t),a=!1},d(t){t&&me(e),Ve(u)}}}function On(t){let e,n,r,i,o,s;const l=[Sn,An,_n,kn,xn],a=[];function c(t,r){return 1&r&&(e=!!Array.isArray(t[0])),e?0:t[0]instanceof Object?1:!0===t[0]||!1===t[0]?2:(1&r&&(n=!isNaN(+t[0])),n?3:4)}return r=c(t,-1),i=a[r]=l[r](t),{c(){i.c(),o=$e()},m(t,e){a[r].m(t,e),he(t,o,e),s=!0},p(t,[e]){let n=r;(r=c(t,e))===n?a[r].p(t,e):(Ue(),We(a[n],1,1,()=>{a[n]=null}),Ze(),(i=a[r])||(i=a[r]=l[r](t)).c(),Ge(i,1),i.m(o.parentNode,o))},i(t){s||(Ge(i),s=!0)},o(t){We(i),s=!1},d(t){a[r].d(t),t&&me(o)}}}function Tn(t,e,n){let{val:r}=e;return t.$set=(t=>{"val"in t&&n(0,r=t.val)}),[r]}class En extends Je{constructor(t){super(),Xe(this,t,Tn,On,fe,{val:0})}}function In(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function jn(t){let e,n,r,i=0==t[4]?"":t[1]?"</br>":", ";const o=new rn({props:{href:t[2]}});return{c(){n=be(),Ke(o.$$.fragment),e=new Se(i,n)},m(t,i){e.m(t,i),he(t,n,i),Ye(o,t,i),r=!0},p(t,n){(!r||2&n)&&i!==(i=0==t[4]?"":t[1]?"</br>":", ")&&e.p(i);const s={};1&n&&(s.href=t[2]),o.$set(s)},i(t){r||(Ge(o.$$.fragment,t),r=!0)},o(t){We(o.$$.fragment,t),r=!1},d(t){t&&e.d(),t&&me(n),Ve(o,t)}}}function Nn(t){let e,n,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=jn(In(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,[n]){if(3&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const o=In(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=jn(o),i[s].c(),Ge(i[s],1),i[s].m(e.parentNode,e))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function Mn(t,e,n){let{items:r}=e,{vertical:i=!1}=e;return t.$set=(t=>{"items"in t&&n(0,r=t.items),"vertical"in t&&n(1,i=t.vertical)}),[r,i]}class Bn extends Je{constructor(t){super(),Xe(this,t,Mn,Nn,fe,{items:0,vertical:1})}}function Ln(t){let e,n,r,i,o,s,l;return{c(){e=ye("a"),xe(n=ye("img"),"style",r=t[2]+(t[1]?"float:left":"")),xe(n,"alt",i=t[0]||""),n.src!==(o=Ft.sprite(t[0]))&&xe(n,"src",o),xe(e,"href",s=Ft.sprite(t[0])),xe(e,"class","illustration"),l=[we(n,"load",t[6]),we(n,"error",t[7])]},m(t,r){he(t,e,r),de(e,n)},p(t,l){6&l&&r!==(r=t[2]+(t[1]?"float:left":""))&&xe(n,"style",r),1&l&&i!==(i=t[0]||"")&&xe(n,"alt",i),1&l&&n.src!==(o=Ft.sprite(t[0]))&&xe(n,"src",o),1&l&&s!==(s=Ft.sprite(t[0]))&&xe(e,"href",s)},d(t){t&&me(e),ce(l)}}}function Fn(t){let e,n=t[0]&&Ft.sprite(t[0]),r=n&&Ln(t);return{c(){r&&r.c(),e=$e()},m(t,n){r&&r.m(t,n),he(t,e,n)},p(t,[i]){1&i&&(n=t[0]&&Ft.sprite(t[0])),n?r?r.p(t,i):((r=Ln(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:se,o:se,d(t){r&&r.d(t),t&&me(e)}}}function Rn(t,e,n){let{id:r}=e,{left:i=!1}=e,{maxWidth:o=(window.innerWidth>1400?640:320)}=e,{maxZoom:s=4}=e,{style:l=""}=e;function a(t){}console.log(r);return t.$set=(t=>{"id"in t&&n(0,r=t.id),"left"in t&&n(1,i=t.left),"maxWidth"in t&&n(4,o=t.maxWidth),"maxZoom"in t&&n(5,s=t.maxZoom),"style"in t&&n(2,l=t.style)}),[r,i,l,a,o,s,t=>void t.target,t=>(function(t){t.onerror=null,t.src="xpedia/0.png",t.style.border="none"})(t.target)]}class Dn extends Je{constructor(t){super(),Xe(this,t,Rn,Fn,fe,{id:0,left:1,maxWidth:4,maxZoom:5,style:2})}}function Pn(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function zn(t){let e;return{c(){e=ve("+")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function Hn(t){let e,n=Ft.str(t[3][0])+(1!=t[3][1]?"×<em>"+t[3][1]+"</em>":"");return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){2&r&&n!==(n=Ft.str(t[3][0])+(1!=t[3][1]?"×<em>"+t[3][1]+"</em>":""))&&e.p(n)},d(t){t&&e.d()}}}function Un(t){let e,n=100*t[3][1]+"";return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){2&r&&n!==(n=100*t[3][1]+"")&&e.p(n)},d(t){t&&e.d()}}}function Zn(t){let e,n,r,i=0!=t[5]&&function(t){let e;return{c(){e=ve(" +")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();function o(t,e){return"flatHundred"==t[3][0]?Un:Hn}let s=o(t),l=s(t);return{c(){e=ye("span"),i&&i.c(),n=be(),l.c(),r=be()},m(t,o){he(t,e,o),i&&i.m(e,null),de(e,n),l.m(e,null),de(e,r)},p(t,n){s===(s=o(t))&&l?l.p(t,n):(l.d(1),(l=s(t))&&(l.c(),l.m(e,r)))},d(t){t&&me(e),i&&i.d(),l.d()}}}function Gn(t){let e,n,r=t[1].length>0&&t[0]&&zn(),i=t[1],o=[];for(let e=0;e<i.length;e+=1)o[e]=Zn(Pn(t,i,e));return{c(){r&&r.c(),e=be();for(let t=0;t<o.length;t+=1)o[t].c();n=$e()},m(t,i){r&&r.m(t,i),he(t,e,i);for(let e=0;e<o.length;e+=1)o[e].m(t,i);he(t,n,i)},p(t,[s]){if(t[1].length>0&&t[0]?r||((r=zn()).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),2&s){let e;for(i=t[1],e=0;e<i.length;e+=1){const r=Pn(t,i,e);o[e]?o[e].p(r,s):(o[e]=Zn(r),o[e].c(),o[e].m(n.parentNode,n))}for(;e<o.length;e+=1)o[e].d(1);o.length=i.length}},i:se,o:se,d(t){r&&r.d(t),t&&me(e),ge(o,t),t&&me(n)}}}function Wn(t,e,n){let r,{bonus:i}=e,{plus:o=!1}=e;return t.$set=(t=>{"bonus"in t&&n(2,i=t.bonus),"plus"in t&&n(0,o=t.plus)}),t.$$.update=(()=>{4&t.$$.dirty&&n(1,r=function(t){if(!t)return[];let e=[];for(let n of Object.keys(t))if(t[n].length)for(let r in t[n]){let i=t[n][r];0!=i&&(r=1*r+1,e.push([Ft.str(n)+(1==r?"":"<sup>"+r+"</sup>"),i]))}else 0!=t[n]&&e.push([n,t[n]]);return e=e.sort((t,e)=>"flatHundred"==t[0]||t[0]<e[0]?-1:1)}(i))}),[o,r,i]}class qn extends Je{constructor(t){super(),Xe(this,t,Wn,Gn,fe,{bonus:2,plus:0})}}function Kn(t){let e,n,r,i;return{c(){var o;e=ye("a"),xe(n=ye("canvas"),"class","pixelated"),Ae(n,"display",t[2]?"inline":"none"),xe(e,"href",t[0]),xe(e,"class","canvas-image"),o=r=t[3].call(null,n),i=o&&ue(o.destroy)?o.destroy:se},m(r,i){he(r,e,i),de(e,n),t[11](n)},p(t,[r]){4&r&&Ae(n,"display",t[2]?"inline":"none"),1&r&&xe(e,"href",t[0])},i:se,o:se,d(n){n&&me(e),t[11](null),i()}}}function Yn(t,e,n){let r,i,{src:o=null}=e,{maxWidth:s=1e6}=e,{maxHeight:l=1e6}=e,{zoom:a=1}=e,{item:c=null}=e,u=null,f=!1;function p(){n(1,r.width=Math.min(s,u.naturalWidth*a),r),n(1,r.height=Math.min(l,u.naturalHeight*a),r),i.imageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.drawImage(u,0,0,u.naturalWidth*a,u.naturalHeight*a),n(2,f=!0)}return t.$set=(t=>{"src"in t&&n(0,o=t.src),"maxWidth"in t&&n(4,s=t.maxWidth),"maxHeight"in t&&n(5,l=t.maxHeight),"zoom"in t&&n(6,a=t.zoom),"item"in t&&n(7,c=t.item)}),t.$$.update=(()=>{641&t.$$.dirty&&(c&&(console.log(c),n(0,o=Ft.sprite(c.sprite)),n(4,s=64*c.invWidth),n(5,l=64*c.invHeight),n(6,a="3")),o&&u&&(n(2,f=!1),n(9,u.src=o,u)))}),[o,r,f,function(t){n(1,r=t),i=r.getContext("2d"),n(9,u=new Image),n(9,u.onload=p,u),n(9,u.src=o,u)},s,l,a,c,i,u,p,function(t){je[t?"unshift":"push"](()=>{n(1,r=t)})}]}class Vn extends Je{constructor(t){super(),Xe(this,t,Yn,Kn,fe,{src:0,maxWidth:4,maxHeight:5,zoom:6,item:7})}}function Xn(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Jn(t){let e,n,r,i,o,s,l,a,c,u,f,p=Ft.decamelize(t[1])+"",d=(Ft.lang[t[1]+"_"+t[0][t[1]]]||"")+"";const h=new En({props:{val:t[0][t[1]]}});return{c(){e=ye("div"),n=ye("nobr"),r=ye("span"),o=ve(":"),l=be(),Ke(h.$$.fragment),a=be(),u=be(),i=new Se(p,o),xe(r,"tooltip",s="tip_"+t[1]),c=new Se(d,null)},m(t,s){he(t,e,s),de(e,n),de(n,r),i.m(r),de(r,o),de(n,l),Ye(h,n,null),de(n,a),c.m(n),de(e,u),f=!0},p(t,e){(!f||1&e)&&p!==(p=Ft.decamelize(t[1])+"")&&i.p(p),(!f||1&e&&s!==(s="tip_"+t[1]))&&xe(r,"tooltip",s);const n={};1&e&&(n.val=t[0][t[1]]),h.$set(n),(!f||1&e)&&d!==(d=(Ft.lang[t[1]+"_"+t[0][t[1]]]||"")+"")&&c.p(d)},i(t){f||(Ge(h.$$.fragment,t),f=!0)},o(t){We(h.$$.fragment,t),f=!1},d(t){t&&me(e),Ve(h)}}}function Qn(t){let e,n,r,i,o=Object.keys(t[0]).sort(),s=[];for(let e=0;e<o.length;e+=1)s[e]=Jn(Xn(t,o,e));const l=t=>We(s[t],1,1,()=>{s[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ye("small");for(let t=0;t<s.length;t+=1)s[t].c();xe(n,"colspan","4"),xe(n,"class","attack-alter")},m(t,o){he(t,e,o),de(e,n),de(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i=!0},p(t,[e]){if(1&e){let n;for(o=Object.keys(t[0]).sort(),n=0;n<o.length;n+=1){const i=Xn(t,o,n);s[n]?(s[n].p(i,e),Ge(s[n],1)):(s[n]=Jn(i),s[n].c(),Ge(s[n],1),s[n].m(r,null))}for(Ue(),n=o.length;n<s.length;n+=1)l(n);Ze()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)Ge(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)We(s[t]);i=!1},d(t){t&&me(e),ge(s,t)}}}function tr(t,e,n){let{items:r}=e;return console.log("alter ",r),t.$set=(t=>{"items"in t&&n(0,r=t.items)}),[r]}class er extends Je{constructor(t){super(),Xe(this,t,tr,Qn,fe,{items:0})}}function nr(t){let e,n,r,i=Ft.decamelize(t[0])+"";return{c(){e=ye("td"),xe(n=ye("div"),"tooltip",r="tip_"+t[0])},m(t,r){he(t,e,r),de(e,n),n.innerHTML=i},p(t,[e]){1&e&&i!==(i=Ft.decamelize(t[0])+"")&&(n.innerHTML=i),1&e&&r!==(r="tip_"+t[0])&&xe(n,"tooltip",r)},i:se,o:se,d(t){t&&me(e)}}}function rr(t,e,n){let{key:r}=e;return t.$set=(t=>{"key"in t&&n(0,r=t.key)}),[r]}class ir extends Je{constructor(t){super(),Xe(this,t,rr,nr,fe,{key:0})}}function or(t,e,n){const r=t.slice();return r[10]=e[n],r[9]=n,r}function sr(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function lr(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r}function ar(t,e,n){const r=t.slice();return r[15]=e[n],r}function cr(t,e,n){const r=t.slice();return r[12]=e[n],r}function ur(t){let e,n,r,i,o,s,l;const a=new Vn({props:{src:Ft.sprite(t[0].sprite),maxWidth:64*t[0].invWidth,maxHeight:96*t[0].invHeight,zoom:"3"}});let c=t[2].length>0&&fr(t);return{c(){e=ye("tr"),n=ye("td"),r=ye("div"),i=ye("div"),o=ye("div"),Ke(a.$$.fragment),s=be(),c&&c.c(),xe(o,"class","image-bg"),Ae(i,"display","flex"),Ae(i,"flex-direction","column"),Ae(i,"align-items","center"),Ae(i,"margin","5px 5px"),Ae(i,"min-width","98%"),xe(n,"colspan","2"),xe(n,"class","td-attacks-table")},m(t,u){he(t,e,u),de(e,n),de(n,r),de(r,i),de(i,o),Ye(a,o,null),de(i,s),c&&c.m(i,null),l=!0},p(t,e){const n={};1&e&&(n.src=Ft.sprite(t[0].sprite)),1&e&&(n.maxWidth=64*t[0].invWidth),1&e&&(n.maxHeight=96*t[0].invHeight),a.$set(n),t[2].length>0?c?(c.p(t,e),Ge(c,1)):((c=fr(t)).c(),Ge(c,1),c.m(i,null)):c&&(Ue(),We(c,1,1,()=>{c=null}),Ze())},i(t){l||(Ge(a.$$.fragment,t),Ge(c),l=!0)},o(t){We(a.$$.fragment,t),We(c),l=!1},d(t){t&&me(e),Ve(a),c&&c.d()}}}function fr(t){let e,n,r,i,o,s,l=2!=t[0].battleType&&pr(),a=2==t[0].battleType&&dr(),c=t[2],u=[];for(let e=0;e<c.length;e+=1)u[e]=kr(cr(t,c,e));const f=t=>We(u[t],1,1,()=>{u[t]=null});let p=t[0].damageAlter&&2!=t[0].battleType&&_r(t);return{c(){e=ye("table"),n=ye("thead"),l&&l.c(),r=be(),a&&a.c(),i=be();for(let t=0;t<u.length;t+=1)u[t].c();o=be(),p&&p.c(),xe(e,"class","attacks-table")},m(t,c){he(t,e,c),de(e,n),l&&l.m(n,null),de(n,r),a&&a.m(n,null),de(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null);de(e,o),p&&p.m(e,null),s=!0},p(t,i){if(2!=t[0].battleType?l?l.p(t,i):((l=pr()).c(),l.m(n,r)):l&&(l.d(1),l=null),2==t[0].battleType?a?a.p(t,i):((a=dr()).c(),a.m(n,null)):a&&(a.d(1),a=null),5&i){let n;for(c=t[2],n=0;n<c.length;n+=1){const r=cr(t,c,n);u[n]?(u[n].p(r,i),Ge(u[n],1)):(u[n]=kr(r),u[n].c(),Ge(u[n],1),u[n].m(e,o))}for(Ue(),n=c.length;n<u.length;n+=1)f(n);Ze()}t[0].damageAlter&&2!=t[0].battleType?p?(p.p(t,i),Ge(p,1)):((p=_r(t)).c(),Ge(p,1),p.m(e,null)):p&&(Ue(),We(p,1,1,()=>{p=null}),Ze())},i(t){if(!s){for(let t=0;t<c.length;t+=1)Ge(u[t]);Ge(p),s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)We(u[t]);We(p),s=!1},d(t){t&&me(e),l&&l.d(),a&&a.d(),ge(u,t),p&&p.d()}}}function pr(t){let e,n,r,i,o,s,l;return{c(){(e=ye("td")).textContent=`${Ft.str("mode")}`,n=be(),(r=ye("td")).textContent=`${Ft.str("accuracy")}`,i=be(),(o=ye("td")).textContent=`${Ft.str("cost")}`,s=be(),(l=ye("td")).textContent=`${Ft.str("damage")}`},m(t,a){he(t,e,a),he(t,n,a),he(t,r,a),he(t,i,a),he(t,o,a),he(t,s,a),he(t,l,a)},p:se,d(t){t&&me(e),t&&me(n),t&&me(r),t&&me(i),t&&me(o),t&&me(s),t&&me(l)}}}function dr(t){let e,n,r,i,o;return{c(){(e=ye("td")).textContent=`${Ft.str("sprite")}`,n=be(),(r=ye("td")).textContent=`${Ft.str("Specifications")}`,i=be(),(o=ye("td")).textContent=`${Ft.str("damage")}`,xe(r,"colspan","2")},m(t,s){he(t,e,s),he(t,n,s),he(t,r,s),he(t,i,s),he(t,o,s)},p:se,d(t){t&&me(e),t&&me(n),t&&me(r),t&&me(i),t&&me(o)}}}function hr(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v,b,$,w,x,k,_,A,S,C=Ft.str(t[12].name)+"",O=1==t[12].shots?"":"×"+t[12].shots,T=t[12].accuracy+"",E=t[12].cost.time+"",I=t[12].flatTime?"":"%",j=t[12].range&&gr(t);const N=new qn({props:{bonus:t[12].accuracyMultiplier}});let M=Object.keys(t[12].cost),B=[];for(let e=0;e<M.length;e+=1)B[e]=vr(ar(t,M,e));const L=t=>We(B[t],1,1,()=>{B[t]=null});return{c(){e=ye("td"),n=ve(C),r=ve(O),i=be(),o=ye("td"),s=ye("nobr"),l=ye("span"),a=ye("em"),c=ve(T),u=be(),f=ve("%"),p=be(),d=ye("span"),j&&j.c(),h=be(),m=ye("div"),Ke(N.$$.fragment),g=be(),y=ye("td"),v=ye("nobr"),b=ye("em"),$=ve(E),w=be(),x=ve(I),k=be(),(_=ye("small")).textContent=`${Ft.str("TU")}`,A=be();for(let t=0;t<B.length;t+=1)B[t].c();xe(a,"class","big-number")},m(t,C){he(t,e,C),de(e,n),de(e,r),he(t,i,C),he(t,o,C),de(o,s),de(s,l),de(l,a),de(a,c),de(l,u),de(l,f),de(s,p),de(s,d),j&&j.m(d,null),de(s,h),de(s,m),Ye(N,m,null),he(t,g,C),he(t,y,C),de(y,v),de(v,b),de(b,$),de(v,w),de(v,x),de(v,k),de(v,_),de(y,A);for(let t=0;t<B.length;t+=1)B[t].m(y,null);S=!0},p(t,e){(!S||4&e)&&C!==(C=Ft.str(t[12].name)+"")&&ke(n,C),(!S||4&e)&&O!==(O=1==t[12].shots?"":"×"+t[12].shots)&&ke(r,O),(!S||4&e)&&T!==(T=t[12].accuracy+"")&&ke(c,T),t[12].range?j?j.p(t,e):((j=gr(t)).c(),j.m(d,null)):j&&(j.d(1),j=null);const i={};if(4&e&&(i.bonus=t[12].accuracyMultiplier),N.$set(i),(!S||4&e)&&E!==(E=t[12].cost.time+"")&&ke($,E),(!S||4&e)&&I!==(I=t[12].flatTime?"":"%")&&ke(x,I),4&e){let n;for(M=Object.keys(t[12].cost),n=0;n<M.length;n+=1){const r=ar(t,M,n);B[n]?(B[n].p(r,e),Ge(B[n],1)):(B[n]=vr(r),B[n].c(),Ge(B[n],1),B[n].m(y,null))}for(Ue(),n=M.length;n<B.length;n+=1)L(n);Ze()}},i(t){if(!S){Ge(N.$$.fragment,t);for(let t=0;t<M.length;t+=1)Ge(B[t]);S=!0}},o(t){We(N.$$.fragment,t),B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)We(B[t]);S=!1},d(t){t&&me(e),t&&me(i),t&&me(o),j&&j.d(),Ve(N),t&&me(g),t&&me(y),ge(B,t)}}}function mr(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v=Ft.str("Shots")+"",b=t[12].item.clipSize+"",$=Ft.str("Wgt")+"",w=t[12].item.weight+"";const x=new Vn({props:{src:Ft.sprite(t[12].item.sprite),maxWidth:32*t[12].item.invWidth,maxHeight:32*t[12].item.invHeight,zoom:"2"}}),k=new rn({props:{href:t[12].item.type}});return{c(){e=ye("td"),Ke(x.$$.fragment),n=be(),r=ye("td"),Ke(k.$$.fragment),i=be(),o=ye("br"),s=be(),l=ye("small"),a=ve(v),c=ve(": "),u=ve(b),f=be(),p=ye("br"),d=be(),h=ve($),m=ve(": "),g=ve(w),xe(e,"class","ammo-img svelte-pzh78t"),xe(r,"colspan","2")},m(t,v){he(t,e,v),Ye(x,e,null),he(t,n,v),he(t,r,v),Ye(k,r,null),de(r,i),de(r,o),de(r,s),de(r,l),de(l,a),de(l,c),de(l,u),de(l,f),de(l,p),de(l,d),de(l,h),de(l,m),de(l,g),y=!0},p(t,e){const n={};4&e&&(n.src=Ft.sprite(t[12].item.sprite)),4&e&&(n.maxWidth=32*t[12].item.invWidth),4&e&&(n.maxHeight=32*t[12].item.invHeight),x.$set(n);const r={};4&e&&(r.href=t[12].item.type),k.$set(r),(!y||4&e)&&b!==(b=t[12].item.clipSize+"")&&ke(u,b),(!y||4&e)&&w!==(w=t[12].item.weight+"")&&ke(g,w)},i(t){y||(Ge(x.$$.fragment,t),Ge(k.$$.fragment,t),y=!0)},o(t){We(x.$$.fragment,t),We(k.$$.fragment,t),y=!1},d(t){t&&me(e),Ve(x),t&&me(n),t&&me(r),Ve(k)}}}function gr(t){let e,n=Ft.str("at N m").replace("N",`<em>${t[12].range}</em>`)+"";return{c(){e=new Se(n,null)},m(t,n){e.m(t,n)},p(t,r){4&r&&n!==(n=Ft.str("at N m").replace("N",`<em>${t[12].range}</em>`)+"")&&e.p(n)},d(t){t&&e.d()}}}function yr(t){let e,n,r,i,o,s,l,a,c=Ft.str(t[15])+"";const u=new En({props:{val:t[12].cost[t[15]]}});return{c(){e=ye("br"),n=be(),r=ye("nobr"),Ke(u.$$.fragment),i=be(),o=ye("small"),s=ve(c),l=be()},m(t,c){he(t,e,c),he(t,n,c),he(t,r,c),Ye(u,r,null),de(r,i),de(r,o),de(o,s),de(r,l),a=!0},p(t,e){const n={};4&e&&(n.val=t[12].cost[t[15]]),u.$set(n),(!a||4&e)&&c!==(c=Ft.str(t[15])+"")&&ke(s,c)},i(t){a||(Ge(u.$$.fragment,t),a=!0)},o(t){We(u.$$.fragment,t),a=!1},d(t){t&&me(e),t&&me(n),t&&me(r),Ve(u)}}}function vr(t){let e,n,r="time"!=t[15]&&0!=t[12].cost[t[15]]&&yr(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,n){"time"!=t[15]&&0!=t[12].cost[t[15]]?r?(r.p(t,n),Ge(r,1)):((r=yr(t)).c(),Ge(r,1),r.m(e.parentNode,e)):r&&(Ue(),We(r,1,1,()=>{r=null}),Ze())},i(t){n||(Ge(r),n=!0)},o(t){We(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function br(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y=t[12].pellets>1&&t[12].damageBonus?"(":"",v=(t[12].damage||0)+"",b=t[12].pellets>1&&t[12].damageBonus?")":"",$=t[12].pellets>1?" ×"+t[12].pellets:"";const w=new qn({props:{plus:!0,bonus:t[12].damageBonus}});let x=t[12].damageType&&$r(t);return{c(){e=ye("nobr"),n=ve(y),r=be(),i=ye("em"),o=ve(v),s=be(),l=ye("small"),Ke(w.$$.fragment),a=be(),c=ve(b),u=be(),f=ve($),p=be(),d=ye("br"),h=be(),x&&x.c(),m=$e()},m(t,y){he(t,e,y),de(e,n),de(e,r),de(e,i),de(i,o),de(e,s),de(e,l),Ye(w,l,null),de(l,a),de(l,c),de(e,u),de(e,f),he(t,p,y),he(t,d,y),he(t,h,y),x&&x.m(t,y),he(t,m,y),g=!0},p(t,e){(!g||4&e)&&y!==(y=t[12].pellets>1&&t[12].damageBonus?"(":"")&&ke(n,y),(!g||4&e)&&v!==(v=(t[12].damage||0)+"")&&ke(o,v);const r={};4&e&&(r.bonus=t[12].damageBonus),w.$set(r),(!g||4&e)&&b!==(b=t[12].pellets>1&&t[12].damageBonus?")":"")&&ke(c,b),(!g||4&e)&&$!==($=t[12].pellets>1?" ×"+t[12].pellets:"")&&ke(f,$),t[12].damageType?x?(x.p(t,e),Ge(x,1)):((x=$r(t)).c(),Ge(x,1),x.m(m.parentNode,m)):x&&(Ue(),We(x,1,1,()=>{x=null}),Ze())},i(t){g||(Ge(w.$$.fragment,t),Ge(x),g=!0)},o(t){We(w.$$.fragment,t),We(x),g=!1},d(t){t&&me(e),Ve(w),t&&me(p),t&&me(d),t&&me(h),x&&x.d(t),t&&me(m)}}}function $r(t){let e;const n=new rn({props:{href:Ft.damageTypes[t[12].damageType]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.href=Ft.damageTypes[t[12].damageType]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function wr(t){let e;const n=new er({props:{items:t[0].meleeAlter}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[0].meleeAlter),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function xr(t){let e;const n=new er({props:{items:t[12].alter}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.items=t[12].alter),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function kr(t){let e,n,r,i,o,s,l,a,c;const u=[mr,hr],f=[];function p(t,e){return"ammo"==t[12].mode?0:1}n=p(t),r=f[n]=u[n](t);let d=("damage"in t[12]||"damageType"in t[12])&&br(t),h="melee"==t[12].mode&&t[0].meleeAlter&&2!=t[0].battleType&&wr(t),m="ammo"==t[12].mode&&t[12].alter&&xr(t);return{c(){e=ye("tr"),r.c(),i=be(),o=ye("td"),d&&d.c(),s=be(),h&&h.c(),l=be(),m&&m.c(),a=$e()},m(t,r){he(t,e,r),f[n].m(e,null),de(e,i),de(e,o),d&&d.m(o,null),he(t,s,r),h&&h.m(t,r),he(t,l,r),m&&m.m(t,r),he(t,a,r),c=!0},p(t,s){let c=n;(n=p(t))===c?f[n].p(t,s):(Ue(),We(f[c],1,1,()=>{f[c]=null}),Ze(),(r=f[n])||(r=f[n]=u[n](t)).c(),Ge(r,1),r.m(e,i)),"damage"in t[12]||"damageType"in t[12]?d?(d.p(t,s),Ge(d,1)):((d=br(t)).c(),Ge(d,1),d.m(o,null)):d&&(Ue(),We(d,1,1,()=>{d=null}),Ze()),"melee"==t[12].mode&&t[0].meleeAlter&&2!=t[0].battleType?h?(h.p(t,s),Ge(h,1)):((h=wr(t)).c(),Ge(h,1),h.m(l.parentNode,l)):h&&(Ue(),We(h,1,1,()=>{h=null}),Ze()),"ammo"==t[12].mode&&t[12].alter?m?(m.p(t,s),Ge(m,1)):((m=xr(t)).c(),Ge(m,1),m.m(a.parentNode,a)):m&&(Ue(),We(m,1,1,()=>{m=null}),Ze())},i(t){c||(Ge(r),Ge(d),Ge(h),Ge(m),c=!0)},o(t){We(r),We(d),We(h),We(m),c=!1},d(t){t&&me(e),f[n].d(),d&&d.d(),t&&me(s),h&&h.d(t),t&&me(l),m&&m.d(t),t&&me(a)}}}function _r(t){let e;const n=new er({props:{items:t[0].damageAlter}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[0].damageAlter),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ar(t){let e,n,r,i,o,s,l,a,c,u,f,p,d;const h=new ir({props:{key:t[3]}}),m=[Mr,Nr,jr,Ir,Er,Tr,Or,Cr,Sr],g=[];function y(t,e){return 1&e&&(i=!!["requiresBuyBaseFunc"].includes(t[3])),i?0:(1&e&&(o=!!["manufacture","componentOf"].includes(t[3])),o?1:(1&e&&(s=!!["damageBonus","meleeBonus","accuracyMultiplier","meleeMultiplier","closeQuartersMultiplier"].includes(t[3])),s?2:(1&e&&(l=!!["damageType","meleeType"].includes(t[3])),l?3:"battleType"==t[3]?4:"experienceTrainingMode"==t[3]?5:(1&e&&(a=!!t[3].includes("Sound")),a?6:(1&e&&(c=!!["floorSprite","handSprite"].includes(t[3])),c?7:8)))))}return u=y(t,-1),f=g[u]=m[u](t),{c(){e=ye("tr"),Ke(h.$$.fragment),n=be(),r=ye("td"),f.c(),p=be(),xe(r,"class","right-column svelte-pzh78t")},m(t,i){he(t,e,i),Ye(h,e,null),de(e,n),de(e,r),g[u].m(r,null),de(e,p),d=!0},p(t,e){const n={};1&e&&(n.key=t[3]),h.$set(n);let i=u;(u=y(t,e))===i?g[u].p(t,e):(Ue(),We(g[i],1,1,()=>{g[i]=null}),Ze(),(f=g[u])||(f=g[u]=m[u](t)).c(),Ge(f,1),f.m(r,null))},i(t){d||(Ge(h.$$.fragment,t),Ge(f),d=!0)},o(t){We(h.$$.fragment,t),We(f),d=!1},d(t){t&&me(e),Ve(h),g[u].d()}}}function Sr(t){let e;const n=new En({props:{val:t[4]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[4]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Cr(t){let e,n,r,i,o,s,l,a=t[4]+"";return{c(){e=ye("a"),n=ve(a),i=be(),o=ye("img"),Ae(e,"vertical-align","top"),xe(e,"href",r=Ft.specialSprite(t[3],t[4])),xe(o,"class","sprite svelte-pzh78t"),xe(o,"alt",s=t[4]),o.src!==(l=Ft.specialSprite(t[3],t[4]))&&xe(o,"src",l)},m(t,r){he(t,e,r),de(e,n),he(t,i,r),he(t,o,r)},p(t,i){1&i&&a!==(a=t[4]+"")&&ke(n,a),1&i&&r!==(r=Ft.specialSprite(t[3],t[4]))&&xe(e,"href",r),1&i&&s!==(s=t[4])&&xe(o,"alt",s),1&i&&o.src!==(l=Ft.specialSprite(t[3],t[4]))&&xe(o,"src",l)},i:se,o:se,d(t){t&&me(e),t&&me(i),t&&me(o)}}}function Or(t){let e,n=Dr(t[4]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Br(or(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(1&i){let o;for(n=Dr(t[4]),o=0;o<n.length;o+=1){const s=or(t,n,o);r[o]?r[o].p(s,i):(r[o]=Br(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:se,o:se,d(t){ge(r,t),t&&me(e)}}}function Tr(t){let e,n,r,i=t[4]+"",o=Ft.str(Ft.experienceTrainingModes[t[4]])+"";return{c(){e=ve(i),n=ve(": "),r=ve(o)},m(t,i){he(t,e,i),he(t,n,i),he(t,r,i)},p(t,n){1&n&&i!==(i=t[4]+"")&&ke(e,i),1&n&&o!==(o=Ft.str(Ft.experienceTrainingModes[t[4]])+"")&&ke(r,o)},i:se,o:se,d(t){t&&me(e),t&&me(n),t&&me(r)}}}function Er(t){let e,n,r,i=t[4]+"",o=Ft.str(Ft.battleTypes[t[4]])+"";return{c(){e=ve(i),n=ve(": "),r=ve(o)},m(t,i){he(t,e,i),he(t,n,i),he(t,r,i)},p(t,n){1&n&&i!==(i=t[4]+"")&&ke(e,i),1&n&&o!==(o=Ft.str(Ft.battleTypes[t[4]])+"")&&ke(r,o)},i:se,o:se,d(t){t&&me(e),t&&me(n),t&&me(r)}}}function Ir(t){let e,n,r,i=t[4]+"",o=Ft.damageTypeName(t[4])+"";return{c(){e=ve(i),n=ve(": "),r=ve(o)},m(t,i){he(t,e,i),he(t,n,i),he(t,r,i)},p(t,n){1&n&&i!==(i=t[4]+"")&&ke(e,i),1&n&&o!==(o=Ft.damageTypeName(t[4])+"")&&ke(r,o)},i:se,o:se,d(t){t&&me(e),t&&me(n),t&&me(r)}}}function jr(t){let e;const n=new qn({props:{bonus:t[4]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.bonus=t[4]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Nr(t){let e,n,r=Object.keys(t[4]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Lr(sr(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[4]),s=0;s<r.length;s+=1){const o=sr(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=Lr(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Mr(t){let e;const n=new Bn({props:{items:t[4],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[4]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Br(t){let e,n,r,i,o,s=t[9]>0?"<br/>":"";return{c(){n=be(),r=ye("audio"),i=ve("Audio tag not working"),e=new Se(s,n),r.controls=!0,r.src!==(o=t[10])&&xe(r,"src",o)},m(t,o){e.m(t,o),he(t,n,o),he(t,r,o),de(r,i)},p(t,e){1&e&&r.src!==(o=t[10])&&xe(r,"src",o)},d(t){t&&e.d(),t&&me(n),t&&me(r)}}}function Lr(t){let e,n,r,i,o,s,l,a,c=t[4][t[7]]+"";const u=new rn({props:{href:t[7]}});return{c(){e=ye("tr"),n=ye("td"),r=ye("em"),i=ve(c),o=be(),s=ye("td"),Ke(u.$$.fragment),l=be()},m(t,c){he(t,e,c),de(e,n),de(n,r),de(r,i),de(e,o),de(e,s),Ye(u,s,null),de(e,l),a=!0},p(t,e){(!a||1&e)&&c!==(c=t[4][t[7]]+"")&&ke(i,c);const n={};1&e&&(n.href=t[7]),u.$set(n)},i(t){a||(Ge(u.$$.fragment,t),a=!0)},o(t){We(u.$$.fragment,t),a=!1},d(t){t&&me(e),Ve(u)}}}function Fr(t){let e,n,r=!["sprite","type","_attacks","damageAlter","meleeAlter"].includes(t[3]),i=r&&Ar(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["sprite","type","_attacks","damageAlter","meleeAlter"].includes(t[3])),r?i?(i.p(t,n),Ge(i,1)):((i=Ar(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Rr(t){let e,n,r,i,o,s,l,a=(t[0].sprite&&"Resources/Blanks/Blank.png"!=t[0].sprite||t[2].length>0)&&ur(t),c=Object.entries(t[0]).sort(Pr),u=[];for(let e=0;e<c.length;e+=1)u[e]=Fr(lr(t,c,e));const f=t=>We(u[t],1,1,()=>{u[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ve(t[1]),i=be(),a&&a.c(),o=be();for(let t=0;t<u.length;t+=1)u[t].c();s=$e(),xe(n,"class","table-header"),xe(n,"colspan","2")},m(t,c){he(t,e,c),de(e,n),de(n,r),he(t,i,c),a&&a.m(t,c),he(t,o,c);for(let e=0;e<u.length;e+=1)u[e].m(t,c);he(t,s,c),l=!0},p(t,[e]){if((!l||2&e)&&ke(r,t[1]),t[0].sprite&&"Resources/Blanks/Blank.png"!=t[0].sprite||t[2].length>0?a?(a.p(t,e),Ge(a,1)):((a=ur(t)).c(),Ge(a,1),a.m(o.parentNode,o)):a&&(Ue(),We(a,1,1,()=>{a=null}),Ze()),1&e){let n;for(c=Object.entries(t[0]).sort(Pr),n=0;n<c.length;n+=1){const r=lr(t,c,n);u[n]?(u[n].p(r,e),Ge(u[n],1)):(u[n]=Fr(r),u[n].c(),Ge(u[n],1),u[n].m(s.parentNode,s))}for(Ue(),n=c.length;n<u.length;n+=1)f(n);Ze()}},i(t){if(!l){Ge(a);for(let t=0;t<c.length;t+=1)Ge(u[t]);l=!0}},o(t){We(a),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)We(u[t]);l=!1},d(t){t&&me(e),t&&me(i),a&&a.d(t),t&&me(o),ge(u,t),t&&me(s)}}}function Dr(t){return t?(t.length||(t=[t]),t.map(t=>Ft.path+Ft.sounds[t]).filter(t=>t)):[]}const Pr=(t,e)=>t[0]>e[0]?1:-1;function zr(t,e,n){let r,{item:i}=e,{title:o=Ft.str("Item")}=e;return console.info(i),t.$set=(t=>{"item"in t&&n(0,i=t.item),"title"in t&&n(1,o=t.title)}),t.$$.update=(()=>{if(5&t.$$.dirty){if(n(2,r=i.attacks().slice()),i.compatibleAmmo)for(let t of i.compatibleAmmo){let e=Ft.items[t].attacks()[0];r.push(e)}console.info(r)}}),[i,o,r]}class Hr extends Je{constructor(t){super(),Xe(this,t,zr,Rr,fe,{item:0,title:1})}}function Ur(t,e,n){const r=t.slice();return r[13]=e[n],r[12]=n,r}function Zr(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Gr(t,e,n){const r=t.slice();return r[6]=e[n][0],r[7]=e[n][1],r}function Wr(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function qr(t,e,n){const r=t.slice();return r[6]=e[n][0],r[17]=e[n][1],r[12]=n,r}function Kr(t,e,n){const r=t.slice();return r[7]=e[n],r}function Yr(t,e,n){const r=t.slice();return r[24]=e[n],r[21]=n,r}function Vr(t,e,n){const r=t.slice();return r[22]=e[n],r[12]=n,r}function Xr(t){let e,n,r;const i=new $n({props:{items:t[2]}});return{c(){(e=ye("span")).textContent=`- ${Ft.str("see also")}`,n=be(),Ke(i.$$.fragment),Ae(e,"color","white")},m(t,o){he(t,e,o),he(t,n,o),Ye(i,t,o),r=!0},p(t,e){const n={};4&e&&(n.items=t[2]),i.$set(n)},i(t){r||(Ge(i.$$.fragment,t),r=!0)},o(t){We(i.$$.fragment,t),r=!1},d(t){t&&me(e),t&&me(n),Ve(i,t)}}}function Jr(t){let e,n,r,i,o,s,l=(t[1]?Ft.str("Hide"):Ft.str("Show"))+"",a=Ft.str("all variants")+"";return{c(){e=ye("p"),n=ye("button"),r=ve(l),i=be(),o=ve(a),xe(n,"class","btn-hover-effect btn-hover-effect--effect-1"),s=we(n,"click",t[3])},m(t,s){he(t,e,s),de(e,n),de(n,r),de(n,i),de(n,o)},p(t,e){2&e&&l!==(l=(t[1]?Ft.str("Hide"):Ft.str("Show"))+"")&&ke(r,l)},d(t){t&&me(e),s()}}}function Qr(t){let e,n,r,i=Object.keys(t[0].dollSprites).sort(t[4]),o=[];for(let e=0;e<i.length;e+=1)o[e]=ri(Vr(t,i,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=be(),xe(n=ye("div"),"style",r="height:"+(t[1]?230*(Math.floor(Object.keys(t[0].dollSprites).length/xi)+1):230)+"px")},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);he(t,e,r),he(t,n,r)},p(t,s){if(3&s){let n;for(i=Object.keys(t[0].dollSprites).sort(t[4]),n=0;n<i.length;n+=1){const r=Vr(t,i,n);o[n]?o[n].p(r,s):(o[n]=ri(r),o[n].c(),o[n].m(e.parentNode,e))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}3&s&&r!==(r="height:"+(t[1]?230*(Math.floor(Object.keys(t[0].dollSprites).length/xi)+1):230)+"px")&&xe(n,"style",r)},d(t){ge(o,t),t&&me(e),t&&me(n)}}}function ti(t){let e,n,r=t[1]&&ei(t),i=t[0].dollSprites[t[22]],o=[];for(let e=0;e<i.length;e+=1)o[e]=ni(Yr(t,i,e));return{c(){e=ye("div"),r&&r.c(),n=be();for(let t=0;t<o.length;t+=1)o[t].c();xe(e,"class","armor"),Ae(e,"left",t[12]%xi*180+"px"),Ae(e,"top",230*Math.floor(t[12]/xi)+"px")},m(t,i){he(t,e,i),r&&r.m(e,null),de(e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,s){if(t[1]?r?r.p(t,s):((r=ei(t)).c(),r.m(e,n)):r&&(r.d(1),r=null),1&s){let n;for(i=t[0].dollSprites[t[22]],n=0;n<i.length;n+=1){const r=Yr(t,i,n);o[n]?o[n].p(r,s):(o[n]=ni(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},d(t){t&&me(e),r&&r.d(),ge(o,t)}}}function ei(t){let e,n,r=t[22]+"";return{c(){e=ye("div"),n=ve(r),xe(e,"class","armor-variant")},m(t,r){he(t,e,r),de(e,n)},p(t,e){1&e&&r!==(r=t[22]+"")&&ke(n,r)},d(t){t&&me(e)}}}function ni(t){let e,n,r;return{c(){(e=ye("img")).src!==(n=t[24])&&xe(e,"src",n),xe(e,"alt",r=t[22]),xe(e,"onerror","this.onerror=null; console.log(this.src + ' not found'); this.src='xpedia/0.png';"),xe(e,"class","armor-layer")},m(t,n){he(t,e,n)},p(t,i){1&i&&e.src!==(n=t[24])&&xe(e,"src",n),1&i&&r!==(r=t[22])&&xe(e,"alt",r)},d(t){t&&me(e)}}}function ri(t){let e,n=(t[1]||0==t[12])&&ti(t);return{c(){n&&n.c(),e=$e()},m(t,r){n&&n.m(t,r),he(t,e,r)},p(t,r){t[1]||0==t[12]?n?n.p(t,r):((n=ti(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&me(e)}}}function ii(t){let e,n,r,i,o,s,l,a=Ft.str(t[7])+"",c=Object.entries(t[0][t[7]]).sort(t[5]),u=[];for(let e=0;e<c.length;e+=1)u[e]=ui(qr(t,c,e));const f=t=>We(u[t],1,1,()=>{u[t]=null});return{c(){e=ye("table"),n=ye("thead"),r=ye("tr"),i=ye("td"),o=be();for(let t=0;t<u.length;t+=1)u[t].c();s=be(),xe(i,"colspan","2"),xe(i,"class","number-table-header"),Ae(i,"text-align","center"),xe(e,"class","number-table armor-column")},m(t,c){he(t,e,c),de(e,n),de(n,r),de(r,i),i.innerHTML=a,de(e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);de(e,s),l=!0},p(t,n){if(1&n){let r;for(c=Object.entries(t[0][t[7]]).sort(t[5]),r=0;r<c.length;r+=1){const i=qr(t,c,r);u[r]?(u[r].p(i,n),Ge(u[r],1)):(u[r]=ui(i),u[r].c(),Ge(u[r],1),u[r].m(e,s))}for(Ue(),r=c.length;r<u.length;r+=1)f(r);Ze()}},i(t){if(!l){for(let t=0;t<c.length;t+=1)Ge(u[t]);l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)We(u[t]);l=!1},d(t){t&&me(e),ge(u,t)}}}function oi(t){let e,n,r=Ft.str(t[6])+"";return{c(){e=ye("nobr"),n=ve(r)},m(t,r){he(t,e,r),de(e,n)},p(t,e){1&e&&r!==(r=Ft.str(t[6])+"")&&ke(n,r)},i:se,o:se,d(t){t&&me(e)}}}function si(t){let e;const n=new rn({props:{href:Ft.damageTypes[t[6]]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=Ft.damageTypes[t[6]]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function li(t){let e,n=("damageModifier"==t[7]?Math.floor(100*t[17]):Ft.decamelize(t[17]))+"";return{c(){e=ye("em")},m(t,r){he(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=("damageModifier"==t[7]?Math.floor(100*t[17]):Ft.decamelize(t[17]))+"")&&(e.innerHTML=n)},d(t){t&&me(e)}}}function ai(t){let e,n=Object.keys(t[17]),r=[];for(let e=0;e<n.length;e+=1)r[e]=ci(Wr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(1&i){let o;for(n=Object.keys(t[17]),o=0;o<n.length;o+=1){const s=Wr(t,n,o);r[o]?r[o].p(s,i):(r[o]=ci(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){ge(r,t),t&&me(e)}}}function ci(t){let e,n,r,i,o=Ft.str(t[19])+"",s=Ft.decamelize(t[17][t[19]])+"",l=0!=t[21]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();return{c(){l&&l.c(),e=be(),r=ve("\r\n                        :\r\n                        "),i=ye("em"),n=new Se(o,r)},m(t,o){l&&l.m(t,o),he(t,e,o),n.m(t,o),he(t,r,o),he(t,i,o),i.innerHTML=s},p(t,e){1&e&&o!==(o=Ft.str(t[19])+"")&&n.p(o),1&e&&s!==(s=Ft.decamelize(t[17][t[19]])+"")&&(i.innerHTML=s)},d(t){l&&l.d(t),t&&me(e),t&&n.d(),t&&me(r),t&&me(i)}}}function ui(t){let e,n,r,i,o,s,l;const a=[si,oi],c=[];r=function(t,e){return"damageModifier"==t[7]?0:1}(t),i=c[r]=a[r](t);let u=function(t,e){return"recovery"==t[7]?ai:li}(t)(t);return{c(){e=ye("tr"),n=ye("td"),i.c(),o=be(),s=ye("td"),u.c()},m(t,i){he(t,e,i),de(e,n),c[r].m(n,null),de(e,o),de(e,s),u.m(s,null),l=!0},p(t,e){i.p(t,e),u.p(t,e)},i(t){l||(Ge(i),l=!0)},o(t){We(i),l=!1},d(t){t&&me(e),c[r].d(),u.d()}}}function fi(t){let e,n,r=t[0][t[7]]&&ii(t);return{c(){r&&r.c(),e=$e()},m(t,i){r&&r.m(t,i),he(t,e,i),n=!0},p(t,n){t[0][t[7]]?r?(r.p(t,n),Ge(r,1)):((r=ii(t)).c(),Ge(r,1),r.m(e.parentNode,e)):r&&(Ue(),We(r,1,1,()=>{r=null}),Ze())},i(t){n||(Ge(r),n=!0)},o(t){We(r),n=!1},d(t){r&&r.d(t),t&&me(e)}}}function pi(t){let e,n,r,i,o,s,l,a,c;const u=new ir({props:{key:t[6]}}),f=[yi,gi,mi,hi,di],p=[];function d(t,e){return"damageModifier"==t[6]?0:(1&e&&(i=!!["corpseBattle"].includes(t[6])),i?1:"spriteSheet"==t[6]?2:(1&e&&(o=!!["builtInWeapons","users","units"].includes(t[6])),o?3:4))}return s=d(t,-1),l=p[s]=f[s](t),{c(){e=ye("tr"),Ke(u.$$.fragment),n=be(),r=ye("td"),l.c(),a=be()},m(t,i){he(t,e,i),Ye(u,e,null),de(e,n),de(e,r),p[s].m(r,null),de(e,a),c=!0},p(t,e){const n={};1&e&&(n.key=t[6]),u.$set(n);let i=s;(s=d(t,e))===i?p[s].p(t,e):(Ue(),We(p[i],1,1,()=>{p[i]=null}),Ze(),(l=p[s])||(l=p[s]=f[s](t)).c(),Ge(l,1),l.m(r,null))},i(t){c||(Ge(u.$$.fragment,t),Ge(l),c=!0)},o(t){We(u.$$.fragment,t),We(l),c=!1},d(t){t&&me(e),Ve(u),p[s].d()}}}function di(t){let e;const n=new En({props:{val:t[7]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[7]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function hi(t){let e,n,r=t[7].filter(_i),i=[];for(let e=0;e<r.length;e+=1)i[e]=vi(Ur(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=t[7].filter(_i),s=0;s<r.length;s+=1){const o=Ur(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=vi(o),i[s].c(),Ge(i[s],1),i[s].m(e.parentNode,e))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function mi(t){let e,n,r,i=t[7]+"";return{c(){e=ye("a"),n=ve(i),xe(e,"href",r=Ft.sprite(t[7]))},m(t,r){he(t,e,r),de(e,n)},p(t,o){1&o&&i!==(i=t[7]+"")&&ke(n,i),1&o&&r!==(r=Ft.sprite(t[7]))&&xe(e,"href",r)},i:se,o:se,d(t){t&&me(e)}}}function gi(t){let e;const n=new rn({props:{href:t[7][0]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.href=t[7][0]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function yi(t){let e,n=t[7],r=[];for(let e=0;e<n.length;e+=1)r[e]=bi(Zr(t,n,e));return{c(){e=ye("table");for(let t=0;t<r.length;t+=1)r[t].c();xe(e,"class","number-table")},m(t,n){he(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(1&i){let o;for(n=t[7],o=0;o<n.length;o+=1){const s=Zr(t,n,o);r[o]?r[o].p(s,i):(r[o]=bi(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:se,o:se,d(t){t&&me(e),ge(r,t)}}}function vi(t){let e,n,r=0!=t[12]&&function(t){let e;return{c(){e=ve(",")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const i=new rn({props:{href:t[13]}});return{c(){r&&r.c(),e=be(),Ke(i.$$.fragment)},m(t,o){r&&r.m(t,o),he(t,e,o),Ye(i,t,o),n=!0},p(t,e){const n={};1&e&&(n.href=t[13]),i.$set(n)},i(t){n||(Ge(i.$$.fragment,t),n=!0)},o(t){We(i.$$.fragment,t),n=!1},d(t){r&&r.d(t),t&&me(e),Ve(i,t)}}}function bi(t){let e,n,r,i,o,s,l,a,c=Ft.damageTypeName(t[12])+"",u=Math.round(100*t[10])+"";return{c(){e=ye("tr"),n=ye("td"),r=ve(c),i=be(),o=ye("td"),s=ve(u),l=ve("%"),a=be(),xe(n,"width","50%"),xe(n,"class","number-table1"),xe(o,"width","50%"),xe(o,"class","number-table2")},m(t,c){he(t,e,c),de(e,n),de(n,r),de(e,i),de(e,o),de(o,s),de(o,l),de(e,a)},p(t,e){1&e&&u!==(u=Math.round(100*t[10])+"")&&ke(s,u)},d(t){t&&me(e)}}}function $i(t){let e,n,r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(t[6]),i=r&&pi(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(t[6])),r?i?(i.p(t,n),Ge(i,1)):((i=pi(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function wi(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y=Ft.str("Armor")+"",v=Object.keys(t[0].dollSprites).length>1,b=t[2].length>0&&Xr(t),$=v&&Jr(t),w=t[0].dollSprites&&Qr(t),x=["armor","damageModifier","stats","recovery"],k=[];for(let e=0;e<4;e+=1)k[e]=fi(Kr(t,x,e));const _=t=>We(k[t],1,1,()=>{k[t]=null});let A=Object.entries(t[0]).sort(ki),S=[];for(let e=0;e<A.length;e+=1)S[e]=$i(Gr(t,A,e));const C=t=>We(S[t],1,1,()=>{S[t]=null});return{c(){e=ye("table"),n=ye("tr"),r=ye("td"),i=ve(y),o=be(),b&&b.c(),s=be(),l=ye("tr"),a=ye("td"),c=ye("div"),$&&$.c(),u=be(),w&&w.c(),f=be(),p=ye("tr"),d=ye("td"),h=ye("div");for(let t=0;t<4;t+=1)k[t].c();m=be();for(let t=0;t<S.length;t+=1)S[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(c,"class","armors"),xe(a,"colspan","2"),xe(h,"class","flex-horisontal"),xe(d,"colspan","2"),xe(e,"class","armor-table")},m(t,y){he(t,e,y),de(e,n),de(n,r),de(r,i),de(r,o),b&&b.m(r,null),de(e,s),de(e,l),de(l,a),de(a,c),$&&$.m(c,null),de(c,u),w&&w.m(c,null),de(e,f),de(e,p),de(p,d),de(d,h);for(let t=0;t<4;t+=1)k[t].m(h,null);de(e,m);for(let t=0;t<S.length;t+=1)S[t].m(e,null);g=!0},p(t,[n]){if(t[2].length>0?b?(b.p(t,n),Ge(b,1)):((b=Xr(t)).c(),Ge(b,1),b.m(r,null)):b&&(Ue(),We(b,1,1,()=>{b=null}),Ze()),1&n&&(v=Object.keys(t[0].dollSprites).length>1),v?$?$.p(t,n):(($=Jr(t)).c(),$.m(c,u)):$&&($.d(1),$=null),t[0].dollSprites?w?w.p(t,n):((w=Qr(t)).c(),w.m(c,null)):w&&(w.d(1),w=null),1&n){let e;for(x=["armor","damageModifier","stats","recovery"],e=0;e<4;e+=1){const r=Kr(t,x,e);k[e]?(k[e].p(r,n),Ge(k[e],1)):(k[e]=fi(r),k[e].c(),Ge(k[e],1),k[e].m(h,null))}for(Ue(),e=4;e<4;e+=1)_(e);Ze()}if(1&n){let r;for(A=Object.entries(t[0]).sort(ki),r=0;r<A.length;r+=1){const i=Gr(t,A,r);S[r]?(S[r].p(i,n),Ge(S[r],1)):(S[r]=$i(i),S[r].c(),Ge(S[r],1),S[r].m(e,null))}for(Ue(),r=A.length;r<S.length;r+=1)C(r);Ze()}},i(t){if(!g){Ge(b);for(let t=0;t<4;t+=1)Ge(k[t]);for(let t=0;t<A.length;t+=1)Ge(S[t]);g=!0}},o(t){We(b),k=k.filter(Boolean);for(let t=0;t<4;t+=1)We(k[t]);S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)We(S[t]);g=!1},d(t){t&&me(e),b&&b.d(),$&&$.d(),w&&w.d(),ge(k,t),ge(S,t)}}}let xi=3;const ki=(t,e)=>t[0]>e[0]?1:-1,_i=t=>"INV_NULL"!=t.substr(0,8);function Ai(t,e,n){let{armor:r}=e,i=!1,o=[];return t.$set=(t=>{"armor"in t&&n(0,r=t.armor)}),t.$$.update=(()=>{if(5&t.$$.dirty&&(console.log(r),n(2,o=[]),"storeItem"in r&&"STR_NONE"!=r.storeItem&&o.push(r.storeItem),"users"in r))for(let t of r.users.filter(t=>"INV_NULL"!=t.substr(0,8)&&t!=r.type&&"#"+t!=window.location.hash))o.push(t)}),[r,i,o,t=>n(1,i=!i),(t,e)=>Ft.bodiesCompare([t,e]),(t,e)=>Ft.str(t[0])>Ft.str(e[0])?1:-1]}class Si extends Je{constructor(t){super(),Xe(this,t,Ai,wi,fe,{armor:0})}}function Ci(t,e,n){const r=t.slice();return r[2]=e[n][0],r[3]=e[n][1],r}function Oi(t){let e,n,r,i,o,s,l,a,c,u;const f=new ir({props:{key:t[2]}}),p=[ji,Ii,Ei,Ti],d=[];function h(t,e){return 1&e&&(i=!!["weaponStrings"].includes(t[2])),i?0:(1&e&&(o=!!["sprite"].includes(t[2])),o?1:(1&e&&(s=!!["requiresBaseFunc"].includes(t[2])),s?2:3))}return l=h(t,-1),a=d[l]=p[l](t),{c(){e=ye("tr"),Ke(f.$$.fragment),n=be(),r=ye("td"),a.c(),c=be()},m(t,i){he(t,e,i),Ye(f,e,null),de(e,n),de(e,r),d[l].m(r,null),de(e,c),u=!0},p(t,e){const n={};1&e&&(n.key=t[2]),f.$set(n);let i=l;(l=h(t,e))===i?d[l].p(t,e):(Ue(),We(d[i],1,1,()=>{d[i]=null}),Ze(),(a=d[l])||(a=d[l]=p[l](t)).c(),Ge(a,1),a.m(r,null))},i(t){u||(Ge(f.$$.fragment,t),Ge(a),u=!0)},o(t){We(f.$$.fragment,t),We(a),u=!1},d(t){t&&me(e),Ve(f),d[l].d()}}}function Ti(t){let e;const n=new En({props:{val:t[3]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[3]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ei(t){let e;const n=new Bn({props:{items:t[3],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[3]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ii(t){let e,n;return{c(){xe(e=ye("img"),"class","craft sprite"),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.png'"),xe(e,"alt","X"),e.src!==(n=Ft.specialSprite("baseSprite",1*t[3]+33))&&xe(e,"src",n)},m(t,n){he(t,e,n)},p(t,r){1&r&&e.src!==(n=Ft.specialSprite("baseSprite",1*t[3]+33))&&xe(e,"src",n)},i:se,o:se,d(t){t&&me(e)}}}function ji(t){let e;const n=new En({props:{val:t[3].map(t[1])}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[3].map(t[1])),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ni(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[2]),i=r&&Oi(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[2])),r?i?(i.p(t,n),Ge(i,1)):((i=Oi(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Mi(t){let e,n,r,i,o,s=Object.entries(t[0]).sort(Bi),l=[];for(let e=0;e<s.length;e+=1)l[e]=Ni(Ci(t,s,e));const a=t=>We(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("table"),n=ye("tr"),(r=ye("td")).textContent=`${Ft.str("Craft")}`,i=be();for(let t=0;t<l.length;t+=1)l[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(e,"class","main-table")},m(t,s){he(t,e,s),de(e,n),de(n,r),de(e,i);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,[n]){if(1&n){let r;for(s=Object.entries(t[0]).sort(Bi),r=0;r<s.length;r+=1){const i=Ci(t,s,r);l[r]?(l[r].p(i,n),Ge(l[r],1)):(l[r]=Ni(i),l[r].c(),Ge(l[r],1),l[r].m(e,null))}for(Ue(),r=s.length;r<l.length;r+=1)a(r);Ze()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ge(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)We(l[t]);o=!1},d(t){t&&me(e),ge(l,t)}}}const Bi=(t,e)=>t[0]>e[0]?1:-1;function Li(t,e,n){let{craft:r}=e;return t.$set=(t=>{"craft"in t&&n(0,r=t.craft)}),t.$$.update=(()=>{1&t.$$.dirty&&console.info(r)}),[r,t=>Ft.str(t).replace(">{ALT}{0}","")]}class Fi extends Je{constructor(t){super(),Xe(this,t,Li,Mi,fe,{craft:0})}}function Ri(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function Di(t){let e,n,r,i,o;const s=new ir({props:{key:t[1]}}),l=new En({props:{val:t[2]}});return{c(){e=ye("tr"),Ke(s.$$.fragment),n=be(),r=ye("td"),Ke(l.$$.fragment),i=be()},m(t,a){he(t,e,a),Ye(s,e,null),de(e,n),de(e,r),Ye(l,r,null),de(e,i),o=!0},p(t,e){const n={};1&e&&(n.key=t[1]),s.$set(n);const r={};1&e&&(r.val=t[2]),l.$set(r)},i(t){o||(Ge(s.$$.fragment,t),Ge(l.$$.fragment,t),o=!0)},o(t){We(s.$$.fragment,t),We(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ve(s),Ve(l)}}}function Pi(t){let e,n,r=!["type"].includes(t[1]),i=r&&Di(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type"].includes(t[1])),r?i?(i.p(t,n),Ge(i,1)):((i=Di(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function zi(t){let e;const n=new Hr({props:{item:Ft.items[t[0].launcher],title:Ft.str("Launcher")+": "+Ft.str(t[0].launcher)}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Ft.items[t[0].launcher]),1&e&&(r.title=Ft.str("Launcher")+": "+Ft.str(t[0].launcher)),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Hi(t){let e;const n=new Hr({props:{item:Ft.items[t[0].clip],title:Ft.str("Clip")+": "+Ft.str(t[0].clip)}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Ft.items[t[0].clip]),1&e&&(r.title=Ft.str("Clip")+": "+Ft.str(t[0].clip)),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ui(t){let e,n,r,i,o,s,l,a,c,u=Object.entries(t[0]).sort(Zi),f=[];for(let e=0;e<u.length;e+=1)f[e]=Pi(Ri(t,u,e));const p=t=>We(f[t],1,1,()=>{f[t]=null});let d=t[0].launcher&&zi(t),h=t[0].clip&&Hi(t);return{c(){e=ye("div"),n=ye("table"),r=ye("tr"),(i=ye("td")).textContent=`${Ft.str("Weapon")}`,o=be();for(let t=0;t<f.length;t+=1)f[t].c();s=be(),l=ye("table"),d&&d.c(),a=be(),h&&h.c(),xe(i,"colspan","2"),xe(i,"class","table-header"),xe(n,"class","main-table"),Ae(n,"min-width","25rem"),xe(l,"class","main-table"),Ae(l,"min-width","25rem"),xe(e,"class","launchers")},m(t,u){he(t,e,u),de(e,n),de(n,r),de(r,i),de(n,o);for(let t=0;t<f.length;t+=1)f[t].m(n,null);de(e,s),de(e,l),d&&d.m(l,null),de(l,a),h&&h.m(l,null),c=!0},p(t,[e]){if(1&e){let r;for(u=Object.entries(t[0]).sort(Zi),r=0;r<u.length;r+=1){const i=Ri(t,u,r);f[r]?(f[r].p(i,e),Ge(f[r],1)):(f[r]=Pi(i),f[r].c(),Ge(f[r],1),f[r].m(n,null))}for(Ue(),r=u.length;r<f.length;r+=1)p(r);Ze()}t[0].launcher?d?(d.p(t,e),Ge(d,1)):((d=zi(t)).c(),Ge(d,1),d.m(l,a)):d&&(Ue(),We(d,1,1,()=>{d=null}),Ze()),t[0].clip?h?(h.p(t,e),Ge(h,1)):((h=Hi(t)).c(),Ge(h,1),h.m(l,null)):h&&(Ue(),We(h,1,1,()=>{h=null}),Ze())},i(t){if(!c){for(let t=0;t<u.length;t+=1)Ge(f[t]);Ge(d),Ge(h),c=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)We(f[t]);We(d),We(h),c=!1},d(t){t&&me(e),ge(f,t),d&&d.d(),h&&h.d()}}}const Zi=(t,e)=>t[0]>e[0]?1:-1;function Gi(t,e,n){let{weapon:r}=e;return t.$set=(t=>{"weapon"in t&&n(0,r=t.weapon)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class Wi extends Je{constructor(t){super(),Xe(this,t,Gi,Ui,fe,{weapon:0})}}function qi(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ki(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Yi(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function Vi(t){let e,n,r,i,o,s,l,a;const c=new ir({props:{key:t[1]}}),u=[Ji,Xi],f=[];function p(t,e){return 1&e&&(i=!!["builtInWeaponSets"].includes(t[1])),i?0:1}return o=p(t,-1),s=f[o]=u[o](t),{c(){e=ye("tr"),Ke(c.$$.fragment),n=be(),r=ye("td"),s.c(),l=be()},m(t,i){he(t,e,i),Ye(c,e,null),de(e,n),de(e,r),f[o].m(r,null),de(e,l),a=!0},p(t,e){const n={};1&e&&(n.key=t[1]),c.$set(n);let i=o;(o=p(t,e))===i?f[o].p(t,e):(Ue(),We(f[i],1,1,()=>{f[i]=null}),Ze(),(s=f[o])||(s=f[o]=u[o](t)).c(),Ge(s,1),s.m(r,null))},i(t){a||(Ge(c.$$.fragment,t),Ge(s),a=!0)},o(t){We(c.$$.fragment,t),We(s),a=!1},d(t){t&&me(e),Ve(c),f[o].d()}}}function Xi(t){let e;const n=new En({props:{val:t[2]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[2]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ji(t){let e,n,r=Object.values(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=eo(Ki(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=Object.values(t[2]),s=0;s<r.length;s+=1){const o=Ki(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=eo(o),i[s].c(),Ge(i[s],1),i[s].m(e.parentNode,e))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function Qi(t){let e,n,r=t[7]+1+"";return{c(){e=ve(r),n=ve(":")},m(t,r){he(t,e,r),he(t,n,r)},d(t){t&&me(e),t&&me(n)}}}function to(t){let e,n,r=0!=t[10]&&function(t){let e;return{c(){e=ve(",")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const i=new rn({props:{href:t[8]}});return{c(){r&&r.c(),e=be(),Ke(i.$$.fragment)},m(t,o){r&&r.m(t,o),he(t,e,o),Ye(i,t,o),n=!0},p(t,e){const n={};1&e&&(n.href=t[8]),i.$set(n)},i(t){n||(Ge(i.$$.fragment,t),n=!0)},o(t){We(i.$$.fragment,t),n=!1},d(t){r&&r.d(t),t&&me(e),Ve(i,t)}}}function eo(t){let e,n,r,i,o=![t[7]].includes(t[2]),s=0!=t[7]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}(),l=o&&Qi(t),a=t[5],c=[];for(let e=0;e<a.length;e+=1)c[e]=to(qi(t,a,e));const u=t=>We(c[t],1,1,()=>{c[t]=null});return{c(){s&&s.c(),e=be(),l&&l.c(),n=be();for(let t=0;t<c.length;t+=1)c[t].c();r=$e()},m(t,o){s&&s.m(t,o),he(t,e,o),l&&l.m(t,o),he(t,n,o);for(let e=0;e<c.length;e+=1)c[e].m(t,o);he(t,r,o),i=!0},p(t,e){if(1&e&&(o=![t[7]].includes(t[2])),o?l||((l=Qi(t)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),1&e){let n;for(a=t[5],n=0;n<a.length;n+=1){const i=qi(t,a,n);c[n]?(c[n].p(i,e),Ge(c[n],1)):(c[n]=to(i),c[n].c(),Ge(c[n],1),c[n].m(r.parentNode,r))}for(Ue(),n=a.length;n<c.length;n+=1)u(n);Ze()}},i(t){if(!i){for(let t=0;t<a.length;t+=1)Ge(c[t]);i=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)We(c[t]);i=!1},d(t){s&&s.d(t),t&&me(e),l&&l.d(t),t&&me(n),ge(c,t),t&&me(r)}}}function no(t){let e,n,r=!["type","scripts"].includes(t[1]),i=r&&Vi(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","scripts"].includes(t[1])),r?i?(i.p(t,n),Ge(i,1)):((i=Vi(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function ro(t){let e,n,r,i,o,s=Object.entries(t[0]).sort(io),l=[];for(let e=0;e<s.length;e+=1)l[e]=no(Yi(t,s,e));const a=t=>We(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("tr"),(n=ye("td")).textContent=`${Ft.str("Unit")}`,r=be();for(let t=0;t<l.length;t+=1)l[t].c();i=$e(),xe(n,"colspan","2"),xe(n,"class","table-header")},m(t,s){he(t,e,s),de(e,n),he(t,r,s);for(let e=0;e<l.length;e+=1)l[e].m(t,s);he(t,i,s),o=!0},p(t,[e]){if(1&e){let n;for(s=Object.entries(t[0]).sort(io),n=0;n<s.length;n+=1){const r=Yi(t,s,n);l[n]?(l[n].p(r,e),Ge(l[n],1)):(l[n]=no(r),l[n].c(),Ge(l[n],1),l[n].m(i.parentNode,i))}for(Ue(),n=s.length;n<l.length;n+=1)a(n);Ze()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ge(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)We(l[t]);o=!1},d(t){t&&me(e),t&&me(r),ge(l,t),t&&me(i)}}}const io=(t,e)=>t[0]>e[0]?1:-1;function oo(t,e,n){let{unit:r}=e;return t.$set=(t=>{"unit"in t&&n(0,r=t.unit)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class so extends Je{constructor(t){super(),Xe(this,t,oo,ro,fe,{unit:0})}}function lo(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function ao(t,e,n){const r=t.slice();return r[4]=e[n],r}function co(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function uo(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function fo(t){let e,n,r,i,o;const s=new ir({props:{key:t[4]}}),l=new En({props:{val:t[5]}});return{c(){e=ye("tr"),Ke(s.$$.fragment),n=be(),r=ye("td"),Ke(l.$$.fragment),i=be()},m(t,a){he(t,e,a),Ye(s,e,null),de(e,n),de(e,r),Ye(l,r,null),de(e,i),o=!0},p(t,e){const n={};1&e&&(n.key=t[4]),s.$set(n);const r={};1&e&&(r.val=t[5]),l.$set(r)},i(t){o||(Ge(s.$$.fragment,t),Ge(l.$$.fragment,t),o=!0)},o(t){We(s.$$.fragment,t),We(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ve(s),Ve(l)}}}function po(t){let e,n,r,i,o,s,l,a,c=Ft.decamelize(t[4])+"",u=Object.keys(t[5]),f=[];for(let e=0;e<u.length;e+=1)f[e]=yo(ao(t,u,e));const p=t=>We(f[t],1,1,()=>{f[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ye("div"),i=ve(c),o=be(),s=ye("div");for(let t=0;t<f.length;t+=1)f[t].c();l=be(),xe(r,"class","table-subheader"),xe(n,"colspan","2"),xe(e,"class","subtable")},m(t,c){he(t,e,c),de(e,n),de(n,r),de(r,i),de(n,o),de(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);de(n,l),a=!0},p(t,e){if((!a||1&e)&&c!==(c=Ft.decamelize(t[4])+"")&&ke(i,c),5&e){let n;for(u=Object.keys(t[5]),n=0;n<u.length;n+=1){const r=ao(t,u,n);f[n]?(f[n].p(r,e),Ge(f[n],1)):(f[n]=yo(r),f[n].c(),Ge(f[n],1),f[n].m(s,null))}for(Ue(),n=u.length;n<f.length;n+=1)p(n);Ze()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)Ge(f[t]);a=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)We(f[t]);a=!1},d(t){t&&me(e),ge(f,t)}}}function ho(t){let e;const n=new Bn({props:{items:t[5],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[5]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function mo(t){let e,n,r,i,o,s,l,a,c=Ft.decamelize(t[4])+"",u=t[5],f=[];for(let e=0;e<u.length;e+=1)f[e]=vo(co(t,u,e));const p=t=>We(f[t],1,1,()=>{f[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ye("div"),i=ve(c),o=be(),s=ye("div");for(let t=0;t<f.length;t+=1)f[t].c();l=be(),xe(r,"class","table-subheader"),xe(s,"class","cols"),Ae(s,"columns","2"),xe(n,"colspan","2"),xe(e,"class","subtable")},m(t,c){he(t,e,c),de(e,n),de(n,r),de(r,i),de(n,o),de(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);de(n,l),a=!0},p(t,e){if((!a||1&e)&&c!==(c=Ft.decamelize(t[4])+"")&&ke(i,c),5&e){let n;for(u=t[5],n=0;n<u.length;n+=1){const r=co(t,u,n);f[n]?(f[n].p(r,e),Ge(f[n],1)):(f[n]=vo(r),f[n].c(),Ge(f[n],1),f[n].m(s,null))}for(Ue(),n=u.length;n<f.length;n+=1)p(n);Ze()}},i(t){if(!a){for(let t=0;t<u.length;t+=1)Ge(f[t]);a=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)We(f[t]);a=!1},d(t){t&&me(e),ge(f,t)}}}function go(t){let e,n;const r=new rn({props:{href:t[8]}});return{c(){e=ye("div"),Ke(r.$$.fragment)},m(t,i){he(t,e,i),Ye(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.href=t[8]),r.$set(n)},i(t){n||(Ge(r.$$.fragment,t),n=!0)},o(t){We(r.$$.fragment,t),n=!1},d(t){t&&me(e),Ve(r)}}}function yo(t){let e,n,r,i,o;const s=new rn({props:{href:t[4]}});let l=t[5][t[4]],a=[];for(let e=0;e<l.length;e+=1)a[e]=go(lo(t,l,e));const c=t=>We(a[t],1,1,()=>{a[t]=null});return{c(){e=ye("div"),Ke(s.$$.fragment),n=be(),r=ye("div");for(let t=0;t<a.length;t+=1)a[t].c();i=be(),xe(e,"class","table-subheader"),xe(r,"class","cols"),Ae(r,"columns","2")},m(t,l){he(t,e,l),Ye(s,e,null),he(t,n,l),he(t,r,l);for(let t=0;t<a.length;t+=1)a[t].m(r,null);de(r,i),o=!0},p(t,e){const n={};if(1&e&&(n.href=t[4]),s.$set(n),5&e){let n;for(l=t[5][t[4]],n=0;n<l.length;n+=1){const o=lo(t,l,n);a[n]?(a[n].p(o,e),Ge(a[n],1)):(a[n]=go(o),a[n].c(),Ge(a[n],1),a[n].m(r,i))}for(Ue(),n=l.length;n<a.length;n+=1)c(n);Ze()}},i(t){if(!o){Ge(s.$$.fragment,t);for(let t=0;t<l.length;t+=1)Ge(a[t]);o=!0}},o(t){We(s.$$.fragment,t),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)We(a[t]);o=!1},d(t){t&&me(e),Ve(s),t&&me(n),t&&me(r),ge(a,t)}}}function vo(t){let e,n;const r=new rn({props:{href:t[8]}});return{c(){e=ye("div"),Ke(r.$$.fragment)},m(t,i){he(t,e,i),Ye(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.href=t[8]),r.$set(n)},i(t){n||(Ge(r.$$.fragment,t),n=!0)},o(t){We(r.$$.fragment,t),n=!1},d(t){t&&me(e),Ve(r)}}}function bo(t){let e,n,r,i,o,s,l;const a=[mo,ho,po,fo],c=[];function u(t,i){return 1&i&&(e=!!(t[2].includes(t[4])&&t[5]&&t[5].length>0)),e?0:(1&i&&(n=!!["requiresBaseFunc"].includes(t[4])),n?1:"getOneFreeProtected"==t[4]?2:(1&i&&(r=!["name"].includes(t[4])),r?3:-1))}return~(i=u(t,-1))&&(o=c[i]=a[i](t)),{c(){o&&o.c(),s=$e()},m(t,e){~i&&c[i].m(t,e),he(t,s,e),l=!0},p(t,e){let n=i;(i=u(t,e))===n?~i&&c[i].p(t,e):(o&&(Ue(),We(c[n],1,1,()=>{c[n]=null}),Ze()),~i?((o=c[i])||(o=c[i]=a[i](t)).c(),Ge(o,1),o.m(s.parentNode,s)):o=null)},i(t){l||(Ge(o),l=!0)},o(t){We(o),l=!1},d(t){~i&&c[i].d(t),t&&me(s)}}}function $o(t){let e,n,r,i,o,s,l=Object.entries(t[0]).sort(t[3]),a=[];for(let e=0;e<l.length;e+=1)a[e]=bo(uo(t,l,e));const c=t=>We(a[t],1,1,()=>{a[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ve(t[1]),i=be();for(let t=0;t<a.length;t+=1)a[t].c();o=$e(),xe(n,"colspan","2"),xe(n,"class","table-header")},m(t,l){he(t,e,l),de(e,n),de(n,r),he(t,i,l);for(let e=0;e<a.length;e+=1)a[e].m(t,l);he(t,o,l),s=!0},p(t,[e]){if((!s||2&e)&&ke(r,t[1]),5&e){let n;for(l=Object.entries(t[0]).sort(t[3]),n=0;n<l.length;n+=1){const r=uo(t,l,n);a[n]?(a[n].p(r,e),Ge(a[n],1)):(a[n]=bo(r),a[n].c(),Ge(a[n],1),a[n].m(o.parentNode,o))}for(Ue(),n=l.length;n<a.length;n+=1)c(n);Ze()}},i(t){if(!s){for(let t=0;t<l.length;t+=1)Ge(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)We(a[t]);s=!1},d(t){t&&me(e),t&&me(i),ge(a,t),t&&me(o)}}}function wo(t,e,n){let{research:r}=e,{title:i=Ft.str("Research")}=e,o=["seeAlso","requiresBaseFunc","manufacture","getOneFree","freeFrom","unlocks","dependencies","leadsTo","disables"];return t.$set=(t=>{"research"in t&&n(0,r=t.research),"title"in t&&n(1,i=t.title)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r,i,o,(t,e)=>(o.includes(e[0])?-10:10)+(t[0]>e[0]?1:-1)]}class xo extends Je{constructor(t){super(),Xe(this,t,wo,$o,fe,{research:0,title:1})}}function ko(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function _o(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ao(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function So(t,e,n){const r=t.slice();return r[7]=e[n][0],r[8]=e[n][1],r}function Co(t){let e,n,r,i,o,s,l,a;const c=new ir({props:{key:t[7]}}),u=[Eo,To,Oo],f=[];function p(t,e){return 1&e&&(i=!!["requiresBaseFunc"].includes(t[8][0])),i?0:(1&e&&(o=!!["producedItems","requiredItems"].includes(t[7])),o?1:2)}return s=p(t,-1),l=f[s]=u[s](t),{c(){e=ye("tr"),Ke(c.$$.fragment),n=be(),r=ye("td"),l.c()},m(t,i){he(t,e,i),Ye(c,e,null),de(e,n),de(e,r),f[s].m(r,null),a=!0},p(t,e){const n={};1&e&&(n.key=t[7]),c.$set(n);let i=s;(s=p(t,e))===i?f[s].p(t,e):(Ue(),We(f[i],1,1,()=>{f[i]=null}),Ze(),(l=f[s])||(l=f[s]=u[s](t)).c(),Ge(l,1),l.m(r,null))},i(t){a||(Ge(c.$$.fragment,t),Ge(l),a=!0)},o(t){We(c.$$.fragment,t),We(l),a=!1},d(t){t&&me(e),Ve(c),f[s].d()}}}function Oo(t){let e;const n=new En({props:{val:t[8]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[8]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function To(t){let e,n,r=Object.keys(t[8]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Io(Ao(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[8]).sort(),s=0;s<r.length;s+=1){const o=Ao(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=Io(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Eo(t){let e;const n=new Bn({props:{items:t[8][1],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[8][1]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Io(t){let e,n,r,i,o,s=t[8][t[4]]+"";const l=new rn({props:{href:t[4]}});return{c(){e=ye("tr"),n=ye("td"),r=ve(s),i=ye("td"),Ke(l.$$.fragment)},m(t,s){he(t,e,s),de(e,n),de(n,r),de(e,i),Ye(l,i,null),o=!0},p(t,e){(!o||1&e)&&s!==(s=t[8][t[4]]+"")&&ke(r,s);const n={};1&e&&(n.href=t[4]),l.$set(n)},i(t){o||(Ge(l.$$.fragment,t),o=!0)},o(t){We(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ve(l)}}}function jo(t){let e,n,r=!["name","randomProducedItems"].includes(t[7]),i=r&&Co(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["name","randomProducedItems"].includes(t[7])),r?i?(i.p(t,n),Ge(i,1)):((i=Co(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function No(t){let e,n,r,i,o,s,l,a=t[0].randomProducedItems,c=[];for(let e=0;e<a.length;e+=1)c[e]=Lo(_o(t,a,e));const u=t=>We(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),(n=ye("td")).textContent=`${Ft.decamelize("randomProducedItems")}`,r=be(),i=ye("tr"),o=ye("td"),s=ye("table");for(let t=0;t<c.length;t+=1)c[t].c();xe(n,"colspan","2"),xe(n,"class","table-subheader"),xe(s,"class","number-table"),xe(s,"width","100%"),Ae(s,"margin","0px"),xe(o,"colspan","2")},m(t,a){he(t,e,a),de(e,n),he(t,r,a),he(t,i,a),de(i,o),de(o,s);for(let t=0;t<c.length;t+=1)c[t].m(s,null);l=!0},p(t,e){if(1&e){let n;for(a=t[0].randomProducedItems,n=0;n<a.length;n+=1){const r=_o(t,a,n);c[n]?(c[n].p(r,e),Ge(c[n],1)):(c[n]=Lo(r),c[n].c(),Ge(c[n],1),c[n].m(s,null))}for(Ue(),n=a.length;n<c.length;n+=1)u(n);Ze()}},i(t){if(!l){for(let t=0;t<a.length;t+=1)Ge(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)We(c[t]);l=!1},d(t){t&&me(e),t&&me(r),t&&me(i),ge(c,t)}}}function Mo(t){let e;return{c(){(e=ye("tr")).innerHTML='<td colspan="2" style="text-align:center;">NOTHING</td>'},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function Bo(t){let e,n,r,i,o,s=t[1][1][t[4]]+"";const l=new rn({props:{href:t[4]}});return{c(){e=ye("tr"),n=ye("td"),r=ve(s),i=ye("td"),Ke(l.$$.fragment)},m(t,s){he(t,e,s),de(e,n),de(n,r),de(e,i),Ye(l,i,null),o=!0},p(t,e){(!o||1&e)&&s!==(s=t[1][1][t[4]]+"")&&ke(r,s);const n={};1&e&&(n.href=t[4]),l.$set(n)},i(t){o||(Ge(l.$$.fragment,t),o=!0)},o(t){We(l.$$.fragment,t),o=!1},d(t){t&&me(e),Ve(l)}}}function Lo(t){let e,n,r,i,o,s,l,a,c,u,f=0==Object.keys(t[1][1]).length,p=t[1][0]+"",d=(t[1][0]/t[0].chanceSum*100).toFixed(3)+"",h=f&&Mo(),m=Object.keys(t[1][1]).sort(),g=[];for(let e=0;e<m.length;e+=1)g[e]=Bo(ko(t,m,e));const y=t=>We(g[t],1,1,()=>{g[t]=null});return{c(){h&&h.c(),e=be();for(let t=0;t<g.length;t+=1)g[t].c();n=be(),r=ye("tr"),i=ye("td"),o=ve("×"),s=ve(p),l=ve(" / "),a=ve(d),c=ve("%"),xe(i,"colspan","2"),Ae(i,"text-align","center"),Ae(i,"border-bottom","solid 0.3px #382C44")},m(t,f){h&&h.m(t,f),he(t,e,f);for(let e=0;e<g.length;e+=1)g[e].m(t,f);he(t,n,f),he(t,r,f),de(r,i),de(i,o),de(i,s),de(i,l),de(i,a),de(i,c),u=!0},p(t,r){if(1&r&&(f=0==Object.keys(t[1][1]).length),f?h||((h=Mo()).c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),1&r){let e;for(m=Object.keys(t[1][1]).sort(),e=0;e<m.length;e+=1){const i=ko(t,m,e);g[e]?(g[e].p(i,r),Ge(g[e],1)):(g[e]=Bo(i),g[e].c(),Ge(g[e],1),g[e].m(n.parentNode,n))}for(Ue(),e=m.length;e<g.length;e+=1)y(e);Ze()}(!u||1&r)&&p!==(p=t[1][0]+"")&&ke(s,p),(!u||1&r)&&d!==(d=(t[1][0]/t[0].chanceSum*100).toFixed(3)+"")&&ke(a,d)},i(t){if(!u){for(let t=0;t<m.length;t+=1)Ge(g[t]);u=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)We(g[t]);u=!1},d(t){h&&h.d(t),t&&me(e),ge(g,t),t&&me(n),t&&me(r)}}}function Fo(t){let e,n,r,i,o,s,l=Object.entries(t[0]).sort(Ro),a=[];for(let e=0;e<l.length;e+=1)a[e]=jo(So(t,l,e));const c=t=>We(a[t],1,1,()=>{a[t]=null});let u="randomProducedItems"in t[0]&&No(t);return{c(){e=ye("tr"),(n=ye("td")).textContent=`${Ft.str("Manufacture")}`,r=be();for(let t=0;t<a.length;t+=1)a[t].c();i=be(),u&&u.c(),o=$e(),xe(n,"colspan","2"),xe(n,"class","table-header")},m(t,l){he(t,e,l),de(e,n),he(t,r,l);for(let e=0;e<a.length;e+=1)a[e].m(t,l);he(t,i,l),u&&u.m(t,l),he(t,o,l),s=!0},p(t,[e]){if(1&e){let n;for(l=Object.entries(t[0]).sort(Ro),n=0;n<l.length;n+=1){const r=So(t,l,n);a[n]?(a[n].p(r,e),Ge(a[n],1)):(a[n]=jo(r),a[n].c(),Ge(a[n],1),a[n].m(i.parentNode,i))}for(Ue(),n=l.length;n<a.length;n+=1)c(n);Ze()}"randomProducedItems"in t[0]?u?(u.p(t,e),Ge(u,1)):((u=No(t)).c(),Ge(u,1),u.m(o.parentNode,o)):u&&(Ue(),We(u,1,1,()=>{u=null}),Ze())},i(t){if(!s){for(let t=0;t<l.length;t+=1)Ge(a[t]);Ge(u),s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)We(a[t]);We(u),s=!1},d(t){t&&me(e),t&&me(r),ge(a,t),t&&me(i),u&&u.d(t),t&&me(o)}}}const Ro=(t,e)=>t[0]>e[0]?1:-1;function Do(t,e,n){let{manufacture:r}=e;return t.$set=(t=>{"manufacture"in t&&n(0,r=t.manufacture)}),t.$$.update=(()=>{1&t.$$.dirty&&console.log(r)}),[r]}class Po extends Je{constructor(t){super(),Xe(this,t,Do,Fo,fe,{manufacture:0})}}function zo(t){let e,n,r,i,o;const s=new mn({props:{links:t[0].allowedCraft,title:Ft.str("Allowed crafts")}}),l=new mn({props:{links:t[0].allowedItemCategories,title:Ft.str("Allowed item categories")}}),a=new mn({props:{links:t[0].allowedArmors,title:Ft.str("Allowed armors")}}),c=new mn({props:{links:t[0].allowedVehicles,title:Ft.str("Allowed auxilia")}}),u=new mn({props:{links:t[0].deployments,title:Ft.str("Deployments")}});return{c(){Ke(s.$$.fragment),e=be(),Ke(l.$$.fragment),n=be(),Ke(a.$$.fragment),r=be(),Ke(c.$$.fragment),i=be(),Ke(u.$$.fragment)},m(t,f){Ye(s,t,f),he(t,e,f),Ye(l,t,f),he(t,n,f),Ye(a,t,f),he(t,r,f),Ye(c,t,f),he(t,i,f),Ye(u,t,f),o=!0},p(t,[e]){const n={};1&e&&(n.links=t[0].allowedCraft),s.$set(n);const r={};1&e&&(r.links=t[0].allowedItemCategories),l.$set(r);const i={};1&e&&(i.links=t[0].allowedArmors),a.$set(i);const o={};1&e&&(o.links=t[0].allowedVehicles),c.$set(o);const f={};1&e&&(f.links=t[0].deployments),u.$set(f)},i(t){o||(Ge(s.$$.fragment,t),Ge(l.$$.fragment,t),Ge(a.$$.fragment,t),Ge(c.$$.fragment,t),Ge(u.$$.fragment,t),o=!0)},o(t){We(s.$$.fragment,t),We(l.$$.fragment,t),We(a.$$.fragment,t),We(c.$$.fragment,t),We(u.$$.fragment,t),o=!1},d(t){Ve(s,t),t&&me(e),Ve(l,t),t&&me(n),Ve(a,t),t&&me(r),Ve(c,t),t&&me(i),Ve(u,t)}}}function Ho(t,e,n){let{conditions:r}=e;return t.$set=(t=>{"conditions"in t&&n(0,r=t.conditions)}),[r]}class Uo extends Je{constructor(t){super(),Xe(this,t,Ho,zo,fe,{conditions:0})}}function Zo(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Go(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Wo(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function qo(t){let e,n,r,i,o,s,l,a;const c=new ir({props:{key:t[1]}}),u=[Vo,Yo,Ko],f=[];function p(t,e){return 1&e&&(i=!!["modSprite"].includes(t[1])),i?0:"raceBonus"==t[1]?1:2}return o=p(t,-1),s=f[o]=u[o](t),{c(){e=ye("tr"),Ke(c.$$.fragment),n=be(),r=ye("td"),s.c(),l=be()},m(t,i){he(t,e,i),Ye(c,e,null),de(e,n),de(e,r),f[o].m(r,null),de(e,l),a=!0},p(t,e){const n={};1&e&&(n.key=t[1]),c.$set(n);let i=o;(o=p(t,e))===i?f[o].p(t,e):(Ue(),We(f[i],1,1,()=>{f[i]=null}),Ze(),(s=f[o])||(s=f[o]=u[o](t)).c(),Ge(s,1),s.m(r,null))},i(t){a||(Ge(c.$$.fragment,t),Ge(s),a=!0)},o(t){We(c.$$.fragment,t),We(s),a=!1},d(t){t&&me(e),Ve(c),f[o].d()}}}function Ko(t){let e;const n=new En({props:{val:t[2]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[2]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Yo(t){let e,n,r=Object.keys(t[2]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=Jo(Go(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","number-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[2]).sort(),s=0;s<r.length;s+=1){const o=Go(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=Jo(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Vo(t){let e,n;return{c(){xe(e=ye("img"),"class","sprite"),xe(e,"alt","X"),e.src!==(n=Ft.sprite(t[2]))&&xe(e,"src",n),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.jpg'")},m(t,n){he(t,e,n)},p(t,r){1&r&&e.src!==(n=Ft.sprite(t[2]))&&xe(e,"src",n)},i:se,o:se,d(t){t&&me(e)}}}function Xo(t){let e,n,r,i,o,s,l,a=Ft.decamelize(t[8])+"";const c=new rn({props:{href:t[2][t[5]][t[8]]}});return{c(){e=ye("div"),n=ve(a),r=ve(": "),i=ye("em"),Ke(c.$$.fragment),o=ye("br"),xe(e,"tooltip",s="tip_"+t[8])},m(t,s){he(t,e,s),de(e,n),de(e,r),de(e,i),Ye(c,i,null),de(e,o),l=!0},p(t,r){(!l||1&r)&&a!==(a=Ft.decamelize(t[8])+"")&&ke(n,a);const i={};1&r&&(i.href=t[2][t[5]][t[8]]),c.$set(i),(!l||1&r&&s!==(s="tip_"+t[8]))&&xe(e,"tooltip",s)},i(t){l||(Ge(c.$$.fragment,t),l=!0)},o(t){We(c.$$.fragment,t),l=!1},d(t){t&&me(e),Ve(c)}}}function Jo(t){let e,n,r,i,o,s,l=Ft.str(t[5])+"",a=Object.keys(t[2][t[5]]).sort(),c=[];for(let e=0;e<a.length;e+=1)c[e]=Xo(Zo(t,a,e));const u=t=>We(c[t],1,1,()=>{c[t]=null});return{c(){e=ye("tr"),n=ye("td"),r=ve(l),i=ye("td");for(let t=0;t<c.length;t+=1)c[t].c();o=be()},m(t,l){he(t,e,l),de(e,n),de(n,r),de(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);de(i,o),s=!0},p(t,e){if((!s||1&e)&&l!==(l=Ft.str(t[5])+"")&&ke(r,l),1&e){let n;for(a=Object.keys(t[2][t[5]]).sort(),n=0;n<a.length;n+=1){const r=Zo(t,a,n);c[n]?(c[n].p(r,e),Ge(c[n],1)):(c[n]=Xo(r),c[n].c(),Ge(c[n],1),c[n].m(i,o))}for(Ue(),n=a.length;n<c.length;n+=1)u(n);Ze()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)Ge(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)We(c[t]);s=!1},d(t){t&&me(e),ge(c,t)}}}function Qo(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[1]),i=r&&qo(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[1])),r?i?(i.p(t,n),Ge(i,1)):((i=qo(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function ts(t){let e,n,r,i,o,s=Object.entries(t[0]).sort(es),l=[];for(let e=0;e<s.length;e+=1)l[e]=Qo(Wo(t,s,e));const a=t=>We(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("table"),n=ye("tr"),(r=ye("td")).textContent=`${Ft.str("Craft")}`,i=be();for(let t=0;t<l.length;t+=1)l[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(e,"class","main-table")},m(t,s){he(t,e,s),de(e,n),de(n,r),de(e,i);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,[n]){if(1&n){let r;for(s=Object.entries(t[0]).sort(es),r=0;r<s.length;r+=1){const i=Wo(t,s,r);l[r]?(l[r].p(i,n),Ge(l[r],1)):(l[r]=Qo(i),l[r].c(),Ge(l[r],1),l[r].m(e,null))}for(Ue(),r=s.length;r<l.length;r+=1)a(r);Ze()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ge(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)We(l[t]);o=!1},d(t){t&&me(e),ge(l,t)}}}const es=(t,e)=>t[0]>e[0]?1:-1;function ns(t,e,n){let{ufo:r}=e;return t.$set=(t=>{"ufo"in t&&n(0,r=t.ufo)}),t.$$.update=(()=>{1&t.$$.dirty&&console.info(r)}),[r]}class rs extends Je{constructor(t){super(),Xe(this,t,ns,ts,fe,{ufo:0})}}function is(t,e,n){const r=t.slice();return r[11]=e[n],r[15]=n,r}function os(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function ss(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function ls(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function as(t){let e,n,r,i,o,s,l,a,c,u,f;const p=new ir({props:{key:t[4]}}),d=[ds,ps,fs,us,cs],h=[];function m(t,e){return 1&e&&(i=!!["buildCostItems"].includes(t[4])),i?0:(1&e&&(o=!!["storageTiles"].includes(t[4])),o?1:(1&e&&(s=!!["provideBaseFunc","requiresBaseFunc","forbiddenBaseFunc"].includes(t[4])),s?2:(1&e&&(l=!!["spriteFacility","spriteShape"].includes(t[4])),l?3:4)))}return a=m(t,-1),c=h[a]=d[a](t),{c(){e=ye("tr"),Ke(p.$$.fragment),n=be(),r=ye("td"),c.c(),u=be()},m(t,i){he(t,e,i),Ye(p,e,null),de(e,n),de(e,r),h[a].m(r,null),de(e,u),f=!0},p(t,e){const n={};1&e&&(n.key=t[4]),p.$set(n);let i=a;(a=m(t,e))===i?h[a].p(t,e):(Ue(),We(h[i],1,1,()=>{h[i]=null}),Ze(),(c=h[a])||(c=h[a]=d[a](t)).c(),Ge(c,1),c.m(r,null))},i(t){f||(Ge(p.$$.fragment,t),Ge(c),f=!0)},o(t){We(p.$$.fragment,t),We(c),f=!1},d(t){t&&me(e),Ve(p),h[a].d()}}}function cs(t){let e;const n=new En({props:{val:t[5]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.val=t[5]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function us(t){let e,n={length:t[2]},r=[];for(let e=0;e<n.length;e+=1)r[e]=ms(os(t,n,e));return{c(){e=ye("div");for(let t=0;t<r.length;t+=1)r[t].c();xe(e,"class","tight"),Ae(e,"columns",t[2]),Ae(e,"width",64*t[2]+"px")},m(t,n){he(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(5&i){let o;for(n={length:t[2]},o=0;o<n.length;o+=1){const s=os(t,n,o);r[o]?r[o].p(s,i):(r[o]=ms(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}4&i&&Ae(e,"columns",t[2]),4&i&&Ae(e,"width",64*t[2]+"px")},i:se,o:se,d(t){t&&me(e),ge(r,t)}}}function fs(t){let e;const n=new Bn({props:{items:t[5],vertical:!0}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.items=t[5]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function ps(t){let e,n,r,i,o,s,l,a,c=(t[1]?Ft.str("Hide"):Ft.str("Show"))+"",u=t[1]&&gs(t);return{c(){e=ye("div"),n=ye("div"),r=ye("button"),i=ve(c),o=be(),s=ye("div"),u&&u.c(),xe(r,"class","button dropdown-content svelte-fh4l44"),a=we(r,"click",t[3])},m(t,a){he(t,e,a),de(e,n),de(n,r),de(r,i),de(e,o),de(e,s),u&&u.m(s,null),l=!0},p(t,e){(!l||2&e)&&c!==(c=(t[1]?Ft.str("Hide"):Ft.str("Show"))+"")&&ke(i,c),t[1]?u?(u.p(t,e),Ge(u,1)):((u=gs(t)).c(),Ge(u,1),u.m(s,null)):u&&(Ue(),We(u,1,1,()=>{u=null}),Ze())},i(t){l||(Ge(u),l=!0)},o(t){We(u),l=!1},d(t){t&&me(e),u&&u.d(),a()}}}function ds(t){let e,n,r=Object.keys(t[5]).sort(),i=[];for(let e=0;e<r.length;e+=1)i[e]=ys(ss(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$e()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);he(t,e,r),n=!0},p(t,n){if(1&n){let s;for(r=Object.keys(t[5]).sort(),s=0;s<r.length;s+=1){const o=ss(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=ys(o),i[s].c(),Ge(i[s],1),i[s].m(e.parentNode,e))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){ge(i,t),t&&me(e)}}}function hs(t){let e,n;return{c(){xe(e=ye("img"),"class","facility sprite"),xe(e,"onerror","this.onerror=null; this.src='xpedia/0.jpg'"),xe(e,"alt","X"),e.src!==(n=Ft.specialSprite("baseSprite",1*t[5]+t[15]*t[2]+t[13]))&&xe(e,"src",n)},m(t,n){he(t,e,n)},p(t,r){5&r&&e.src!==(n=Ft.specialSprite("baseSprite",1*t[5]+t[15]*t[2]+t[13]))&&xe(e,"src",n)},d(t){t&&me(e)}}}function ms(t){let e,n={length:t[2]},r=[];for(let e=0;e<n.length;e+=1)r[e]=hs(is(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$e()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);he(t,e,n)},p(t,i){if(5&i){let o;for(n={length:t[2]},o=0;o<n.length;o+=1){const s=is(t,n,o);r[o]?r[o].p(s,i):(r[o]=hs(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){ge(r,t),t&&me(e)}}}function gs(t){let e,n;const r=new $n({props:{items:t[5],vertical:!0}});return{c(){e=ye("div"),Ke(r.$$.fragment),Ae(e,"columns","3")},m(t,i){he(t,e,i),Ye(r,e,null),n=!0},p(t,e){const n={};1&e&&(n.items=t[5]),r.$set(n)},i(t){n||(Ge(r.$$.fragment,t),n=!0)},o(t){We(r.$$.fragment,t),n=!1},d(t){t&&me(e),Ve(r)}}}function ys(t){let e,n,r,i,o,s,l=t[5][t[8]].build+"",a=t[5][t[8]].refund+"",c=0!=t[10]&&function(t){let e;return{c(){e=ye("br")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}();const u=new rn({props:{href:t[8]}});return{c(){c&&c.c(),e=be(),Ke(u.$$.fragment),n=ve("\r\n              : "),r=ve(l),i=ve(" / "),o=ve(a)},m(t,l){c&&c.m(t,l),he(t,e,l),Ye(u,t,l),he(t,n,l),he(t,r,l),he(t,i,l),he(t,o,l),s=!0},p(t,e){const n={};1&e&&(n.href=t[8]),u.$set(n),(!s||1&e)&&l!==(l=t[5][t[8]].build+"")&&ke(r,l),(!s||1&e)&&a!==(a=t[5][t[8]].refund+"")&&ke(o,a)},i(t){s||(Ge(u.$$.fragment,t),s=!0)},o(t){We(u.$$.fragment,t),s=!1},d(t){c&&c.d(t),t&&me(e),Ve(u,t),t&&me(n),t&&me(r),t&&me(i),t&&me(o)}}}function vs(t){let e,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[4]),i=r&&as(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(t[4])),r?i?(i.p(t,n),Ge(i,1)):((i=as(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function bs(t){let e,n,r,i,o,s=Object.entries(t[0]).sort($s),l=[];for(let e=0;e<s.length;e+=1)l[e]=vs(ls(t,s,e));const a=t=>We(l[t],1,1,()=>{l[t]=null});return{c(){e=ye("table"),n=ye("tr"),(r=ye("td")).textContent=`${Ft.str("Facility")}`,i=be();for(let t=0;t<l.length;t+=1)l[t].c();xe(r,"colspan","2"),xe(r,"class","table-header"),xe(e,"class","main-table")},m(t,s){he(t,e,s),de(e,n),de(n,r),de(e,i);for(let t=0;t<l.length;t+=1)l[t].m(e,null);o=!0},p(t,[n]){if(7&n){let r;for(s=Object.entries(t[0]).sort($s),r=0;r<s.length;r+=1){const i=ls(t,s,r);l[r]?(l[r].p(i,n),Ge(l[r],1)):(l[r]=vs(i),l[r].c(),Ge(l[r],1),l[r].m(e,null))}for(Ue(),r=s.length;r<l.length;r+=1)a(r);Ze()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Ge(l[t]);o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)We(l[t]);o=!1},d(t){t&&me(e),ge(l,t)}}}const $s=(t,e)=>t[0]>e[0]&&"storageTiles"!=t[0]?1:-1;function ws(t,e,n){let{facility:r}=e,i=!1,o=1;return t.$set=(t=>{"facility"in t&&n(0,r=t.facility)}),t.$$.update=(()=>{5&t.$$.dirty&&(n(2,o=r.size||1),console.log(o),console.info(r))}),[r,i,o,t=>n(1,i=!i)]}class xs extends Je{constructor(t){super(),Xe(this,t,ws,bs,fe,{facility:0})}}function ks(t,e,n){const r=t.slice();return r[1]=e[n],r}function _s(t){let e,n,r,i,o,s,l=Ft.decamelize(t[1][0])+"";const a=new $n({props:{items:t[1][1]}});return{c(){e=ye("tr"),n=ye("td"),r=ve(l),i=be(),o=ye("td"),Ke(a.$$.fragment)},m(t,l){he(t,e,l),de(e,n),de(n,r),de(e,i),de(e,o),Ye(a,o,null),s=!0},p(t,e){(!s||1&e)&&l!==(l=Ft.decamelize(t[1][0])+"")&&ke(r,l);const n={};1&e&&(n.items=t[1][1]),a.$set(n)},i(t){s||(Ge(a.$$.fragment,t),s=!0)},o(t){We(a.$$.fragment,t),s=!1},d(t){t&&me(e),Ve(a)}}}function As(t){let e,n,r=!["id"].includes(t[1][0]),i=r&&_s(t);return{c(){i&&i.c(),e=$e()},m(t,r){i&&i.m(t,r),he(t,e,r),n=!0},p(t,n){1&n&&(r=!["id"].includes(t[1][0])),r?i?(i.p(t,n),Ge(i,1)):((i=_s(t)).c(),Ge(i,1),i.m(e.parentNode,e)):i&&(Ue(),We(i,1,1,()=>{i=null}),Ze())},i(t){n||(Ge(i),n=!0)},o(t){We(i),n=!1},d(t){i&&i.d(t),t&&me(e)}}}function Ss(t){let e,n,r=Object.entries(t[0]).sort(Cs),i=[];for(let e=0;e<r.length;e+=1)i[e]=As(ks(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","main-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=Object.entries(t[0]).sort(Cs),s=0;s<r.length;s+=1){const o=ks(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=As(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}const Cs=(t,e)=>("providedBy"==t[0]?-10:10)+(t[0]>e[0]?1:-1);function Os(t,e,n){let{service:r}=e;return t.$set=(t=>{"service"in t&&n(0,r=t.service)}),[r]}class Ts extends Je{constructor(t){super(),Xe(this,t,Os,Ss,fe,{service:0})}}function Es(t,e,n){const r=t.slice();return r[1]=e[n],r}function Is(t){let e,n,r,i,o,s,l,a,c,u=Ft.str(t[1][0])+"";const f=new $n({props:{items:t[1][1].providedBy}});return{c(){e=ye("tr"),n=ye("td"),r=ye("a"),o=be(),s=ye("td"),Ke(f.$$.fragment),l=be(),xe(r,"color","cyan"),xe(r,"href",i="#"+t[1][0]),xe(r,"class","svelte-edz6kn"),xe(n,"class","svelte-edz6kn"),xe(s,"class","svelte-edz6kn"),xe(e,"class",a=pe(t[1][0]==t[0]?"highlight":"")+" svelte-edz6kn")},m(t,i){he(t,e,i),de(e,n),de(n,r),r.innerHTML=u,de(e,o),de(e,s),Ye(f,s,null),de(e,l),c=!0},p(t,n){(!c||1&n&&a!==(a=pe(t[1][0]==t[0]?"highlight":"")+" svelte-edz6kn"))&&xe(e,"class",a)},i(t){c||(Ge(f.$$.fragment,t),c=!0)},o(t){We(f.$$.fragment,t),c=!1},d(t){t&&me(e),Ve(f)}}}function js(t){let e,n,r=Object.entries(Ft.baseServices),i=[];for(let e=0;e<r.length;e+=1)i[e]=Is(Es(t,r,e));const o=t=>We(i[t],1,1,()=>{i[t]=null});return{c(){e=ye("table");for(let t=0;t<i.length;t+=1)i[t].c();xe(e,"class","main-table")},m(t,r){he(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=Object.entries(Ft.baseServices),s=0;s<r.length;s+=1){const o=Es(t,r,s);i[s]?(i[s].p(o,n),Ge(i[s],1)):(i[s]=Is(o),i[s].c(),Ge(i[s],1),i[s].m(e,null))}for(Ue(),s=r.length;s<i.length;s+=1)o(s);Ze()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Ge(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)We(i[t]);n=!1},d(t){t&&me(e),ge(i,t)}}}function Ns(t,e,n){let{query:r=null}=e;return console.log(r),t.$set=(t=>{"query"in t&&n(0,r=t.query)}),[r]}class Ms extends Je{constructor(t){super(),Xe(this,t,Ns,js,fe,{query:0})}}function Bs(t){let e;const n=new Dn({props:{id:t[0].image_id}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.id=t[0].image_id),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ls(t){let e,n;return{c(){e=ye("div"),n=ye("span"),xe(e,"class","article-text")},m(r,i){he(r,e,i),de(e,n),n.innerHTML=t[2]},p(t,e){4&e&&(n.innerHTML=t[2])},d(t){t&&me(e)}}}function Fs(t){let e;const n=new mn({props:{links:Ft.sections[t[0].id].articles.map(Qs)}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.links=Ft.sections[t[0].id].articles.map(Qs)),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Rs(t){let e;const n=new mn({props:{links:Ft.categories[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.links=Ft.categories[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ds(t){let e;const n=new Uo({props:{conditions:Ft.startingConditions[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.conditions=Ft.startingConditions[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ps(t){let e;const n=new Ms({});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p:se,i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function zs(t){let e;const n=new so({props:{unit:Ft.units[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.unit=Ft.units[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Hs(t){let e;const n=new Hr({props:{item:Ft.items[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.item=Ft.items[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Us(t){let e;const n=new Si({props:{armor:Ft.armors[Ft.units[t[0].id].armor]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.armor=Ft.armors[Ft.units[t[0].id].armor]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Zs(t){let e;const n=new Si({props:{armor:Ft.armors[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.armor=Ft.armors[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Gs(t){let e;const n=new Ts({props:{service:Ft.baseServices[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.service=Ft.baseServices[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ws(t){let e;const n=new Fi({props:{craft:Ft.crafts[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.craft=Ft.crafts[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function qs(t){let e;const n=new Wi({props:{weapon:Ft.craftWeapons[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.weapon=Ft.craftWeapons[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ks(t){let e;const n=new rs({props:{ufo:Ft.ufos[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.ufo=Ft.ufos[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Ys(t){let e;const n=new xs({props:{facility:Ft.facilities[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.facility=Ft.facilities[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Vs(t){let e;const n=new Po({props:{manufacture:Ft.manufacture[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.manufacture=Ft.manufacture[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Xs(t){let e;const n=new xo({props:{research:Ft.research[t[0].id]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.research=Ft.research[t[0].id]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Js(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v,b,$,w,x,k,_,A,S,C,O,T,E,I,j,N,M,B,L,F,R=(t[0].title||t[0].id)+"";document.title=e=Ft.str(t[0].title||"BootyPedia");let D=(!(t[0].id in Ft.units)||"STR_GOLDEN_SAINT_1"==t[0].id||"STR_STAR_GOD_PUBLIC_ENEMY"==t[0].id)&&Bs(t),P=t[2]&&Ls(t);const z=[Ps,Ds,Rs,Fs],H=[];function U(t,e){return"SERVICES"==t[0].id?0:"CONDITIONS"==t[0].type_id?1:"CATEGORIES"==t[0].type_id?2:"PEDIA"==t[0].type_id||"TYPE"==t[0].type_id?3:-1}~(y=U(t))&&(v=H[y]=z[y](t));var Z=t[3];function G(t){return{props:{query:t[1]}}}if(Z)var W=new Z(G(t));let q=t[0].id in Ft.units&&zs(t),K=t[0].id in Ft.items&&Hs(t);const Y=[Zs,Us],V=[];function X(t,e){return t[0].id in Ft.armors?0:t[0].id in Ft.units&&Ft.units[t[0].id].armor?1:-1}~(A=X(t))&&(S=V[A]=Y[A](t));let J=t[0].id in Ft.baseServices&&Gs(t),Q=t[0].id in Ft.crafts&&Ws(t),tt=t[0].id in Ft.craftWeapons&&qs(t),et=t[0].id in Ft.ufos&&Ks(t),nt=t[0].id in Ft.facilities&&Ys(t),rt=t[0].id in Ft.manufacture&&Vs(t),it=t[0].id in Ft.research&&Xs(t);return{c(){n=be(),r=ye("h1"),i=ye("span"),o=be(),s=ye("nobr"),l=ve(R),a=be(),c=ye("span"),u=be(),(f=ye("button")).textContent="<",p=be(),(d=ye("button")).textContent=">",h=be(),D&&D.c(),m=be(),P&&P.c(),g=be(),v&&v.c(),b=be(),$=ye("div"),W&&Ke(W.$$.fragment),w=be(),x=ye("table"),q&&q.c(),k=be(),K&&K.c(),_=be(),S&&S.c(),C=be(),J&&J.c(),O=be(),Q&&Q.c(),T=be(),tt&&tt.c(),E=be(),et&&et.c(),I=be(),nt&&nt.c(),j=be(),N=ye("div"),M=ye("table"),rt&&rt.c(),B=be(),it&&it.c(),Ae(i,"flex-wrap","wrap"),Ae(c,"flex","1"),xe(f,"class","page-turn"),xe(d,"class","page-turn"),xe(x,"class","main-table"),xe(M,"class","main-table"),xe(N,"class","flex-vertical"),xe($,"class","flex-horisontal"),F=[we(f,"click",t[5]),we(d,"click",t[6])]},m(t,e){he(t,n,e),he(t,r,e),de(r,i),de(r,o),de(r,s),de(s,l),de(r,a),de(r,c),de(r,u),de(r,f),de(r,p),de(r,d),he(t,h,e),D&&D.m(t,e),he(t,m,e),P&&P.m(t,e),he(t,g,e),~y&&H[y].m(t,e),he(t,b,e),he(t,$,e),W&&Ye(W,$,null),de($,w),de($,x),q&&q.m(x,null),de(x,k),K&&K.m(x,null),de($,_),~A&&V[A].m($,null),de($,C),J&&J.m($,null),de($,O),Q&&Q.m($,null),de($,T),tt&&tt.m($,null),de($,E),et&&et.m($,null),de($,I),nt&&nt.m($,null),de($,j),de($,N),de(N,M),rt&&rt.m(M,null),de(M,B),it&&it.m(M,null),L=!0},p(t,[n]){(!L||1&n)&&e!==(e=Ft.str(t[0].title||"BootyPedia"))&&(document.title=e),(!L||1&n)&&R!==(R=(t[0].title||t[0].id)+"")&&ke(l,R),t[0].id in Ft.units&&"STR_GOLDEN_SAINT_1"!=t[0].id&&"STR_STAR_GOD_PUBLIC_ENEMY"!=t[0].id?D&&(Ue(),We(D,1,1,()=>{D=null}),Ze()):D?(D.p(t,n),Ge(D,1)):((D=Bs(t)).c(),Ge(D,1),D.m(m.parentNode,m)),t[2]?P?P.p(t,n):((P=Ls(t)).c(),P.m(g.parentNode,g)):P&&(P.d(1),P=null);let r=y;(y=U(t))===r?~y&&H[y].p(t,n):(v&&(Ue(),We(H[r],1,1,()=>{H[r]=null}),Ze()),~y?((v=H[y])||(v=H[y]=z[y](t)).c(),Ge(v,1),v.m(b.parentNode,b)):v=null);const i={};if(2&n&&(i.query=t[1]),Z!==(Z=t[3])){if(W){Ue();const t=W;We(t.$$.fragment,1,0,()=>{Ve(t,1)}),Ze()}Z?(Ke((W=new Z(G(t))).$$.fragment),Ge(W.$$.fragment,1),Ye(W,$,w)):W=null}else Z&&W.$set(i);t[0].id in Ft.units?q?(q.p(t,n),Ge(q,1)):((q=zs(t)).c(),Ge(q,1),q.m(x,k)):q&&(Ue(),We(q,1,1,()=>{q=null}),Ze()),t[0].id in Ft.items?K?(K.p(t,n),Ge(K,1)):((K=Hs(t)).c(),Ge(K,1),K.m(x,null)):K&&(Ue(),We(K,1,1,()=>{K=null}),Ze());let o=A;(A=X(t))===o?~A&&V[A].p(t,n):(S&&(Ue(),We(V[o],1,1,()=>{V[o]=null}),Ze()),~A?((S=V[A])||(S=V[A]=Y[A](t)).c(),Ge(S,1),S.m($,C)):S=null),t[0].id in Ft.baseServices?J?(J.p(t,n),Ge(J,1)):((J=Gs(t)).c(),Ge(J,1),J.m($,O)):J&&(Ue(),We(J,1,1,()=>{J=null}),Ze()),t[0].id in Ft.crafts?Q?(Q.p(t,n),Ge(Q,1)):((Q=Ws(t)).c(),Ge(Q,1),Q.m($,T)):Q&&(Ue(),We(Q,1,1,()=>{Q=null}),Ze()),t[0].id in Ft.craftWeapons?tt?(tt.p(t,n),Ge(tt,1)):((tt=qs(t)).c(),Ge(tt,1),tt.m($,E)):tt&&(Ue(),We(tt,1,1,()=>{tt=null}),Ze()),t[0].id in Ft.ufos?et?(et.p(t,n),Ge(et,1)):((et=Ks(t)).c(),Ge(et,1),et.m($,I)):et&&(Ue(),We(et,1,1,()=>{et=null}),Ze()),t[0].id in Ft.facilities?nt?(nt.p(t,n),Ge(nt,1)):((nt=Ys(t)).c(),Ge(nt,1),nt.m($,j)):nt&&(Ue(),We(nt,1,1,()=>{nt=null}),Ze()),t[0].id in Ft.manufacture?rt?(rt.p(t,n),Ge(rt,1)):((rt=Vs(t)).c(),Ge(rt,1),rt.m(M,B)):rt&&(Ue(),We(rt,1,1,()=>{rt=null}),Ze()),t[0].id in Ft.research?it?(it.p(t,n),Ge(it,1)):((it=Xs(t)).c(),Ge(it,1),it.m(M,null)):it&&(Ue(),We(it,1,1,()=>{it=null}),Ze())},i(t){L||(Ge(D),Ge(v),W&&Ge(W.$$.fragment,t),Ge(q),Ge(K),Ge(S),Ge(J),Ge(Q),Ge(tt),Ge(et),Ge(nt),Ge(rt),Ge(it),L=!0)},o(t){We(D),We(v),W&&We(W.$$.fragment,t),We(q),We(K),We(S),We(J),We(Q),We(tt),We(et),We(nt),We(rt),We(it),L=!1},d(t){t&&me(n),t&&me(r),t&&me(h),D&&D.d(t),t&&me(m),P&&P.d(t),t&&me(g),~y&&H[y].d(t),t&&me(b),t&&me($),W&&Ve(W),q&&q.d(),K&&K.d(),~A&&V[A].d(),J&&J.d(),Q&&Q.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d(),rt&&rt.d(),it&&it.d(),ce(F)}}}const Qs=t=>t.id;function tl(t,e,n){const r=Ee();let i,{article:o}=e,{query:s}=e,l=!1;return t.$set=(t=>{"article"in t&&n(0,o=t.article),"query"in t&&n(1,s=t.query)}),t.$$.update=(()=>{if(7&t.$$.dirty&&(n(2,i=o.text||""),n(3,l="OTHER"==o.type_id&&{BaseServices:Ms}[o.id]),s))for(let t of s.split()){let e=new RegExp(t,"ig");n(2,i=i.replace(e,"<span class='queried'>$&</span>"))}}),[o,s,i,l,r,t=>r("prev"),t=>r("next")]}class el extends Je{constructor(t){super(),Xe(this,t,tl,Js,fe,{article:0,query:1})}}const{document:nl}=qe;function rl(t,e,n){const r=t.slice();return r[44]=e[n],r}function il(t,e,n){const r=t.slice();return r[41]=e[n],r}function ol(t,e,n){const r=t.slice();return r[47]=e[n],r}function sl(t,e,n){const r=t.slice();return r[41]=e[n],r[51]=n,r}function ll(t,e,n){const r=t.slice();return r[41]=e[n],r[51]=n,r}function al(t){return{c(){nl.title="BootyPedia"},m:se,d:se}}function cl(t){return{c:se,m:se,p:se,i:se,o:se,d:se}}function ul(t){let e,n,r,i,o,s,l,a,c,u,f,p,d,h,m,g,y,v,b,$,w,x,k,_,A,S,C,O,T,E,I,j,N,M,B,L,F,R,D,P,z,H,U,Z,G,W,q,K,Y,V,X=(t[3]?t[3].title:"")+"",J=Ft.sectionsOrder,Q=[];for(let e=0;e<J.length;e+=1)Q[e]=fl(ll(t,J,e));let tt=Ft.typeSectionsOrder,et=[];for(let e=0;e<tt.length;e+=1)et[e]=pl(sl(t,tt,e));let nt=Ft.config&&Ft.config.languages&&Ft.config.languages.length>1&&function(t){let e,n,r,i,o,s;let l=function(t,e){return"/en-US.html".includes(t[15])||"/en-US".includes(t[15])?vl:"/ru.html".includes(t[15])||"/ru".includes(t[15])?yl:"/pl.html".includes(t[15])||"/pl".includes(t[15])?gl:"/cs.html".includes(t[15])||"/cs".includes(t[15])?ml:"/es-ES.html".includes(t[15])?hl:dl}(t)(t),a=Ft.config.languages,c=[];for(let e=0;e<a.length;e+=1)c[e]=bl(ol(t,a,e));return{c(){e=ye("div"),n=ye("div"),l.c(),r=be(),i=ye("div");for(let t=0;t<c.length;t+=1)c[t].c();xe(n,"class","navbar-button"),xe(i,"class","languages-dropdown"),xe(i,"style",o=t[11]?"visibility:visible":"visibility:hidden"),xe(e,"class","navbar-dropdown-container"),s=[we(n,"mousedown",t[29]),we(e,"mouseover",t[30]),we(e,"mouseout",t[31])]},m(t,o){he(t,e,o),de(e,n),l.m(n,null),de(e,r),de(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null)},p(t,e){if(64&e[0]){let n;for(a=Ft.config.languages,n=0;n<a.length;n+=1){const r=ol(t,a,n);c[n]?c[n].p(r,e):(c[n]=bl(r),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}2048&e[0]&&o!==(o=t[11]?"visibility:visible":"visibility:hidden")&&xe(i,"style",o)},d(t){t&&me(e),l.d(),ge(c,t),ce(s)}}}(t),rt=t[8]&&$l(t);const it=[Ol,Cl,Sl],ot=[];function st(t,e){return t[0]?0:t[2]?1:t[2]?-1:2}return~(Z=st(t))&&(G=ot[Z]=it[Z](t)),{c(){e=ye("nav"),n=ye("div"),r=ye("div"),i=ye("img"),s=be(),l=ye("nobr"),(a=ye("span")).textContent=`${Ft.modName}  ${Ft.str("BootyPedia")}   `,c=be(),(u=ye("span")).textContent="V",f=ve("\r\n           "),p=be(),d=ye("div"),h=ye("div"),m=ye("div"),g=ye("div"),y=be();for(let t=0;t<Q.length;t+=1)Q[t].c();v=be(),b=ye("div");for(let t=0;t<et.length;t+=1)et[t].c();w=be(),x=ye("a"),k=ve(X),A=be(),S=ye("div"),C=be(),(O=ye("div")).innerHTML='<a href="##MAIN"><img src="xpedia/2.png" alt="Home" class="xpedia-icon main-menu" style="padding-top: 0.3rem"></a>',T=be(),(E=ye("div")).innerHTML='<a href="https://openxcom.org/forum/index.php/topic,3626.0.html" target="_blank"><img src="xpedia/3.png" alt="DL_link" class="xpedia-icon main-menu" style="padding-top: 0.3rem"></a>',I=be(),nt&&nt.c(),j=be(),N=be(),M=ye("div"),B=ye("input"),F=be(),rt&&rt.c(),R=be(),D=ye("button"),(P=ye("span")).textContent="≡",H=be(),U=ye("div"),G&&G.c(),q=be(),(K=ye("div")).textContent="Tooltip",i.src!==(o="xpedia/favicon.png")&&xe(i,"src","xpedia/favicon.png"),xe(i,"alt","logo X"),xe(i,"class","xpedia-icon"),xe(a,"class","on-wide"),Ae(u,"transform","scale(1.5,0.75)"),Ae(u,"font-weight","bold"),Ae(u,"display","inline-block"),xe(r,"class","navbar-button"),xe(m,"class","navbar-auto navbar-list"),xe(b,"class","navbar-custom navbar-list"),xe(h,"class","flex-horisontal"),Ae(h,"flex-wrap","nowrap"),xe(d,"class","navbar-dropdown"),xe(d,"style",$=t[10]?"visibility:visible":"visibility:hidden"),xe(n,"class","navbar-dropdown-container"),xe(x,"class","navbar-button navbar-current-article on-wide"),xe(x,"href",_="##"+(t[3]?t[3].id:"MAIN")),xe(S,"class","stretcher"),xe(O,"class","navbar-button"),xe(E,"class","navbar-button"),xe(B,"class","input"),xe(B,"type","text"),xe(B,"placeholder",L=Ft.str("Search...")),xe(M,"class","navbar-search"),xe(e,"class","navbar flex-horisontal"),Ae(e,"flex-wrap","nowrap"),Ae(P,"font-size","150%"),xe(D,"class","side-hide-button"),xe(D,"style",z=t[8]?"":"left:1em;"),xe(U,"class","main"),xe(U,"style",W=t[8]?"":"padding-left:1rem;"),xe(K,"class","tooltip fadein"),V=[we(r,"mousedown",t[26]),we(n,"mouseover",t[27]),we(n,"mouseout",t[28]),we(B,"input",t[33]),we(B,"keyup",t[19]),we(D,"click",t[37])]},m(o,$){he(o,e,$),de(e,n),de(n,r),de(r,i),de(r,s),de(r,l),de(l,a),de(l,c),de(l,u),de(l,f),de(n,p),de(n,d),de(d,h),de(h,m),de(m,g),de(m,y);for(let t=0;t<Q.length;t+=1)Q[t].m(m,null);de(h,v),de(h,b);for(let t=0;t<et.length;t+=1)et[t].m(b,null);de(e,w),de(e,x),de(x,k),de(e,A),de(e,S),de(e,C),de(e,O),de(e,T),de(e,E),de(e,I),nt&&nt.m(e,null),de(e,j),de(e,N),de(e,M),de(M,B),_e(B,t[2]),he(o,F,$),rt&&rt.m(o,$),he(o,R,$),he(o,D,$),de(D,P),he(o,H,$),he(o,U,$),~Z&&ot[Z].m(U,null),he(o,q,$),he(o,K,$),t[40](K),Y=!0},p(t,e){if(0&e){let n;for(J=Ft.sectionsOrder,n=0;n<J.length;n+=1){const r=ll(t,J,n);Q[n]?Q[n].p(r,e):(Q[n]=fl(r),Q[n].c(),Q[n].m(m,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}if(0&e){let n;for(tt=Ft.typeSectionsOrder,n=0;n<tt.length;n+=1){const r=sl(t,tt,n);et[n]?et[n].p(r,e):(et[n]=pl(r),et[n].c(),et[n].m(b,null))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}(!Y||1024&e[0]&&$!==($=t[10]?"visibility:visible":"visibility:hidden"))&&xe(d,"style",$),(!Y||8&e[0])&&X!==(X=(t[3]?t[3].title:"")+"")&&ke(k,X),(!Y||8&e[0]&&_!==(_="##"+(t[3]?t[3].id:"MAIN")))&&xe(x,"href",_),Ft.config&&Ft.config.languages&&Ft.config.languages.length>1&&nt.p(t,e),4&e[0]&&B.value!==t[2]&&_e(B,t[2]),t[8]?rt?rt.p(t,e):((rt=$l(t)).c(),rt.m(R.parentNode,R)):rt&&(rt.d(1),rt=null),(!Y||256&e[0]&&z!==(z=t[8]?"":"left:1em;"))&&xe(D,"style",z);let n=Z;(Z=st(t))===n?~Z&&ot[Z].p(t,e):(G&&(Ue(),We(ot[n],1,1,()=>{ot[n]=null}),Ze()),~Z?((G=ot[Z])||(G=ot[Z]=it[Z](t)).c(),Ge(G,1),G.m(U,null)):G=null),(!Y||256&e[0]&&W!==(W=t[8]?"":"padding-left:1rem;"))&&xe(U,"style",W)},i(t){Y||(Ge(G),Y=!0)},o(t){We(G),Y=!1},d(n){n&&me(e),ge(Q,n),ge(et,n),nt&&nt.d(),n&&me(F),rt&&rt.d(n),n&&me(R),n&&me(D),n&&me(H),n&&me(U),~Z&&ot[Z].d(),n&&me(q),n&&me(K),t[40](null),ce(V)}}}function fl(t){let e,n,r,i=t[41].title+"";return{c(){e=ye("a"),n=ve(i),xe(e,"href",r="##"+t[41].id)},m(t,r){he(t,e,r),de(e,n)},p:se,d(t){t&&me(e)}}}function pl(t){let e,n,r,i=t[41].title+"";return{c(){e=ye("a"),n=ve(i),xe(e,"href",r="##"+t[41].id)},m(t,r){he(t,e,r),de(e,n)},p:se,d(t){t&&me(e)}}}function dl(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/1.png")&&xe(e,"src","xpedia/1.png"),xe(e,"alt","Aあ"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function hl(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/images/es.png")&&xe(e,"src","xpedia/images/es.png"),xe(e,"alt","es"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function ml(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/images/cz.png")&&xe(e,"src","xpedia/images/cz.png"),xe(e,"alt","cs"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function gl(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/images/pl.png")&&xe(e,"src","xpedia/images/pl.png"),xe(e,"alt","pl"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function yl(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/images/ru.png")&&xe(e,"src","xpedia/images/ru.png"),xe(e,"alt","ru"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function vl(t){let e,n;return{c(){(e=ye("img")).src!==(n="xpedia/images/us.png")&&xe(e,"src","xpedia/images/us.png"),xe(e,"alt","en"),xe(e,"class","xpedia-icon main-menu")},m(t,n){he(t,e,n)},d(t){t&&me(e)}}}function bl(t){let e,n,r,i,o,s="English".includes(t[47].name),l="Русский".includes(t[47].name),a="Polski".includes(t[47].name),c="Čeština".includes(t[47].name),u="Español".includes(t[47].name),f=s&&function(t){let e,n,r,i,o;return{c(){e=ye("div"),n=ye("a"),(r=ye("img")).src!==(i="xpedia/images/us.png")&&xe(r,"src","xpedia/images/us.png"),xe(r,"alt","English"),xe(n,"href",o=t[47].save_as+"##"+t[6]),xe(e,"class","languages-image")},m(t,i){he(t,e,i),de(e,n),de(n,r)},p(t,e){64&e[0]&&o!==(o=t[47].save_as+"##"+t[6])&&xe(n,"href",o)},d(t){t&&me(e)}}}(t),p=l&&function(t){let e,n,r,i,o;return{c(){e=ye("div"),n=ye("a"),(r=ye("img")).src!==(i="xpedia/images/ru.png")&&xe(r,"src","xpedia/images/ru.png"),xe(r,"alt","Русский"),xe(n,"href",o=t[47].save_as+"##"+t[6]),xe(e,"class","languages-image")},m(t,i){he(t,e,i),de(e,n),de(n,r)},p(t,e){64&e[0]&&o!==(o=t[47].save_as+"##"+t[6])&&xe(n,"href",o)},d(t){t&&me(e)}}}(t),d=a&&function(t){let e,n,r,i,o;return{c(){e=ye("div"),n=ye("a"),(r=ye("img")).src!==(i="xpedia/images/pl.png")&&xe(r,"src","xpedia/images/pl.png"),xe(r,"alt","Polski"),xe(n,"href",o=t[47].save_as+"##"+t[6]),xe(e,"class","languages-image")},m(t,i){he(t,e,i),de(e,n),de(n,r)},p(t,e){64&e[0]&&o!==(o=t[47].save_as+"##"+t[6])&&xe(n,"href",o)},d(t){t&&me(e)}}}(t),h=c&&function(t){let e,n,r,i,o;return{c(){e=ye("div"),n=ye("a"),(r=ye("img")).src!==(i="xpedia/images/cz.png")&&xe(r,"src","xpedia/images/cz.png"),xe(r,"alt","Čeština"),xe(n,"href",o=t[47].save_as+"##"+t[6]),xe(e,"class","languages-image")},m(t,i){he(t,e,i),de(e,n),de(n,r)},p(t,e){64&e[0]&&o!==(o=t[47].save_as+"##"+t[6])&&xe(n,"href",o)},d(t){t&&me(e)}}}(t),m=u&&function(t){let e,n,r,i,o,s;return{c(){e=ye("div"),n=ye("a"),r=ye("img"),s=be(),r.src!==(i="xpedia/images/es.png")&&xe(r,"src","xpedia/images/es.png"),xe(r,"alt","Español"),xe(n,"href",o=t[47].save_as+"##"+t[6]),xe(e,"class","languages-image")},m(t,i){he(t,e,i),de(e,n),de(n,r),de(e,s)},p(t,e){64&e[0]&&o!==(o=t[47].save_as+"##"+t[6])&&xe(n,"href",o)},d(t){t&&me(e)}}}(t);return{c(){f&&f.c(),e=be(),p&&p.c(),n=be(),d&&d.c(),r=be(),h&&h.c(),i=be(),m&&m.c(),o=$e()},m(t,s){f&&f.m(t,s),he(t,e,s),p&&p.m(t,s),he(t,n,s),d&&d.m(t,s),he(t,r,s),h&&h.m(t,s),he(t,i,s),m&&m.m(t,s),he(t,o,s)},p(t,e){s&&f.p(t,e),l&&p.p(t,e),a&&d.p(t,e),c&&h.p(t,e),u&&m.p(t,e)},d(t){f&&f.d(t),t&&me(e),p&&p.d(t),t&&me(n),d&&d.d(t),t&&me(r),h&&h.d(t),t&&me(i),m&&m.d(t),t&&me(o)}}}function $l(t){let e,n,r,i,o,s,l,a,c=Ft.str("A-Z")+"",u=t[0]&&t[0].section&&t[0].section.isType()?Ft.typeSectionsOrder:Ft.sectionsOrder,f=[];for(let e=0;e<u.length;e+=1)f[e]=Al(il(t,u,e));return{c(){e=ye("nav"),n=ye("button"),r=ve(c),o=be();for(let t=0;t<f.length;t+=1)f[t].c();s=be(),l=ye("br"),xe(n,"class","side-sort-button"),xe(n,"style",i=t[13]?"":"text-decoration:line-through"),xe(e,"class","sidebar"),a=we(n,"click",t[34])},m(t,i){he(t,e,i),de(e,n),de(n,r),de(e,o);for(let t=0;t<f.length;t+=1)f[t].m(e,null);de(e,s),de(e,l)},p(t,r){if(8192&r[0]&&i!==(i=t[13]?"":"text-decoration:line-through")&&xe(n,"style",i),16441&r[0]){let n;for(u=t[0]&&t[0].section&&t[0].section.isType()?Ft.typeSectionsOrder:Ft.sectionsOrder,n=0;n<u.length;n+=1){const i=il(t,u,n);f[n]?f[n].p(i,r):(f[n]=Al(i),f[n].c(),f[n].m(e,s))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}},d(t){t&&me(e),ge(f,t),a()}}}function wl(t){let e,n,r,i,o=t[41].title+"",s=t[14](t[41].articles),l=[];for(let e=0;e<s.length;e+=1)l[e]=_l(rl(t,s,e));return{c(){e=ye("p"),n=ve(o),r=be(),i=ye("div");for(let t=0;t<l.length;t+=1)l[t].c();xe(e,"class","menu-label"),xe(i,"class","menu-list")},m(t,o){he(t,e,o),de(e,n),he(t,r,o),he(t,i,o);for(let t=0;t<l.length;t+=1)l[t].m(i,null)},p(t,e){if(1&e[0]&&o!==(o=t[41].title+"")&&ke(n,o),16433&e[0]){let n;for(s=t[14](t[41].articles),n=0;n<s.length;n+=1){const r=rl(t,s,n);l[n]?l[n].p(r,e):(l[n]=_l(r),l[n].c(),l[n].m(i,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(t){t&&me(e),t&&me(r),t&&me(i),ge(l,t)}}}function xl(t){let e,n,r,i,o=t[44].title+"";return{c(){e=ye("a"),n=ve(o),xe(e,"class","side-link"),xe(e,"href",r="##"+t[44].id),i=we(e,"click",t[36])},m(t,r){he(t,e,r),de(e,n)},p(t,i){16385&i[0]&&o!==(o=t[44].title+"")&&ke(n,o),16385&i[0]&&r!==(r="##"+t[44].id)&&xe(e,"href",r)},d(t){t&&me(e),i()}}}function kl(t){let e,n,r,i=t[44].title+"";return{c(){e=ye("a"),n=ve(i),xe(e,"href",r="##"+t[44].id),xe(e,"class","active-article-option side-link")},m(r,i){he(r,e,i),de(e,n),t[35](e)},p(t,o){16385&o[0]&&i!==(i=t[44].title+"")&&ke(n,i),16385&o[0]&&r!==(r="##"+t[44].id)&&xe(e,"href",r)},d(n){n&&me(e),t[35](null)}}}function _l(t){let e;function n(t,e){return t[0]&&t[0].id==t[44].id?kl:xl}let r=n(t),i=r(t);return{c(){i.c(),e=$e()},m(t,n){i.m(t,n),he(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&me(e)}}}function Al(t){let e,n=(!t[3]||t[41].id==t[3].id)&&wl(t);return{c(){n&&n.c(),e=$e()},m(t,r){n&&n.m(t,r),he(t,e,r)},p(t,r){t[3]&&t[41].id!=t[3].id?n&&(n.d(1),n=null):n?n.p(t,r):((n=wl(t)).c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&me(e)}}}function Sl(t){let e;const n=new ln({});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p:se,i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Cl(t){let e,n,r,i,o,s,l,a,c,u,f,p=Ft.str("Searching")+"";const d=[jl,Il,El,Tl],h=[];function m(t,e){return t[1]&&t[1].length>0?0:t[2].length<2?1:t[7]?2:3}return a=m(t),c=h[a]=d[a](t),{c(){e=ve(p),n=ve(' "\r\n      '),r=ye("em"),i=ve(t[2]),o=ve('\r\n      ":\r\n      '),s=ye("br"),l=be(),c.c(),u=$e()},m(t,c){he(t,e,c),he(t,n,c),he(t,r,c),de(r,i),he(t,o,c),he(t,s,c),he(t,l,c),h[a].m(t,c),he(t,u,c),f=!0},p(t,e){(!f||4&e[0])&&ke(i,t[2]);let n=a;(a=m(t))===n?h[a].p(t,e):(Ue(),We(h[n],1,1,()=>{h[n]=null}),Ze(),(c=h[a])||(c=h[a]=d[a](t)).c(),Ge(c,1),c.m(u.parentNode,u))},i(t){f||(Ge(c),f=!0)},o(t){We(c),f=!1},d(t){t&&me(e),t&&me(n),t&&me(r),t&&me(o),t&&me(s),t&&me(l),h[a].d(t),t&&me(u)}}}function Ol(t){let e;const n=new el({props:{article:t[0],query:t[2]}});return n.$on("prev",t[38]),n.$on("next",t[39]),{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};1&e[0]&&(r.article=t[0]),4&e[0]&&(r.query=t[2]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Tl(t){let e;return{c(){(e=ye("i")).textContent=`${Ft.str("Nothing found")}.`},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function El(t){let e;return{c(){e=ve("...")},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function Il(t){let e;return{c(){(e=ye("i")).textContent=`${Ft.str("Query too short")}!`},m(t,n){he(t,e,n)},p:se,i:se,o:se,d(t){t&&me(e)}}}function jl(t){let e;const n=new mn({props:{links:t[1]}});return{c(){Ke(n.$$.fragment)},m(t,r){Ye(n,t,r),e=!0},p(t,e){const r={};2&e[0]&&(r.links=t[1]),n.$set(r)},i(t){e||(Ge(n.$$.fragment,t),e=!0)},o(t){We(n.$$.fragment,t),e=!1},d(t){Ve(n,t)}}}function Nl(t){let e,n,r,i,o,s,l,a,c=Ft.str("Loading...")+"";return{c(){e=ye("div"),n=ve(c),r=be(),i=ye("hr"),o=be(),xe(s=ye("img"),"alt",l=Ft.str("Loading...")),s.src!==(a="xpedia/spinner.svg")&&xe(s,"src","xpedia/spinner.svg"),xe(e,"class","centered svelte-13r8mio")},m(t,l){he(t,e,l),de(e,n),de(e,r),de(e,i),de(e,o),de(e,s)},p:se,i:se,o:se,d(t){t&&me(e)}}}function Ml(t){let e,n,r,i,o,s=!t[0]&&al(),l={ctx:t,current:null,token:null,pending:Nl,then:ul,catch:cl,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==i&&((s=s.slice())[i]=o);const l=t&&(e.current=t)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(Ue(),We(t,1,1,()=>{e.blocks[n]=null}),Ze())}):e.block.d(1),l.c(),Ge(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[r]=l),a&&De()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=Te();if(t.then(t=>{Oe(n),r(e.then,1,e.value,t),Oe(null)},t=>{Oe(n),r(e.catch,2,e.error,t),Oe(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}(i=t[17],l),{c(){s&&s.c(),e=$e(),n=be(),r=$e(),l.block.c()},m(t,i){s&&s.m(nl.head,null),de(nl.head,e),he(t,n,i),he(t,r,i),l.block.m(t,l.anchor=i),l.mount=(()=>r.parentNode),l.anchor=r,o=!0},p(n,r){(t=n)[0]?s&&(s.d(1),s=null):s||((s=al()).c(),s.m(e.parentNode,e));{const e=t.slice();l.block.p(e,r)}},i(t){o||(Ge(l.block),o=!0)},o(t){for(let t=0;t<3;t+=1){We(l.blocks[t])}o=!1},d(t){s&&s.d(t),me(e),t&&me(n),t&&me(r),l.block.d(t),l.token=null,l=null}}}function Bl(t){window.location.hash="##"+t}function Ll(t,e,n){let r,i,{source:o}=e,s=null,l=null,a="",c=null,u=!1,f="",p=null,d=!0,h=!1,m=!1,g=!1,y=document.location.pathname,v="ontouchstart"in window;async function b(){await Ft.load(o)}let $=b();function w(){n(10,m=n(11,g=!1));let t=decodeURI(document.location.hash);if("##"==t.substr(0,2)){if(n(6,f=t.substr(2)),"MAIN"==f&&n(2,a=""),f){let t=f.indexOf("::");-1!=t&&(n(2,a=f.substr(t+2)),n(6,f=f.substr(0,t))),"SEARCH"==f?(a.length>=4?n(1,l=Ft.search.findArticles(a).map(t=>t.id)):n(1,l=0),n(0,s=null)):(n(1,l=null),s&&s.id==f||n(0,s=Ft.article(f))),console.log(f),console.log(s)}s?s.section&&c!=s.section&&n(3,c=s.section):n(3,c=null),r&&(Fe(),Be).then(()=>r.scrollIntoView({behavior:"auto",block:"center"}))}}function x(t){let e=Ft.findNextArticle(s,t);e&&Bl(e.id)}window.onhashchange=w,$.then(w);let k=!1;function _(t=null){null===t?n(10,m=!m):v||n(10,m=t)}function A(t){n(12,i.innerHTML=t,i);let e=i.classList;t?e.add("visible"):e.remove("visible")}document.addEventListener("keydown",t=>{const e=t.key;"ArrowRight"==e&&x(1),"ArrowLeft"==e&&x(-1)}),window.addEventListener("mousemove",async t=>{if(i){let e=t.target;for(;e&&e.attributes&&!e.attributes.tooltip;)e=e.parentNode;if(e&&e.attributes){let r=e.attributes.tooltip,o=t.target.getBoundingClientRect();n(12,i.style.left=o.left+o.width/2+"px",i),n(12,i.style.top=o.top+"px",i);let s=r.value;A(s in Ft.lang&&!t.shiftKey?Ft.lang[s]:s.substr(4))}else A(null)}});let S;return t.$set=(t=>{"source"in t&&n(21,o=t.source)}),t.$$.update=(()=>{1&t.$$.dirty[0]&&console.info(s||"no article"),8192&t.$$.dirty[0]&&n(14,S=(t=>k?t.slice().sort((t,e)=>t.title>e.title?1:-1):t))}),[s,l,a,c,r,u,f,p,d,h,m,g,i,k,S,y,v,$,x,function(t){p&&clearTimeout(p),n(7,p=setTimeout(()=>{Bl("SEARCH::"+t.target.value),n(7,p=null)},"Enter"==t.key?10:1e3))},_,o,b,w,function(t){n(3,c=Ft.sections[t])},A,t=>_(),t=>_(!0),t=>_(!1),t=>n(11,g=!g),t=>!v&&n(11,g=!0),t=>!v&&n(11,g=!1),t=>n(9,h=!h),function(){a=this.value,n(2,a)},t=>n(13,k=!k),function(t){je[t?"unshift":"push"](()=>{n(4,r=t)})},()=>n(5,u=!0),t=>{0==t.button&&n(8,d=!d)},t=>x(-1),t=>x(1),function(t){je[t?"unshift":"push"](()=>{n(12,i=t)})}]}class Fl extends Je{constructor(t){super(),Xe(this,t,Ll,Ml,fe,{source:21},[-1,-1])}}return window.onload=function(){let t=function(t){let e={"&amp;":"&","&lt;":"<","&gt;":">"};return t.replace(/&amp;|&quot;|&lt;|&gt;/g,t=>e[t])}(document.body.textContent);document.body.innerHTML="",document.body.style.display="block",new ie,app=new Fl({props:{source:t},target:document.body})},app}();
