var app=function(){"use strict";function e(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r,i=n(function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(2),o=n(8),s=n(0),a=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,s=n.distance,a=void 0===s?100:s,l=n.threshold,c=void 0===l?.6:l,u=n.maxPatternLength,f=void 0===u?32:u,p=n.caseSensitive,d=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,b=n.minMatchCharLength,v=void 0===b?1:b,$=n.id,w=void 0===$?null:$,x=n.keys,k=void 0===x?[]:x,_=n.shouldSort,A=void 0===_||_,S=n.getFn,C=void 0===S?o:S,T=n.sortFn,O=void 0===T?function(e,t){return e.score-t.score}:T,E=n.tokenize,I=void 0!==E&&E,N=n.matchAllTokens,M=void 0!==N&&N,j=n.includeMatches,B=void 0!==j&&j,F=n.includeScore,L=void 0!==F&&F,D=n.verbose,R=void 0!==D&&D;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:a,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:m,findAllMatches:y,minMatchCharLength:v,id:w,keys:k,includeMatches:B,includeScore:L,shouldSort:A,getFn:C,sortFn:O,verbose:R,tokenize:I,matchAllTokens:M},this.setCollection(t)}var t,n;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,i=n.fullSearcher,o=this._search(r,i),s=o.weights,a=o.results;return this._computeScore(s,a),this.options.shouldSort&&this._sort(a),t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var o=0,s=n.length;o<s;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var a={},l=0,c=n.length;l<c;l+=1)for(var u=n[l],f=0,p=this.options.keys.length;f<p;f+=1){var d=this.options.keys[f];if("string"!=typeof d){if(a[d.name]={weight:1-d.weight||1},d.weight<=0||d.weight>1)throw new Error("Key weight has to be > 0 and <= 1");d=d.name}else a[d]={weight:1};this._analyze({key:d,value:this.options.getFn(u,d),record:u,index:l},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:a,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,i=void 0===r?-1:r,o=e.value,a=e.record,l=e.index,c=t.tokenSearchers,u=void 0===c?[]:c,f=t.fullSearcher,p=void 0===f?[]:f,d=t.resultMap,h=void 0===d?{}:d,m=t.results,g=void 0===m?[]:m;if(null!=o){var y=!1,b=-1,v=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var $=p.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat($.score)),this.options.tokenize){for(var w=o.split(this.options.tokenSeparator),x=[],k=0;k<u.length;k+=1){var _=u[k];this._log('\nPattern: "'.concat(_.pattern,'"'));for(var A=!1,S=0;S<w.length;S+=1){var C=w[S],T=_.search(C),O={};T.isMatch?(O[C]=T.score,y=!0,A=!0,x.push(T.score)):(O[C]=1,this.options.matchAllTokens||x.push(1)),this._log('Token: "'.concat(C,'", score: ').concat(O[C]))}A&&(v+=1)}b=x[0];for(var E=x.length,I=1;I<E;I+=1)b+=x[I];b/=E,this._log("Token score average:",b)}var N=$.score;b>-1&&(N=(N+b)/2),this._log("Score average:",N);var M=!this.options.tokenize||!this.options.matchAllTokens||v>=u.length;if(this._log("\nCheck Matches: ".concat(M)),(y||$.isMatch)&&M){var j=h[l];j?j.output.push({key:n,arrayIndex:i,value:o,score:N,matchedIndices:$.matchedIndices}):(h[l]={item:a,output:[{key:n,arrayIndex:i,value:o,score:N,matchedIndices:$.matchedIndices}]},g.push(h[l]))}}else if(s(o))for(var B=0,F=o.length;B<F;B+=1)this._analyze({key:n,arrayIndex:B,value:o[B],record:a,index:l},{resultMap:h,results:g,tokenSearchers:u,fullSearcher:p})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,o=i.length,s=1,a=1,l=0;l<o;l+=1){var c=e?e[i[l].key].weight:1,u=(1===c?i[l].score:i[l].score||.001)*c;1!==c?a=Math.min(a,u):(i[l].nScore=u,s*=u)}t[n].score=1===a?s:a,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var i=[];this.options.includeMatches&&i.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var o=n[r];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),t.matches.push(s)}}}),this.options.includeScore&&i.push(function(e,t){t.score=e.score});for(var o=0,s=e.length;o<s;o+=1){var a=e[o];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),i.length){for(var l={item:a.item},c=0,u=i.length;c<u;c+=1)i[c](a,l);t.push(l)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();e.exports=a},function(e,t,n){var r=n(3),i=n(4),o=n(7),s=function(){function e(t,n){var r=n.location,i=void 0===r?0:r,s=n.distance,a=void 0===s?100:s,l=n.threshold,c=void 0===l?.6:l,u=n.maxPatternLength,f=void 0===u?32:u,p=n.isCaseSensitive,d=void 0!==p&&p,h=n.tokenSeparator,m=void 0===h?/ +/g:h,g=n.findAllMatches,y=void 0!==g&&g,b=n.minMatchCharLength,v=void 0===b?1:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:a,threshold:c,maxPatternLength:f,isCaseSensitive:d,tokenSeparator:m,findAllMatches:y,minMatchCharLength:v},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=o(this.pattern))}var t,n;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,o=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,o);var s=this.options,a=s.location,l=s.distance,c=s.threshold,u=s.findAllMatches,f=s.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:a,distance:l,threshold:c,findAllMatches:u,minMatchCharLength:f})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(n,"\\$&").replace(r,"|")),o=e.match(i),s=!!o,a=[];if(s)for(var l=0,c=o.length;l<c;l+=1){var u=o[l];a.push([e.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,n){var r=n(5),i=n(6);e.exports=function(e,t,n,o){for(var s=o.location,a=void 0===s?0:s,l=o.distance,c=void 0===l?100:l,u=o.threshold,f=void 0===u?.6:u,p=o.findAllMatches,d=void 0!==p&&p,h=o.minMatchCharLength,m=void 0===h?1:h,g=a,y=e.length,b=f,v=e.indexOf(t,g),$=t.length,w=[],x=0;x<y;x+=1)w[x]=0;if(-1!==v){var k=r(t,{errors:0,currentLocation:v,expectedLocation:g,distance:c});if(b=Math.min(k,b),-1!==(v=e.lastIndexOf(t,g+$))){var _=r(t,{errors:0,currentLocation:v,expectedLocation:g,distance:c});b=Math.min(_,b)}}v=-1;for(var A=[],S=1,C=$+y,T=1<<$-1,O=0;O<$;O+=1){for(var E=0,I=C;E<I;)r(t,{errors:O,currentLocation:g+I,expectedLocation:g,distance:c})<=b?E=I:C=I,I=Math.floor((C-E)/2+E);C=I;var N=Math.max(1,g-I+1),M=d?y:Math.min(g+I,y)+$,j=Array(M+2);j[M+1]=(1<<O)-1;for(var B=M;B>=N;B-=1){var F=B-1,L=n[e.charAt(F)];if(L&&(w[F]=1),j[B]=(j[B+1]<<1|1)&L,0!==O&&(j[B]|=(A[B+1]|A[B])<<1|1|A[B+1]),j[B]&T&&(S=r(t,{errors:O,currentLocation:F,expectedLocation:g,distance:c}))<=b){if(b=S,(v=F)<=g)break;N=Math.max(1,2*g-v)}}if(r(t,{errors:O+1,currentLocation:g,expectedLocation:g,distance:c})>b)break;A=j}return{isMatch:v>=0,score:0===S?.001:S,matchedIndices:i(w,m)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,s=t.expectedLocation,a=void 0===s?0:s,l=t.distance,c=void 0===l?100:l,u=r/e.length,f=Math.abs(a-o);return c?u+f/c:f?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,o=0,s=e.length;o<s;o+=1){var a=e[o];a&&-1===r?r=o:a||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,i){if(n){var o=n.indexOf("."),s=n,a=null;-1!==o&&(s=n.slice(0,o),a=n.slice(o+1));var l=t[s];if(null!=l)if(a||"string"!=typeof l&&"number"!=typeof l)if(r(l))for(var c=0,u=l.length;c<u;c+=1)e(l[c],a,i);else a&&e(l,a,i);else i.push(l.toString())}else i.push(t);return i}(e,t,[])}}])}),o=(r=i)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=(i.Fuse,n(function(e,n){e.exports=function e(n,r,i){function o(a,l){if(!r[a]){if(!n[a]){var c=t;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return o(t||e)},f,f.exports,e,n,r,i)}return r[a].exports}for(var s=t,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){var r=e("./js-yaml/loader"),i=e("./js-yaml/dumper");function o(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=i.dump,t.exports.safeDump=i.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=o("scan"),t.exports.parse=o("parse"),t.exports.compose=o("compose"),t.exports.addConstructor=o("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(e,t,n){function r(e){return null==e}t.exports.isNothing=r,t.exports.isObject=function(e){return"object"==typeof e&&null!==e},t.exports.toArray=function(e){return Array.isArray(e)?e:r(e)?[]:[e]},t.exports.repeat=function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},t.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},t.exports.extend=function(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}},{}],3:[function(e,t,n){var r=e("./common"),i=e("./exception"),o=e("./schema/default_full"),s=e("./schema/default_safe"),a=Object.prototype.toString,l=Object.prototype.hasOwnProperty,c=9,u=10,f=32,p=33,d=34,h=35,m=37,g=38,y=39,b=42,v=44,$=45,w=58,x=62,k=63,_=64,A=91,S=93,C=96,T=123,O=124,E=125,I={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},N=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function M(e){var t,n,o;if(t=e.toString(16).toUpperCase(),e<=255)n="x",o=2;else if(e<=65535)n="u",o=4;else{if(!(e<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-t.length)+t}function j(e){this.schema=e.schema||o,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=r.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,o,s,a,c;if(null===t)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(c=e.compiledTypeMap.fallback[s])&&l.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function B(e,t){for(var n,i=r.repeat(" ",t),o=0,s=-1,a="",l=e.length;o<l;)-1===(s=e.indexOf("\n",o))?(n=e.slice(o),o=l):(n=e.slice(o,s+1),o=s+1),n.length&&"\n"!==n&&(a+=i),a+=n;return a}function F(e,t){return"\n"+r.repeat(" ",e.indent*t)}function L(e){return e===f||e===c}function D(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function R(e){return D(e)&&65279!==e&&e!==v&&e!==A&&e!==S&&e!==T&&e!==E&&e!==w&&e!==h}function P(e){return/^\n* /.test(e)}var z=1,H=2,U=3,Z=4,G=5;function q(e,t,n,r,i){var o,s,a,l=!1,c=!1,f=-1!==r,I=-1,N=D(a=e.charCodeAt(0))&&65279!==a&&!L(a)&&a!==$&&a!==k&&a!==w&&a!==v&&a!==A&&a!==S&&a!==T&&a!==E&&a!==h&&a!==g&&a!==b&&a!==p&&a!==O&&a!==x&&a!==y&&a!==d&&a!==m&&a!==_&&a!==C&&!L(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!D(s=e.charCodeAt(o)))return G;N=N&&R(s)}else{for(o=0;o<e.length;o++){if((s=e.charCodeAt(o))===u)l=!0,f&&(c=c||o-I-1>r&&" "!==e[I+1],I=o);else if(!D(s))return G;N=N&&R(s)}c=c||f&&o-I-1>r&&" "!==e[I+1]}return l||c?n>9&&P(e)?G:c?Z:U:N&&!i(e)?z:H}function W(e,t,n,r){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==N.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=r||e.flowLevel>-1&&n>=e.flowLevel;switch(q(t,a,e.indent,s,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)})){case z:return t;case H:return"'"+t.replace(/'/g,"''")+"'";case U:return"|"+X(t,e.indent)+K(B(t,o));case Z:return">"+X(t,e.indent)+K(B(function(e,t){for(var n,r,i,o=/(\n+)([^\n]*)/g,s=(i=-1!==(i=e.indexOf("\n"))?i:e.length,o.lastIndex=i,Y(e.slice(0,i),t)),a="\n"===e[0]||" "===e[0];r=o.exec(e);){var l=r[1],c=r[2];n=" "===c[0],s+=l+(a||n||""===c?"":"\n")+Y(c,t),a=n}return s}(t,s),o));case G:return'"'+function(e){for(var t,n,r,i="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(n=e.charCodeAt(o+1))>=56320&&n<=57343?(i+=M(1024*(t-55296)+n-56320+65536),o++):(r=I[t],i+=!r&&D(t)?e[o]:r||M(t));return i}(t)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function X(e,t){var n=P(e)?String(t):"",r="\n"===e[e.length-1],i=r&&("\n"===e[e.length-2]||"\n"===e),o=i?"+":r?"":"-";return n+o+"\n"}function K(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Y(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,s=0,a=0,l="";n=i.exec(e);)(a=n.index)-o>t&&(r=s>o?s:a,l+="\n"+e.slice(o,r),o=r+1),s=a;return l+="\n",e.length-o>t&&s>o?l+=e.slice(o,s)+"\n"+e.slice(s+1):l+=e.slice(o),l.slice(1)}function V(e,t,n){var r,o,s,c,u,f;for(o=n?e.explicitTypes:e.implicitTypes,s=0,c=o.length;s<c;s+=1)if(((u=o[s]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof t&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(e.tag=n?u.tag:"?",u.represent){if(f=e.styleMap[u.tag]||u.defaultStyle,"[object Function]"===a.call(u.represent))r=u.represent(t,f);else{if(!l.call(u.represent,f))throw new i("!<"+u.tag+'> tag resolver accepts not "'+f+'" style');r=u.represent[f](t,f)}e.dump=r}return!0}return!1}function J(e,t,n,r,o,s){e.tag=null,e.dump=n,V(e,n,!1)||V(e,n,!0);var l=a.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var c,f,p="[object Object]"===l||"[object Array]"===l;if(p&&(c=e.duplicates.indexOf(n),f=-1!==c),(null!==e.tag&&"?"!==e.tag||f||2!==e.indent&&t>0)&&(o=!1),f&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(p&&f&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===l)r&&0!==Object.keys(e.dump).length?(function(e,t,n,r){var o,s,a,l,c,f,p="",d=e.tag,h=Object.keys(n);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,s=h.length;o<s;o+=1)f="",r&&0===o||(f+=F(e,t)),a=h[o],l=n[a],J(e,t+1,a,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&u===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,c&&(f+=F(e,t)),J(e,t+1,l,!0,c)&&(e.dump&&u===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,p+=f));e.tag=d,e.dump=p||"{}"}(e,t,e.dump,o),f&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){var r,i,o,s,a,l="",c=e.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)a=e.condenseFlow?'"':"",0!==r&&(a+=", "),o=u[r],s=n[o],J(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),J(e,t,s,!1,!1)&&(a+=e.dump,l+=a));e.tag=c,e.dump="{"+l+"}"}(e,t,e.dump),f&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===l){var d=e.noArrayIndent&&t>0?t-1:t;r&&0!==e.dump.length?(function(e,t,n,r){var i,o,s="",a=e.tag;for(i=0,o=n.length;i<o;i+=1)J(e,t+1,n[i],!0,!0)&&(r&&0===i||(s+=F(e,t)),e.dump&&u===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=a,e.dump=s||"[]"}(e,d,e.dump,o),f&&(e.dump="&ref_"+c+e.dump)):(function(e,t,n){var r,i,o="",s=e.tag;for(r=0,i=n.length;r<i;r+=1)J(e,t,n[r],!1,!1)&&(0!==r&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}(e,d,e.dump),f&&(e.dump="&ref_"+c+" "+e.dump))}else{if("[object String]"!==l){if(e.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&W(e,e.dump,t,s)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function Q(e,t){var n,r,i=[],o=[];for(function e(t,n,r){var i,o,s;if(null!==t&&"object"==typeof t)if(-1!==(o=n.indexOf(t)))-1===r.indexOf(o)&&r.push(o);else if(n.push(t),Array.isArray(t))for(o=0,s=t.length;o<s;o+=1)e(t[o],n,r);else for(i=Object.keys(t),o=0,s=i.length;o<s;o+=1)e(t[i[o]],n,r)}(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}function ee(e,t){var n=new j(t=t||{});return n.noRefs||Q(e,n),J(n,0,e,!0,!0)?n.dump+"\n":""}t.exports.dump=ee,t.exports.safeDump=function(e,t){return ee(e,r.extend({schema:s},t))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(e,t,n){function r(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=r},{}],5:[function(e,t,n){var r=e("./common"),i=e("./exception"),o=e("./mark"),s=e("./schema/default_safe"),a=e("./schema/default_full"),l=Object.prototype.hasOwnProperty,c=1,u=2,f=3,p=4,d=1,h=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[\x85\u2028\u2029]/,b=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,$=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w(e){return Object.prototype.toString.call(e)}function x(e){return 10===e||13===e}function k(e){return 9===e||32===e}function _(e){return 9===e||32===e||10===e||13===e}function A(e){return 44===e||91===e||93===e||123===e||125===e}function S(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function C(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function T(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var O=new Array(256),E=new Array(256),I=0;I<256;I++)O[I]=C(I)?1:0,E[I]=C(I);function N(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function M(e,t){return new i(t,new o(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function j(e,t){throw M(e,t)}function B(e,t){e.onWarning&&e.onWarning.call(null,M(e,t))}var F={YAML:function(e,t,n){var r,i,o;null!==e.version&&j(e,"duplication of %YAML directive"),1!==n.length&&j(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&j(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&j(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&B(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&j(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],v.test(r)||j(e,"ill-formed tag handle (first argument) of the TAG directive"),l.call(e.tagMap,r)&&j(e,'there is a previously declared suffix for "'+r+'" tag handle'),$.test(i)||j(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};function L(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||j(e,"expected valid JSON character");else g.test(a)&&j(e,"the stream contains non-printable characters");e.result+=a}}function D(e,t,n,i){var o,s,a,c;for(r.isObject(n)||j(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),a=0,c=o.length;a<c;a+=1)s=o[a],l.call(t,s)||(t[s]=n[s],i[s]=!0)}function R(e,t,n,r,i,o,s,a){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&j(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===w(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===w(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)D(e,t,o[c],n);else D(e,t,o,n);else e.json||l.call(n,i)||!l.call(t,i)||(e.line=s||e.line,e.position=a||e.position,j(e,"duplicated mapping key")),t[i]=o,delete n[i];return t}function P(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):j(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function z(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;k(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!x(i))break;for(P(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&B(e,"deficient indentation"),r}function H(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!_(t)))}function U(e,t){1===t?e.result+=" ":t>1&&(e.result+=r.repeat("\n",t-1))}function Z(e,t){var n,r,i=e.tag,o=e.anchor,s=[],a=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&45===r&&_(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,z(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,W(e,t,f,!1,!0),s.push(e.result),z(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)j(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function G(e){var t,n,r,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&j(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):j(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!_(i);)33===i&&(s?j(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),v.test(n)||j(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),b.test(r)&&j(e,"tag suffix cannot contain flow indicator characters")}return r&&!$.test(r)&&j(e,"tag name cannot contain such characters: "+r),o?e.tag=r:l.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:j(e,'undeclared tag handle "'+n+'"'),!0}function q(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&j(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!_(n)&&!A(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&j(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function W(e,t,n,i,o){var s,a,g,y,b,v,$,w,C=1,I=!1,N=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=g=p===n||f===n,i&&z(e,!0,-1)&&(I=!0,e.lineIndent>t?C=1:e.lineIndent===t?C=0:e.lineIndent<t&&(C=-1)),1===C)for(;G(e)||q(e);)z(e,!0,-1)?(I=!0,g=s,e.lineIndent>t?C=1:e.lineIndent===t?C=0:e.lineIndent<t&&(C=-1)):g=!1;if(g&&(g=I||o),1!==C&&p!==n||($=c===n||u===n?t:t+1,w=e.position-e.lineStart,1===C?g&&(Z(e,w)||function(e,t,n){var r,i,o,s,a,l=e.tag,c=e.anchor,f={},d={},h=null,m=null,g=null,y=!1,b=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),a=e.input.charCodeAt(e.position);0!==a;){if(r=e.input.charCodeAt(e.position+1),o=e.line,s=e.position,63!==a&&58!==a||!_(r)){if(!W(e,n,u,!1,!0))break;if(e.line===o){for(a=e.input.charCodeAt(e.position);k(a);)a=e.input.charCodeAt(++e.position);if(58===a)_(a=e.input.charCodeAt(++e.position))||j(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(R(e,f,d,h,m,null),h=m=g=null),b=!0,y=!1,i=!1,h=e.tag,m=e.result;else{if(!b)return e.tag=l,e.anchor=c,!0;j(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=l,e.anchor=c,!0;j(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===a?(y&&(R(e,f,d,h,m,null),h=m=g=null),b=!0,y=!0,i=!0):y?(y=!1,i=!0):j(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,a=r;if((e.line===o||e.lineIndent>t)&&(W(e,t,p,!0,i)&&(y?m=e.result:g=e.result),y||(R(e,f,d,h,m,g,o,s),h=m=g=null),z(e,!0,-1),a=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==a)j(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&R(e,f,d,h,m,null),b&&(e.tag=l,e.anchor=c,e.kind="mapping",e.result=f),b}(e,w,$))||function(e,t){var n,r,i,o,s,a,l,u,f,p,d=!0,h=e.tag,m=e.anchor,g={};if(91===(p=e.input.charCodeAt(e.position)))i=93,a=!1,r=[];else{if(123!==p)return!1;i=125,a=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),p=e.input.charCodeAt(++e.position);0!==p;){if(z(e,!0,t),(p=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=h,e.anchor=m,e.kind=a?"mapping":"sequence",e.result=r,!0;d||j(e,"missed comma between flow collection entries"),u=l=f=null,o=s=!1,63===p&&_(e.input.charCodeAt(e.position+1))&&(o=s=!0,e.position++,z(e,!0,t)),n=e.line,W(e,t,c,!1,!0),u=e.tag,l=e.result,z(e,!0,t),p=e.input.charCodeAt(e.position),!s&&e.line!==n||58!==p||(o=!0,p=e.input.charCodeAt(++e.position),z(e,!0,t),W(e,t,c,!1,!0),f=e.result),a?R(e,r,g,u,l,f):o?r.push(R(e,null,g,u,l,f)):r.push(l),z(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(d=!0,p=e.input.charCodeAt(++e.position)):d=!1}j(e,"unexpected end of the stream within a flow collection")}(e,$)?N=!0:(a&&function(e,t){var n,i,o,s,a,l=d,c=!1,u=!1,f=t,p=0,g=!1;if(124===(s=e.input.charCodeAt(e.position)))i=!1;else{if(62!==s)return!1;i=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)d===l?l=43===s?m:h:j(e,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===o?j(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?j(e,"repeat of an indentation width identifier"):(f=t+o-1,u=!0)}if(k(s)){do{s=e.input.charCodeAt(++e.position)}while(k(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!x(s)&&0!==s)}for(;0!==s;){for(P(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!u||e.lineIndent<f)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>f&&(f=e.lineIndent),x(s))p++;else{if(e.lineIndent<f){l===m?e.result+=r.repeat("\n",c?1+p:p):l===d&&c&&(e.result+="\n");break}for(i?k(s)?(g=!0,e.result+=r.repeat("\n",c?1+p:p)):g?(g=!1,e.result+=r.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=r.repeat("\n",p):e.result+=r.repeat("\n",c?1+p:p),c=!0,u=!0,p=0,n=e.position;!x(s)&&0!==s;)s=e.input.charCodeAt(++e.position);L(e,n,e.position,!1)}}return!0}(e,$)||function(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(L(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else x(n)?(L(e,r,i,!0),U(e,z(e,!1,t)),r=i=e.position):e.position===e.lineStart&&H(e)?j(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);j(e,"unexpected end of the stream within a single quoted scalar")}(e,$)||function(e,t){var n,r,i,o,s,a,l;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return L(e,n,e.position,!0),e.position++,!0;if(92===a){if(L(e,n,e.position,!0),x(a=e.input.charCodeAt(++e.position)))z(e,!1,t);else if(a<256&&O[a])e.result+=E[a],e.position++;else if((s=120===(l=a)?2:117===l?4:85===l?8:0)>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=S(a))>=0?o=(o<<4)+s:j(e,"expected hexadecimal character");e.result+=T(o),e.position++}else j(e,"unknown escape sequence");n=r=e.position}else x(a)?(L(e,n,r,!0),U(e,z(e,!1,t)),n=r=e.position):e.position===e.lineStart&&H(e)?j(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}j(e,"unexpected end of the stream within a double quoted scalar")}(e,$)?N=!0:function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!_(r)&&!A(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&j(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||j(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],z(e,!0,-1),!0}(e)?(N=!0,null===e.tag&&null===e.anchor||j(e,"alias node should not have any properties")):function(e,t,n){var r,i,o,s,a,l,c,u,f=e.kind,p=e.result;if(_(u=e.input.charCodeAt(e.position))||A(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(_(r=e.input.charCodeAt(e.position+1))||n&&A(r)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;0!==u;){if(58===u){if(_(r=e.input.charCodeAt(e.position+1))||n&&A(r))break}else if(35===u){if(_(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&H(e)||n&&A(u))break;if(x(u)){if(a=e.line,l=e.lineStart,c=e.lineIndent,z(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=o,e.line=a,e.lineStart=l,e.lineIndent=c;break}}s&&(L(e,i,o,!1),U(e,e.line-a),i=o=e.position,s=!1),k(u)||(o=e.position+1),u=e.input.charCodeAt(++e.position)}return L(e,i,o,!1),!!e.result||(e.kind=f,e.result=p,!1)}(e,$,c===n)&&(N=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===C&&(N=g&&Z(e,w))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(y=0,b=e.implicitTypes.length;y<b;y+=1)if((v=e.implicitTypes[y]).resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else l.call(e.typeMap[e.kind||"fallback"],e.tag)?(v=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&v.kind!==e.kind&&j(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result)?(e.result=v.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):j(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):j(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||N}function X(e){var t,n,r,i,o=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(z(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!_(i);)i=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),r=[],n.length<1&&j(e,"directive name must not be less than one character in length");0!==i;){for(;k(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!x(i));break}if(x(i))break;for(t=e.position;0!==i&&!_(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&P(e),l.call(F,n)?F[n](e,n,r):B(e,'unknown document directive "'+n+'"')}z(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,z(e,!0,-1)):s&&j(e,"directives end mark is expected"),W(e,e.lineIndent-1,p,!1,!0),z(e,!0,-1),e.checkLineBreaks&&y.test(e.input.slice(o,e.position))&&B(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&H(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,z(e,!0,-1)):e.position<e.length-1&&j(e,"end of the stream or a document separator is expected")}function K(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new N(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)X(n);return n.documents}function Y(e,t,n){var r,i,o=K(e,n);if("function"!=typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function V(e,t){var n=K(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}t.exports.loadAll=Y,t.exports.load=V,t.exports.safeLoadAll=function(e,t,n){if("function"!=typeof t)return Y(e,r.extend({schema:s},n));Y(e,t,r.extend({schema:s},n))},t.exports.safeLoad=function(e,t){return V(e,r.extend({schema:s},t))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(e,t,n){var r=e("./common");function i(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(e,t){var n,i,o,s,a;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(i,s),r.repeat(" ",e)+n+a+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},t.exports=i},{"./common":2}],7:[function(e,t,n){var r=e("./common"),i=e("./exception"),o=e("./type");function s(e,t,n){var r=[];return e.include.forEach(function(e){n=s(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function a(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=s(this,"implicit",[]),this.compiledExplicit=s(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}a.DEFAULT=null,a.create=function(){var e,t;switch(arguments.length){case 1:e=a.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(e=r.toArray(e),t=r.toArray(t),!e.every(function(e){return e instanceof a}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new a({include:e,explicit:t})},t.exports=a},{"./common":2,"./exception":4,"./type":13}],8:[function(e,t,n){var r=e("../schema");t.exports=new r({include:[e("./json")]})},{"../schema":7,"./json":12}],9:[function(e,t,n){var r=e("../schema");t.exports=r.DEFAULT=new r({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(e,t,n){var r=e("../schema");t.exports=new r({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(e,t,n){var r=e("../schema");t.exports=new r({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(e,t,n){var r=e("../schema");t.exports=new r({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(e,t,n){var r=e("./exception"),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=function(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===i.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(n=t.styleAliases||null,s={},null!==n&&Object.keys(n).forEach(function(e){n[e].forEach(function(t){s[String(t)]=e})}),s),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.');var n,s}},{"./exception":4}],14:[function(e,t,n){var r,i=e("../type"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length,s=o;for(n=0;n<i;n++)if(!((t=s.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,s=o,a=0,l=[];for(t=0;t<i;t++)t%4==0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|s.indexOf(r.charAt(t));return 0==(n=i%4*6)?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===n?(l.push(a>>10&255),l.push(a>>2&255)):12===n&&l.push(a>>4&255),l},predicate:function(e){return r&&r.isBuffer(e)},represent:function(e){var t,n,r="",i=0,s=e.length,a=o;for(t=0;t<s;t++)t%3==0&&t&&(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]),i=(i<<8)+e[t];return 0==(n=s%3)?(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]):2===n?(r+=a[i>>10&63],r+=a[i>>4&63],r+=a[i<<2&63],r+=a[64]):1===n&&(r+=a[i>>2&63],r+=a[i<<4&63],r+=a[64],r+=a[64]),r}})},{"../type":13}],15:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(e,t,n){var r=e("../common"),i=e("../type"),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),s=/^[-+]?[0-9]+e/;t.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!o.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,r,i;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||r.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(e))return"-0.0";return n=e.toString(10),s.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(e,t,n){var r=e("../common"),i=e("../type");function o(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}t.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,i=0,a=!1;if(!r)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===r)return!0;if("b"===(t=e[++i])){for(i++;i<r;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;a=!0}return a&&"_"!==t}for(;i<r;i++)if("_"!==(t=e[i])){if(!o(e.charCodeAt(i)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;i<r;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!s(e.charCodeAt(i)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,n,r=e,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(i=-1),r=r.slice(1),t=r[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),r=0,n=1,o.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!r.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(e,t,n){var r;r=window.esprima;var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=r.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){o.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(t[0]+1,t[1]-1)):new Function(o,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},{"../../type":13}],19:[function(e,t,n){var r=e("../../type");t.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},{"../../type":13}],20:[function(e,t,n){var r=e("../../type");t.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},{"../../type":13}],21:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":13}],22:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},{"../type":13}],23:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(e,t,n){var r=e("../type"),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,s,a,l=[],c=e;for(t=0,n=c.length;t<n;t+=1){if(r=c[t],a=!1,"[object Object]"!==o.call(r))return!1;for(s in r)if(i.call(r,s)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==l.indexOf(s))return!1;l.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},{"../type":13}],25:[function(e,t,n){var r=e("../type"),i=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,s,a=e;for(s=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(r=a[t],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;s[t]=[o[0],r[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}})},{"../type":13}],26:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":13}],27:[function(e,t,n){var r=e("../type"),i=Object.prototype.hasOwnProperty;t.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(i.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},{"../type":13}],28:[function(e,t,n){var r=e("../type");t.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":13}],29:[function(e,t,n){var r=e("../type"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==i.exec(e)||null!==o.exec(e))},construct:function(e){var t,n,r,s,a,l,c,u,f,p,d=0,h=null;if(null===(t=i.exec(e))&&(t=o.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(n,r,s));if(a=+t[4],l=+t[5],c=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(u=+t[10],f=+(t[11]||0),h=6e4*(60*u+f),"-"===t[9]&&(h=-h)),p=new Date(Date.UTC(n,r,s,a,l,c,d)),h&&p.setTime(p.getTime()-h),p},instanceOf:Date,represent:function(e){return e.toISOString()}})},{"../type":13}],"/":[function(e,t,n){var r=e("./lib/js-yaml.js");t.exports=r},{"./lib/js-yaml.js":1}]},{},[])("/")})),a=n(function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)});a.assign,a.shrinkBuf,a.setTyped,a.Buf8,a.Buf16,a.Buf32;var l=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};var c=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();var u=function(e,t,n,r){var i=c,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e},f=function(e,t){var n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b,v,$,w,x,k,_,A,S;n=e.state,r=e.next_in,A=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,p=n.window,d=n.hold,h=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{h<15&&(d+=A[r++]<<h,h+=8,d+=A[r++]<<h,h+=8),v=m[d&y];t:for(;;){if(d>>>=$=v>>>24,h-=$,0===($=v>>>16&255))S[o++]=65535&v;else{if(!(16&$)){if(0==(64&$)){v=m[(65535&v)+(d&(1<<$)-1)];continue t}if(32&$){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&v,($&=15)&&(h<$&&(d+=A[r++]<<h,h+=8),w+=d&(1<<$)-1,d>>>=$,h-=$),h<15&&(d+=A[r++]<<h,h+=8,d+=A[r++]<<h,h+=8),v=g[d&b];n:for(;;){if(d>>>=$=v>>>24,h-=$,!(16&($=v>>>16&255))){if(0==(64&$)){v=g[(65535&v)+(d&(1<<$)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&v,h<($&=15)&&(d+=A[r++]<<h,(h+=8)<$&&(d+=A[r++]<<h,h+=8)),(x+=d&(1<<$)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=$,h-=$,x>($=o-s)){if(($=x-$)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,_=p,0===f){if(k+=c-$,$<w){w-=$;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}}else if(f<$){if(k+=c+f-$,($-=f)<w){w-=$;do{S[o++]=p[k++]}while(--$);if(k=0,f<w){w-=$=f;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}}}else if(k+=f-$,$<w){w-=$;do{S[o++]=p[k++]}while(--$);k=o-x,_=S}for(;w>2;)S[o++]=_[k++],S[o++]=_[k++],S[o++]=_[k++],w-=3;w&&(S[o++]=_[k++],w>1&&(S[o++]=_[k++]))}else{k=o-x;do{S[o++]=S[k++],S[o++]=S[k++],S[o++]=S[k++],w-=3}while(w>2);w&&(S[o++]=S[k++],w>1&&(S[o++]=S[k++]))}break}}break}}while(r<i&&o<a);r-=w=h>>3,d&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=h},p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],g=function(e,t,n,r,i,o,s,l){var c,u,f,g,y,b,v,$,w,x=l.bits,k=0,_=0,A=0,S=0,C=0,T=0,O=0,E=0,I=0,N=0,M=null,j=0,B=new a.Buf16(16),F=new a.Buf16(16),L=null,D=0;for(k=0;k<=15;k++)B[k]=0;for(_=0;_<r;_++)B[t[n+_]]++;for(C=x,S=15;S>=1&&0===B[S];S--);if(C>S&&(C=S),0===S)return i[o++]=20971520,i[o++]=20971520,l.bits=1,0;for(A=1;A<S&&0===B[A];A++);for(C<A&&(C=A),E=1,k=1;k<=15;k++)if(E<<=1,(E-=B[k])<0)return-1;if(E>0&&(0===e||1!==S))return-1;for(F[1]=0,k=1;k<15;k++)F[k+1]=F[k]+B[k];for(_=0;_<r;_++)0!==t[n+_]&&(s[F[t[n+_]]++]=_);if(0===e?(M=L=s,b=19):1===e?(M=p,j-=257,L=d,D-=257,b=256):(M=h,L=m,b=-1),N=0,_=0,k=A,y=o,T=C,O=0,f=-1,g=(I=1<<C)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){v=k-O,s[_]<b?($=0,w=s[_]):s[_]>b?($=L[D+s[_]],w=M[j+s[_]]):($=96,w=0),c=1<<k-O,A=u=1<<T;do{i[y+(N>>O)+(u-=c)]=v<<24|$<<16|w|0}while(0!==u);for(c=1<<k-1;N&c;)c>>=1;if(0!==c?(N&=c-1,N+=c):N=0,_++,0==--B[k]){if(k===S)break;k=t[n+s[_]]}if(k>C&&(N&g)!==f){for(0===O&&(O=C),y+=A,E=1<<(T=k-O);T+O<S&&!((E-=B[T+O])<=0);)T++,E<<=1;if(I+=1<<T,1===e&&I>852||2===e&&I>592)return 1;i[f=N&g]=C<<24|T<<16|y-o|0}}return 0!==N&&(i[y+N]=k-O<<24|64<<16|0),l.bits=C,0},y=0,b=1,v=2,$=4,w=5,x=6,k=0,_=1,A=2,S=-2,C=-3,T=-4,O=-5,E=8,I=1,N=2,M=3,j=4,B=5,F=6,L=7,D=8,R=9,P=10,z=11,H=12,U=13,Z=14,G=15,q=16,W=17,X=18,K=19,Y=20,V=21,J=22,Q=23,ee=24,te=25,ne=26,re=27,ie=28,oe=29,se=30,ae=31,le=32,ce=852,ue=592,fe=15;function pe(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function he(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=I,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(ce),t.distcode=t.distdyn=new a.Buf32(ue),t.sane=1,t.back=-1,k):S}function me(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,he(e)):S}function ge(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?S:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,me(e))):S}function ye(e,t){var n,r;return e?(r=new de,e.state=r,r.window=null,(n=ge(e,t))!==k&&(e.state=null),n):S}var be,ve,$e=!0;function we(e){if($e){var t;for(be=new a.Buf32(512),ve=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(b,e.lens,0,288,be,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(v,e.lens,0,32,ve,0,e.work,{bits:5}),$e=!1}e.lencode=be,e.lenbits=9,e.distcode=ve,e.distbits=5}function xe(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),r>=o.wsize?(a.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),a.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(a.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var ke={inflateReset:me,inflateReset2:ge,inflateResetKeep:he,inflateInit:function(e){return ye(e,fe)},inflateInit2:ye,inflate:function(e,t){var n,r,i,o,s,c,p,d,h,m,ce,ue,fe,de,he,me,ge,ye,be,ve,$e,ke,_e,Ae,Se=0,Ce=new a.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return S;(n=e.state).mode===H&&(n.mode=U),s=e.next_out,i=e.output,p=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,d=n.hold,h=n.bits,m=c,ce=p,ke=k;e:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=U;break}for(;h<16;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(2&n.wrap&&35615===d){n.check=0,Ce[0]=255&d,Ce[1]=d>>>8&255,n.check=u(n.check,Ce,2,0),d=0,h=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=se;break}if((15&d)!==E){e.msg="unknown compression method",n.mode=se;break}if(h-=4,$e=8+(15&(d>>>=4)),0===n.wbits)n.wbits=$e;else if($e>n.wbits){e.msg="invalid window size",n.mode=se;break}n.dmax=1<<$e,e.adler=n.check=1,n.mode=512&d?P:H,d=0,h=0;break;case N:for(;h<16;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(n.flags=d,(255&n.flags)!==E){e.msg="unknown compression method",n.mode=se;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=se;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,n.check=u(n.check,Ce,2,0)),d=0,h=0,n.mode=M;case M:for(;h<32;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.head&&(n.head.time=d),512&n.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,Ce[2]=d>>>16&255,Ce[3]=d>>>24&255,n.check=u(n.check,Ce,4,0)),d=0,h=0,n.mode=j;case j:for(;h<16;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,n.check=u(n.check,Ce,2,0)),d=0,h=0,n.mode=B;case B:if(1024&n.flags){for(;h<16;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,n.check=u(n.check,Ce,2,0)),d=0,h=0}else n.head&&(n.head.extra=null);n.mode=F;case F:if(1024&n.flags&&((ue=n.length)>c&&(ue=c),ue&&(n.head&&($e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),a.arraySet(n.head.extra,r,o,ue,$e)),512&n.flags&&(n.check=u(n.check,r,ue,o)),c-=ue,o+=ue,n.length-=ue),n.length))break e;n.length=0,n.mode=L;case L:if(2048&n.flags){if(0===c)break e;ue=0;do{$e=r[o+ue++],n.head&&$e&&n.length<65536&&(n.head.name+=String.fromCharCode($e))}while($e&&ue<c);if(512&n.flags&&(n.check=u(n.check,r,ue,o)),c-=ue,o+=ue,$e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=D;case D:if(4096&n.flags){if(0===c)break e;ue=0;do{$e=r[o+ue++],n.head&&$e&&n.length<65536&&(n.head.comment+=String.fromCharCode($e))}while($e&&ue<c);if(512&n.flags&&(n.check=u(n.check,r,ue,o)),c-=ue,o+=ue,$e)break e}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;h<16;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=se;break}d=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=H;break;case P:for(;h<32;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}e.adler=n.check=pe(d),d=0,h=0,n.mode=z;case z:if(0===n.havedict)return e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=h,A;e.adler=n.check=1,n.mode=H;case H:if(t===w||t===x)break e;case U:if(n.last){d>>>=7&h,h-=7&h,n.mode=re;break}for(;h<3;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}switch(n.last=1&d,h-=1,3&(d>>>=1)){case 0:n.mode=Z;break;case 1:if(we(n),n.mode=Y,t===x){d>>>=2,h-=2;break e}break;case 2:n.mode=W;break;case 3:e.msg="invalid block type",n.mode=se}d>>>=2,h-=2;break;case Z:for(d>>>=7&h,h-=7&h;h<32;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=se;break}if(n.length=65535&d,d=0,h=0,n.mode=G,t===x)break e;case G:n.mode=q;case q:if(ue=n.length){if(ue>c&&(ue=c),ue>p&&(ue=p),0===ue)break e;a.arraySet(i,r,o,ue,s),c-=ue,o+=ue,p-=ue,s+=ue,n.length-=ue;break}n.mode=H;break;case W:for(;h<14;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(n.nlen=257+(31&d),d>>>=5,h-=5,n.ndist=1+(31&d),d>>>=5,h-=5,n.ncode=4+(15&d),d>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=se;break}n.have=0,n.mode=X;case X:for(;n.have<n.ncode;){for(;h<3;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.lens[Te[n.have++]]=7&d,d>>>=3,h-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_e={bits:n.lenbits},ke=g(y,n.lens,0,19,n.lencode,0,n.work,_e),n.lenbits=_e.bits,ke){e.msg="invalid code lengths set",n.mode=se;break}n.have=0,n.mode=K;case K:for(;n.have<n.nlen+n.ndist;){for(;me=(Se=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,ge=65535&Se,!((he=Se>>>24)<=h);){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(ge<16)d>>>=he,h-=he,n.lens[n.have++]=ge;else{if(16===ge){for(Ae=he+2;h<Ae;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(d>>>=he,h-=he,0===n.have){e.msg="invalid bit length repeat",n.mode=se;break}$e=n.lens[n.have-1],ue=3+(3&d),d>>>=2,h-=2}else if(17===ge){for(Ae=he+3;h<Ae;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}h-=he,$e=0,ue=3+(7&(d>>>=he)),d>>>=3,h-=3}else{for(Ae=he+7;h<Ae;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}h-=he,$e=0,ue=11+(127&(d>>>=he)),d>>>=7,h-=7}if(n.have+ue>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=se;break}for(;ue--;)n.lens[n.have++]=$e}}if(n.mode===se)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=se;break}if(n.lenbits=9,_e={bits:n.lenbits},ke=g(b,n.lens,0,n.nlen,n.lencode,0,n.work,_e),n.lenbits=_e.bits,ke){e.msg="invalid literal/lengths set",n.mode=se;break}if(n.distbits=6,n.distcode=n.distdyn,_e={bits:n.distbits},ke=g(v,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,_e),n.distbits=_e.bits,ke){e.msg="invalid distances set",n.mode=se;break}if(n.mode=Y,t===x)break e;case Y:n.mode=V;case V:if(c>=6&&p>=258){e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=h,f(e,ce),s=e.next_out,i=e.output,p=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,d=n.hold,h=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;me=(Se=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,ge=65535&Se,!((he=Se>>>24)<=h);){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(me&&0==(240&me)){for(ye=he,be=me,ve=ge;me=(Se=n.lencode[ve+((d&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Se,!(ye+(he=Se>>>24)<=h);){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}d>>>=ye,h-=ye,n.back+=ye}if(d>>>=he,h-=he,n.back+=he,n.length=ge,0===me){n.mode=ne;break}if(32&me){n.back=-1,n.mode=H;break}if(64&me){e.msg="invalid literal/length code",n.mode=se;break}n.extra=15&me,n.mode=J;case J:if(n.extra){for(Ae=n.extra;h<Ae;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Q;case Q:for(;me=(Se=n.distcode[d&(1<<n.distbits)-1])>>>16&255,ge=65535&Se,!((he=Se>>>24)<=h);){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(0==(240&me)){for(ye=he,be=me,ve=ge;me=(Se=n.distcode[ve+((d&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Se,!(ye+(he=Se>>>24)<=h);){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}d>>>=ye,h-=ye,n.back+=ye}if(d>>>=he,h-=he,n.back+=he,64&me){e.msg="invalid distance code",n.mode=se;break}n.offset=ge,n.extra=15&me,n.mode=ee;case ee:if(n.extra){for(Ae=n.extra;h<Ae;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=se;break}n.mode=te;case te:if(0===p)break e;if(ue=ce-p,n.offset>ue){if((ue=n.offset-ue)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=se;break}ue>n.wnext?(ue-=n.wnext,fe=n.wsize-ue):fe=n.wnext-ue,ue>n.length&&(ue=n.length),de=n.window}else de=i,fe=s-n.offset,ue=n.length;ue>p&&(ue=p),p-=ue,n.length-=ue;do{i[s++]=de[fe++]}while(--ue);0===n.length&&(n.mode=V);break;case ne:if(0===p)break e;i[s++]=n.length,p--,n.mode=V;break;case re:if(n.wrap){for(;h<32;){if(0===c)break e;c--,d|=r[o++]<<h,h+=8}if(ce-=p,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?u(n.check,i,ce,s-ce):l(n.check,i,ce,s-ce)),ce=p,(n.flags?d:pe(d))!==n.check){e.msg="incorrect data check",n.mode=se;break}d=0,h=0}n.mode=ie;case ie:if(n.wrap&&n.flags){for(;h<32;){if(0===c)break e;c--,d+=r[o++]<<h,h+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=se;break}d=0,h=0}n.mode=oe;case oe:ke=_;break e;case se:ke=C;break e;case ae:return T;case le:default:return S}return e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=c,n.hold=d,n.bits=h,(n.wsize||ce!==e.avail_out&&n.mode<se&&(n.mode<re||t!==$))&&xe(e,e.output,e.next_out,ce-e.avail_out),m-=e.avail_in,ce-=e.avail_out,e.total_in+=m,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?u(n.check,i,ce,e.next_out-ce):l(n.check,i,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===Y||n.mode===G?256:0),(0===m&&0===ce||t===$)&&ke===k&&(ke=O),ke},inflateEnd:function(e){if(!e||!e.state)return S;var t=e.state;return t.window&&(t.window=null),e.state=null,k},inflateGetHeader:function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?S:(n.head=t,t.done=!1,k):S},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==z?S:n.mode===z&&l(1,t,r,0)!==n.check?C:xe(e,t,r,r)?(n.mode=ae,T):(n.havedict=1,k):S},inflateInfo:"pako inflate (from Nodeca project)"},_e=!0,Ae=!0;try{String.fromCharCode.apply(null,[0])}catch(e){_e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ae=!1}for(var Se=new a.Buf8(256),Ce=0;Ce<256;Ce++)Se[Ce]=Ce>=252?6:Ce>=248?5:Ce>=240?4:Ce>=224?3:Ce>=192?2:1;Se[254]=Se[254]=1;function Te(e,t){if(t<65534&&(e.subarray&&Ae||!e.subarray&&_e))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var Oe={string2buf:function(e){var t,n,r,i,o,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new a.Buf8(l),o=0,i=0;o<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2binstring:function(e){return Te(e,e.length)},binstring2buf:function(e){for(var t=new a.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},buf2string:function(e,t){var n,r,i,o,s=t||e.length,a=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)a[r++]=i;else if((o=Se[i])>4)a[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return Te(a,r)},utf8border:function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+Se[e[n]]>t?n:t}},Ee={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var Ne=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var Me=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},je=Object.prototype.toString;function Be(e){if(!(this instanceof Be))return new Be(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ne,this.strm.avail_out=0;var n=ke.inflateInit2(this.strm,t.windowBits);if(n!==Ee.Z_OK)throw new Error(Ie[n]);if(this.header=new Me,ke.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Oe.string2buf(t.dictionary):"[object ArrayBuffer]"===je.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ke.inflateSetDictionary(this.strm,t.dictionary))!==Ee.Z_OK))throw new Error(Ie[n])}function Fe(e,t){var n=new Be(t);if(n.push(e,!0),n.err)throw n.msg||Ie[n.err];return n.result}Be.prototype.push=function(e,t){var n,r,i,o,s,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,f=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?Ee.Z_FINISH:Ee.Z_NO_FLUSH,"string"==typeof e?l.input=Oe.binstring2buf(e):"[object ArrayBuffer]"===je.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new a.Buf8(c),l.next_out=0,l.avail_out=c),(n=ke.inflate(l,Ee.Z_NO_FLUSH))===Ee.Z_NEED_DICT&&u&&(n=ke.inflateSetDictionary(this.strm,u)),n===Ee.Z_BUF_ERROR&&!0===f&&(n=Ee.Z_OK,f=!1),n!==Ee.Z_STREAM_END&&n!==Ee.Z_OK)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&n!==Ee.Z_STREAM_END&&(0!==l.avail_in||r!==Ee.Z_FINISH&&r!==Ee.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Oe.utf8border(l.output,l.next_out),o=l.next_out-i,s=Oe.buf2string(l.output,i),l.next_out=o,l.avail_out=c-o,o&&a.arraySet(l.output,l.output,i,o,0),this.onData(s)):this.onData(a.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(f=!0)}while((l.avail_in>0||0===l.avail_out)&&n!==Ee.Z_STREAM_END);return n===Ee.Z_STREAM_END&&(r=Ee.Z_FINISH),r===Ee.Z_FINISH?(n=ke.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Ee.Z_OK):r!==Ee.Z_SYNC_FLUSH||(this.onEnd(Ee.Z_OK),l.avail_out=0,!0)},Be.prototype.onData=function(e){this.chunks.push(e)},Be.prototype.onEnd=function(e){e===Ee.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Le,De={Inflate:Be,inflate:Fe,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Fe(e,t)},ungzip:Fe};function Re(e,t,n,r){if(t)for(var i=0,o=t;i<o.length;i++){var s=n[o[i]];s&&(s[r]=s[r]||[],s[r].push(e))}}var Pe=function(){function e(){this.articles=new o(Le.articlesOrder,{keys:["id","type","title","text"],tokenize:!0,matchAllTokens:!0,distance:10,threshold:.1})}return e.prototype.findArticles=function(e){return this.articles.search(e)},e}(),ze=function(){return function(e){if(Object.assign(this,e),Le.manufacture[this.name]=this,this.requires)for(var t=0,n=this.requires;t<n.length;t++){var r=n[t],i=Le.research[r];i&&(i.manufacture||(i.manufacture=[]),i.manufacture.push(this.name))}if(this.producedItems)for(var o=0,s=Object.keys(this.producedItems);o<s.length;o++){var a=s[o];(u=Le.items[a])&&(u.manufacture||(u.manufacture={}),u.manufacture[this.name]=this.producedItems[a])}if(this.requiredItems)for(var l=0,c=Object.keys(this.requiredItems);l<c.length;l++){var u;a=c[l],(u=Le.items[a])&&(u.componentOf||(u.componentOf={}),u.componentOf[this.name]=this.requiredItems[a])}if(this.randomProducedItems){this.chanceSum=0;for(var f=0,p=this.randomProducedItems;f<p.length;f++){var d=p[f];this.chanceSum+=d[0]}}Ue.add("allowsManufacture",this.name,this.requiresBaseFunc),Qe.create({id:this.name,section:"MANUFACTURE",type_id:"MANUFACTURE"})}}(),He=function(){return function(e){Object.assign(this,e),Le.research[this.name]=this,Ue.add("allowsResearching",this.name,this.requiresBaseFunc),Qe.create({id:this.name,section:"RESEARCH",type_id:"RESEARCH"})}}(),Ue=function(){function e(e){this.id=e,Qe.create({id:e,type_id:"SERVICES",section:"SERVICES"})}return e.add=function(t,n,r){if(r)for(var i=0,o=r;i<o.length;i++){var s=o[i];s in Le.baseServices||(Le.baseServices[s]=new e(s)),t in Le.baseServices[s]||(Le.baseServices[s][t]=[]),Le.baseServices[s][t].push(n)}},e}(),Ze=function(){return function(e){Object.assign(this,e),Le.alienDeployments[this.type]=this;var t=Le.startingConditions[this.startingCondition];t&&t.deployments.push(this.type)}}(),Ge=function(){return function(e){Object.assign(this,e),Le.craftWeapons[this.type]=this,Ue.add("canBuy",this.type,this.requiresBuyBaseFunc)}}(),qe=function(){return function(e){this.startingConditions=[],Object.assign(this,e),Le.crafts[this.type]=this}}(),We=function(){return function(e){Object.assign(this,e),Le.ufos[this.type]=this}}(),Xe=function(){return function(e){Object.assign(this,e),Le.facilities[this.type]=this,Ue.add("providedBy",this.type,this.provideBaseFunc),Ue.add("allowsBuilding",this.type,this.requiresBaseFunc),Ue.add("forbidsBuilding",this.type,this.forbiddenBaseFunc)}}(),Ke=function(){return function(e){this.allowedCraft=[],this.allowedItemCategories=[],this.allowedArmors=[],this.allowedVehicles=[],this.deployments=[],Object.assign(this,e),Le.startingConditions[this.type]=this,Le.lang[this.type]=Le.str(this.type.substr(12));for(var t=0,n=this.allowedCraft;t<n.length;t++){var r=n[t];Le.crafts[r].startingConditions.push(this.type)}Qe.create({id:this.type,section:"CONDITIONS",type_id:"CONDITIONS"})}}(),Ye=function(){return function(e){Object.assign(this,e),Le.units[this.type]=this;var t=Le.armors[e.armor];t&&(t.users=t.users||[],t.users.push(this.type))}}(),Ve={snap:15,auto:7,aimed:200},Je=function(){return function(e,t){this.mode=t,this.possible=!1,this.flatTime=!1,this.shots=1,this.pellets=1;var n=t.charAt(0).toUpperCase()+t.substr(1),r="ammo"==t&&2==e.battleType||"melee"==t&&3==e.battleType||"psi"==t&&9==e.battleType||"throw"==t&&[4,5].includes(e.battleType);if("throw"==t&&!r)return null;if(!(e["accuracy"+n]||e["cost"+n]||r))return null;"STR_THROWING_HAMMER"==e.type&&(console.log(e),console.log(t)),"melee"==t&&3!=e.battleType?(this.damage=e.meleePower,this.damageBonus=e.meleeBonus,this.damageType=e.meleeType):e.compatibleAmmo||(this.damage=e.power,this.damageBonus=e.damageBonus,this.damageType=e.damageType),this.pellets=e.shotgunPellets||1,this.shots="auto"==t?e.autoShots||3:1,this.name=t.substr(0,1).toUpperCase()+t.substr(1);var i="conf"+this.name;if(i in e){var o=e[i];o.name&&(this.name=Le.str(o.name)),o.shots&&(this.shots=o.shots),delete e[i]}if(e[t+"AttackName"]&&(this.name=Le.str(e[t+"AttackName"])),"melee"==t&&(this.alter=e.meleeAlter),3!=e.battleType&&"melee"==t||(this.alter=e.damageAlter),"ammo"!=t){("melee"==t&&3==e.battleType||"melee"!=t)&&e.flatRate&&(this.flatTime=e.flatRate),e["flat"+n]&&e["flat"+n].time&&(this.flatTime=!0),"Psi"==n&&(n="Use"),this.cost=this.cost=e["cost"+n]||{time:e["tu"+n],energy:0},this.accuracy=e["accuracy"+n]||100;var s="throw"==t?e.throwMultiplier:"melee"==t?e.meleeMultiplier:e.accuracyMultiplier;s||((s={})["throw"==t?"throwing":"melee"==t?"melee":"firing"]=1),this.accuracyMultiplier=s}for(var a in this.alter&&this.alter.ResistType&&(this.damageType=this.alter.ResistType),t+"Range"in e&&(this.alter=Object.assign({},this.alter||{}),this.alter.range=e[t+"Range"]),this.alter)"damageType"!=a&&"ResistType"!=a||(this.alter[a]=Le.damageTypes[this.alter[a]]);this.range=e[t+"Range"]||e[t.substr(0,3)+"Range"]||this.alter&&this.alter.range||Ve[t],this.possible=!0}}(),Qe=function(){function e(e){this.id=e.id,this.title=e.title||Le.str(e.id),Le.lang[this.id]=this.title,this.text=Le.lang[e.text]||Le.lang[e.id+"_UFOPEDIA"],this.image_id=e.image_id,this.type_id=e.type_id||"-1",Le.articles[this.id]=this;var t=e.id;Le.articles[t]=this,e.section&&Le.addToSection(this,e.section)}return e.create=function(t){if(t.id in Le.articles){var n=Le.articles[t.id];return t.section&&n.section!=t.section&&Le.sections[t.section].add(n),n}return new e(t)},e}(),et=function(){function e(e,t){void 0===t&&(t="PEDIA"),this.id=e,this.type_id=t,this._articles=[],Le.sections[e]=this,this.isType()?Le.typeSectionsOrder.push(this):Le.sectionsOrder.push(this),this.title=Le.str(e),Qe.create({id:e,section:e,type_id:t})}return Object.defineProperty(e.prototype,"articles",{get:function(){return this._articles},enumerable:!0,configurable:!0}),e.prototype.isType=function(){return"TYPE"==this.type_id},e.prototype.add=function(e){this._articles.includes(e)||this._articles.push(e),e.section||(e.section=this)},e}(),tt=function(){return function(e){this.id=e.type||e.typeSingle,e.files&&(this.path=e.files[0],this.extra=e.files),e.fileSingle&&(this.path=e.fileSingle)}}(),nt=function(){return function(e){if(this.dollSprites={},this.armor={},Object.assign(this,e),Le.armors[e.type]=this,this.layersDefinition){var t=this.layersDefaultPrefix;for(var n in this.layersDefinition){var r=this.layersDefinition[n],i=[];for(var o in r){var s=r[o];if(s&&s.length){var a=t+"__"+o+"__"+s;i.push(Le.sprite(a))}}this.dollSprites[n]=i}}else if(this.spriteInv){var l=this.spriteInv,c=l.length;if(this.spriteInv+".SPK"in Le.sprites)this.dollSprites={0:[Le.path+Le.sprites[this.spriteInv+".SPK"].path]};else for(var u in Le.sprites)u.substr(0,c)==l&&(this.dollSprites[u.substr(c,u.length-c-4)]=[Le.path+Le.sprites[u].path])}if(this.armor={Front:this.frontArmor,Side:this.sideArmor,Rear:this.rearArmor,Under:this.underArmor},this.storeItem&&Le.items[this.storeItem]){var f=Le.items[this.storeItem];f.armors||(f.armors=[]),f.armors.push(this.type)}}}(),rt=function(){function e(e){this.invWidth=1,this.invHeight=1,Object.assign(this,e),Le.items[e.type]=this,this.sprite=Le.bigSprite[this.bigSprite];var t=this;if("flatThrow"in t&&(t.flatThrowTime=t.flatThrow.time,delete t.flatThrow),Ue.add("canBuyItem",this.type,this.requiresBuyBaseFunc),this.categories)for(var n=0,r=this.categories;n<r.length;n++){var i=r[n];this.addCategory(i)}Qe.create({id:this.type,type_id:"ITEMS",section:"ITEMS"})}return e.prototype.attacks=function(){if(!this._attacks){this._attacks=[];for(var e=0,t=["ammo","melee","snap","aimed","auto","throw","psi"];e<t.length;e++){var n=new Je(this,t[e]);if(n.possible&&(this._attacks.push(n),n.damageType&&this.addCategory("dmg="+Le.damageTypes[n.damageType]),n.damageBonus)){for(var r in n.damageBonus)this.addCategory("dmg*"+r);for(var r in n.accuracyMultiplier)this.addCategory("acc*"+r)}}}return 2==this.battleType&&(this._attacks[0].item=this,this._attacks[0].mode="ammo"),this._attacks},e.prototype.addCategory=function(e){var t=Le.categories[e]||[];t.includes(this)||t.push(this),Le.categories[e]=t},e}(),it=function(){function t(){this.articles={},this.articlesOrder=[],this.sections={},this.sectionsOrder=[],this.typeSectionsOrder=[],this.sprites={},this.raw={},this.items={},this.categories={},this.armors={},this.units={},this.crafts={},this.ufos={},this.facilities={},this.craftWeapons={},this.alienDeployments={},this.research={},this.manufacture={},this.startingConditions={},this.bigSprite=[],this.floorSprite=[],this.handSprite=[],this.baseSprite=[],this.sounds=[],this.baseServices={},this.redirect={},this.lang={},this.damageTypes=["STR_DAMAGE_NONE","STR_DAMAGE_ARMOR_PIERCING","STR_DAMAGE_INCENDIARY","STR_DAMAGE_HIGH_EXPLOSIVE","STR_DAMAGE_LASER_BEAM","STR_DAMAGE_PLASMA_BEAM","STR_DAMAGE_STUN","STR_DAMAGE_MELEE","STR_DAMAGE_ACID","STR_DAMAGE_SMOKE","STR_DAMAGE_10","STR_DAMAGE_11","STR_DAMAGE_12","STR_DAMAGE_13","STR_DAMAGE_14","STR_DAMAGE_15","STR_DAMAGE_16","STR_DAMAGE_17","STR_DAMAGE_18","STR_MANA"],this.battleTypes=["None (Geoscape-only item)","Firearm","Ammo","Melee","Grenade","Proximity Grenade","Medi-Kit","Motion Scanner","Mind Probe","Psi-Amp","Electro-flare","Corpse"],this.experienceTrainingModes=["default algorithm","train melee","train melee 50% chance","train melee 33% chance","train firing","train firing 50% chance","train firing 33% chance","train throwing","train throwing 50% chance","train throwing 33% chance","train firing and throwing","train firing or throwing (coinflip)","train reactions","train reactions and melee","train reactions and firing","train reactions and throwing","train reactions or melee (coinflip)","train reactions or firing (coinflip)","train reactions or throwing (coinflip)","train bravery","train bravery x2","train bravery and reactions","train bravery or reactions (coinflip)","train bravery or reactions (coinflip) x2","train VooDoo power","train VooDoo power x2","train VooDoo skill","train VooDoo skill x2","train VooDoo power and VooDoo skill","train VooDoo power and VooDoo skill x2","train VooDoo power or VooDoo skill (coinflip)","train VooDoo power or VooDoo skill (coinflip) x2","train nothing"],Le=this}return t.prototype.damageTypeName=function(e){return this.lang[this.damageTypes[e]]},t.prototype.sound=function(e){return this.path+this.sounds[e]},t.prototype.str=function(e){return this.lang[e]||e},t.prototype.specialSprite=function(e,t){return t in this[e]?this.path+this[e][t]:"xpedia/0.png"},t.prototype.combineFiles=function(e,t){void 0===t&&(t=!1);for(var n=0,r=t?e.reverse():e;n<r.length;n++){var i=r[n];for(var o in i)if("lang"==o.substr(0,4)&&Object.assign(this.lang,i[o]),o in this.raw){var s=this.raw[o],a=i[o];if(s.concat)this.raw[o]=s.concat(a);else for(var l=0,c=a;l<c.length;l++){var u=c[l];u in s?Object.assign(s[u],a[u]):s[u]=a[u]}}else this.raw[o]=i[o]}},t.prototype.mergeRuls=function(e){for(var t in void 0===e&&(e=!1),this.raw){var n={},r={},i=this.raw[t];if(Array.isArray(i)){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a.type||a.id||a.name||a.delete||a.typeSingle;if(l&&!r[l])if("delete"in a)e?r[l]=!0:delete n[l];else if(l&&l in n)if(e)for(var c in a)c in n[l]||(n[l][c]=a[c]);else Object.assign(n[l],a);else n[l]=a}this.raw[t]=Object.values(n)}}},t.prototype.parse=function(e){this.combineFiles(e,!0);for(var t=["ITEMS","CONDITIONS","CATEGORIES","RESEARCH","MANUFACTURE","SERVICES"],n=0,r=t;n<r.length;n++){new et(r[n],"TYPE")}for(var i in this.mergeRuls(!0),this.path="user/mods/"+Le.modName+"/",this.lang){var o=this.lang[i];"string"==typeof o&&(o=(o=(o=(o=o.replace(/^({ALT})+/,"")).replace(/{ALT}/g,"")).replace(/^({NEWLINE})+/,"")).replace(/{NEWLINE}/g,"<br/>"),this.lang[i]=o)}for(var s=0,a=Le.damageTypes;s<a.length;s++){var l=a[s];Le.categories["dmg="+l]=[],this.redirect[l]="dmg="+l,this.lang["dmg="+l]=this.lang[l]}this.parsePedia(this.raw.ufopaedia),this.parseSprites(this.raw.extraSprites),this.sprites["BIGOBS.PCK"]&&(this.bigSprite=this.sprites["BIGOBS.PCK"].extra),this.sprites["FLOOROB.PCK"]&&(this.floorSprite=this.sprites["FLOOROB.PCK"].extra),this.sprites["HANDOB.PCK"]&&(this.handSprite=this.sprites["HANDOB.PCK"].extra),this.sprites["BASEBITS.PCK"]&&(this.baseSprite=this.sprites["BASEBITS.PCK"].extra),this.raw.extraSounds&&this.raw.extraSounds[0]&&(this.sounds=this.raw.extraSounds[0].files);for(var c=0,u=this.raw.items;c<u.length;c++){var f=u[c];new rt(f)}for(var p=0,d=this.raw.armors;p<d.length;p++){var h=d[p];new nt(h)}for(var m=0,g=this.raw.units;m<g.length;m++){var y=g[m];new Ye(y)}for(var b=0,v=this.raw.crafts;b<v.length;b++){var $=v[b];new qe($)}for(var w=0,x=this.raw.craftWeapons;w<x.length;w++){var k=x[w];new Ge(k)}for(var _=0,A=this.raw.ufos;_<A.length;_++){var S=A[_];new We(S)}for(var C=0,T=this.raw.facilities;C<T.length;C++){var O=T[C];new Xe(O)}if(this.raw.startingConditions)for(var E=0,I=this.raw.startingConditions;E<I.length;E++){var N=I[E];new Ke(N)}for(var M=0,j=this.raw.alienDeployments;M<j.length;M++){var B=j[M];new Ze(B)}for(var F=0,L=this.raw.research;F<L.length;F++){var D=L[F];new He(D)}for(var R=0,P=this.raw.manufacture;R<P.length;R++){var z=P[R];new ze(z)}for(var H=0,U=Object.values(this.facilities);H<U.length;H++){var Z=U[H];if(Z.buildCostItems)for(var G=0,q=Object.keys(Z.buildCostItems);G<q.length;G++){var W=q[G];(ne=Le.items[W])&&(ne.componentOf||(ne.componentOf={}),ne.componentOf[Z.type]=Z.buildCostItems[W].build,ne.manufacture||(ne.manufacture={}),ne.manufacture[Z.type]=Z.buildCostItems[W].refund)}}for(var X=0,K=Object.values(this.items);X<K.length;X++){if((ne=K[X]).attacks(),ne.compatibleAmmo)for(var Y=0,V=ne.compatibleAmmo;Y<V.length;Y++){var J=V[Y],Q=this.items[J];Q&&(Q.compatibleWeaponsList=Q.compatibleWeaponsList||[],Q.compatibleWeaponsList.push(ne.type))}}for(var ee=0,te=Object.values(this.research);ee<te.length;ee++){var ne,re=te[ee];if(Re(re.name,re.dependencies,Le.research,"leadsTo"),Re(re.name,re.getOneFree,Le.research,"freeFrom"),re.lookup&&re.name!=re.lookup&&this.research[re.lookup]){var ie=this.research[re.lookup];ie.seeAlso=ie.seeAlso||[],ie.seeAlso.push(re.name);var oe=this.article(re.lookup),se=this.article(re.name);Le.lang[se.id]||(se.title=oe.title),se.text=oe.text,se.image_id=oe.image_id}if(re.spawnedItem)(ne=Le.items[re.spawnedItem]).spawnedBy=ne.spawnedBy||[],ne.spawnedBy.push(re.name)}this.ourArmors=Object.values(this.armors).filter(function(e){return e.units}).map(function(e){return e.type});for(var ae=0,le=t;ae<le.length;ae++){var ce=le[ae];Le.sections[ce]._articles=Le.sections[ce].articles.sort(function(e,t){return e.title<t.title?-1:1})}for(var ue=0,fe=Object.keys(this.categories);ue<fe.length;ue++){var pe=fe[ue];Qe.create({id:pe,title:Le.str(pe),type_id:"CATEGORIES",section:"CATEGORIES"})}console.log(this),this.search=new Pe},t.prototype.parsePedia=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(r.id){var i=new Qe(r);this.articlesOrder.push(i),this.articles[i.id]=i}}},t.prototype.parseSprites=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=new tt(r);this.sprites[i.id]=i}},t.prototype.findNextArticle=function(e,t){if(!e)return null;var n=e.section,r=n?n.articles:this.articlesOrder,i=r.findIndex(function(t){return t.id==e.id});return null!=i?r[i+t]:void 0},t.prototype.decamelize=function(e,t){if(void 0===t&&(t=" "),"string"==typeof e){if(Le.lang[e])return Le.lang[e];if(this.lang[ot[e]])return this.lang[ot[e]];e=(e=e.includes("_")&&-1==e.search(/[a-z]/)?e.replace(/_/g,"_"):e.replace(/([^A-Z])([A-Z])/g,"$1"+t+"$2")).substr(0,1).toUpperCase()+e.substr(1).toLowerCase()}return e},t.prototype.sprite=function(e){return e in this.sprites?this.path+this.sprites[e].path:this.path+e},t.prototype.load=function(t){return n=this,r=void 0,o=function(){var n,r;return e(this,function(e){"base64"==(t=t.trim()).substr(0,6)&&(t=t.substr(6),n=atob(t),t=De.inflate(n,{to:"string"})),r=function(e){for(var t,n=[],r=/^FILE: (.+)\n/gm,i=[];t=r.exec(e);)i.push(t);for(var o=function(t){var r=i[t][1],o=void 0;if("п»ї"==(o=t<i.length-1?e.substr(i[t].index+7+r.length,i[t+1].index-i[t].index-7-r.length):e.substr(i[t].index+7+r.length)).substr(1,3)&&(o=o.substr(4)),"TEXT@"==r.substr(0,5))return Le.lang[r.substr(5)]=o,"continue";var a=void 0;if("JSON@"==r.substr(0,5))a=JSON.parse(o),r=r.substr(5);else try{a=s.load(o,{json:!0,filename:r,onWarning:function(e){console.log(r),console.log(e.message)}})}catch(e){console.log(e.message)}if("xpedia"==r)return Le.config=a,Le.modName=a.mod_name,"continue";a&&n.push(a)},a=0;a<i.length;a++)o(a);return n}(t);try{this.parse(r)}catch(e){console.error(e)}return[2]})},new((i=void 0)||(i=Promise))(function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(s,a)}l((o=o.apply(n,r||[])).next())});var n,r,i,o},t.prototype.addToSection=function(e,t){var n;return n=t in Le.sections?Le.sections[t]:Le.sections[t]=new et(t),e.id!=n.id&&n.add(e),e.section=n,n},t.prototype.linksByType=function(e){switch(e){case"CONDITIONS":return Object.keys(this.startingConditions).map(function(e){return"CONDITIONS_"+e})}return[]},t.prototype.bodiesCompare=function(e){for(var t in e)2==e[t].length&&(e[t]=("M"==e[t].charAt(0)?"A":"B")+"0"+e[t].substr(1));return e[0]>e[1]?1:-1},t.prototype.article=function(e){return this.articles[this.redirect[e]||e]},t}(),ot={dependencies:"STR_DEPENDS_ON",seeAlso:"STR_ITEM_REQUIRED",requiresBaseFunc:"STR_SERVICES_REQUIRED",freeFrom:"STR_GET_FOR_FREE_FROM",leadsTo:"STR_LEADS_TO",unlocks:"STR_UNLOCKS",disables:"STR_DISABLES",getOneFree:"STR_GIVES_ONE_FOR_FREE",manufacture:"STR_REQUIRED_BY",randomProducedItems:"STR_RANDOM_PRODUCTION_DISCLAIMER",cost:"STR_COST"};function st(){}function at(e){return e()}function lt(){return Object.create(null)}function ct(e){e.forEach(at)}function ut(e){return"function"==typeof e}function ft(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function pt(e){return null==e?"":e}function dt(e,t){e.appendChild(t)}function ht(e,t,n){e.insertBefore(t,n||null)}function mt(e){e.parentNode.removeChild(e)}function gt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function yt(e){return document.createElement(e)}function bt(e){return document.createTextNode(e)}function vt(){return bt(" ")}function $t(){return bt("")}function wt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function xt(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function kt(e,t){t=""+t,e.data!==t&&(e.data=t)}function _t(e,t){(null!=t||e.value)&&(e.value=t)}function At(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}class St{constructor(e,t=null){this.e=yt("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)ht(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(mt)}}let Ct;function Tt(e){Ct=e}function Ot(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function Et(){const e=Ot();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach(t=>{t.call(e,i)})}}}const It=[],Nt=[],Mt=[],jt=[],Bt=Promise.resolve();let Ft=!1;function Lt(){Ft||(Ft=!0,Bt.then(Rt))}function Dt(e){Mt.push(e)}function Rt(){const e=new Set;do{for(;It.length;){const e=It.shift();Tt(e),Pt(e.$$)}for(;Nt.length;)Nt.pop()();for(let t=0;t<Mt.length;t+=1){const n=Mt[t];e.has(n)||(n(),e.add(n))}Mt.length=0}while(It.length);for(;jt.length;)jt.pop()();Ft=!1}function Pt(e){if(null!==e.fragment){e.update(),ct(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Dt)}}const zt=new Set;let Ht;function Ut(){Ht={r:0,c:[],p:Ht}}function Zt(){Ht.r||ct(Ht.c),Ht=Ht.p}function Gt(e,t){e&&e.i&&(zt.delete(e),e.i(t))}function qt(e,t,n,r){if(e&&e.o){if(zt.has(e))return;zt.add(e),Ht.c.push(()=>{zt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const Wt="undefined"!=typeof window?window:global;function Xt(e){e&&e.c()}function Kt(e,t,n){const{fragment:r,on_mount:i,on_destroy:o,after_update:s}=e.$$;r&&r.m(t,n),Dt(()=>{const t=i.map(at).filter(ut);o?o.push(...t):ct(t),e.$$.on_mount=[]}),s.forEach(Dt)}function Yt(e,t){const n=e.$$;null!==n.fragment&&(ct(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Vt(e,t,n,r,i,o,s=[-1]){const a=Ct;Tt(e);const l=t.props||{},c=e.$$={fragment:null,ctx:null,props:o,update:st,not_equal:i,bound:lt(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:lt(),dirty:s};let u=!1;var f;c.ctx=n?n(e,l,(t,n,r=n)=>(c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(c.bound[t]&&c.bound[t](r),u&&function(e,t){-1===e.$$.dirty[0]&&(It.push(e),Lt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n)):[],c.update(),u=!0,ct(c.before_update),c.fragment=!!r&&r(c.ctx),t.target&&(t.hydrate?c.fragment&&c.fragment.l((f=t.target,Array.from(f.childNodes))):c.fragment&&c.fragment.c(),t.intro&&Gt(e.$$.fragment),Kt(e,t.target,t.anchor),Rt()),Tt(a)}class Jt{$destroy(){Yt(this,1),this.$destroy=st}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Qt(e){let t,n=Le.str(e[0])+"";return{c(){t=bt(n)},m(e,n){ht(e,t,n)},p(e,r){1&r&&n!==(n=Le.str(e[0])+"")&&kt(t,n)},d(e){e&&mt(t)}}}function en(e){let t,n,r,i=Le.str(e[0])+"";return{c(){t=yt("a"),n=bt(i),xt(t,"href",r="##"+e[0])},m(e,r){ht(e,t,r),dt(t,n)},p(e,o){1&o&&i!==(i=Le.str(e[0])+"")&&kt(n,i),1&o&&r!==(r="##"+e[0])&&xt(t,"href",r)},d(e){e&&mt(t)}}}function tn(e){let t,n;function r(e,n){return(null==t||1&n)&&(t=!!Le.article(e[0])),t?en:Qt}let i=r(e,-1),o=i(e);return{c(){o.c(),n=$t()},m(e,t){o.m(e,t),ht(e,n,t)},p(e,[t]){i===(i=r(e,t))&&o?o.p(e,t):(o.d(1),(o=i(e))&&(o.c(),o.m(n.parentNode,n)))},i:st,o:st,d(e){o.d(e),e&&mt(n)}}}function nn(e,t,n){let{href:r}=t;return e.$set=(e=>{"href"in e&&n(0,r=e.href)}),e.$$.update=(()=>{1&e.$$.dirty&&r&&r.type&&n(0,r=r.type)}),[r]}class rn extends Jt{constructor(e){super(),Vt(this,e,nn,tn,ft,{href:0})}}function on(e,t,n){const r=e.slice();return r[5]=t[n],r}function sn(e){let t,n,r,i,o,s,a=!e[1]&&an(e),l=e[1]&&ln(e),c=e[3],u=[];for(let t=0;t<c.length;t+=1)u[t]=cn(on(e,c,t));const f=e=>qt(u[e],1,1,()=>{u[e]=null});return{c(){a&&a.c(),t=vt(),l&&l.c(),n=vt(),r=yt("div"),i=yt("div"),o=yt("ol");for(let e=0;e<u.length;e+=1)u[e].c();xt(i,"class","cols"),xt(r,"class","links-page")},m(e,c){a&&a.m(e,c),ht(e,t,c),l&&l.m(e,c),ht(e,n,c),ht(e,r,c),dt(r,i),dt(i,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);s=!0},p(e,r){if(e[1]?a&&(a.d(1),a=null):a?a.p(e,r):((a=an(e)).c(),a.m(t.parentNode,t)),e[1]?l?l.p(e,r):((l=ln(e)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),8&r){let t;for(c=e[3],t=0;t<c.length;t+=1){const n=on(e,c,t);u[t]?(u[t].p(n,r),Gt(u[t],1)):(u[t]=cn(n),u[t].c(),Gt(u[t],1),u[t].m(o,null))}for(Ut(),t=c.length;t<u.length;t+=1)f(t);Zt()}},i(e){if(!s){for(let e=0;e<c.length;e+=1)Gt(u[e]);s=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)qt(u[e]);s=!1},d(e){a&&a.d(e),e&&mt(t),l&&l.d(e),e&&mt(n),e&&mt(r),gt(u,e)}}}function an(e){let t,n,r,i,o,s=Le.str("A-Z")+"";return{c(){t=yt("div"),n=yt("button"),r=bt(s),xt(n,"style",i=e[2]?"":"text-decoration:line-through"),xt(t,"class","links-page-button"),o=wt(n,"click",e[4])},m(e,i){ht(e,t,i),dt(t,n),dt(n,r)},p(e,t){4&t&&i!==(i=e[2]?"":"text-decoration:line-through")&&xt(n,"style",i)},d(e){e&&mt(t),o()}}}function ln(e){let t,n;return{c(){t=yt("div"),n=bt(e[1]),xt(t,"class","links-page-header")},m(e,r){ht(e,t,r),dt(t,n)},p(e,t){2&t&&kt(n,e[1])},d(e){e&&mt(t)}}}function cn(e){let t,n,r;const i=new rn({props:{href:e[5]}});return{c(){t=yt("li"),Xt(i.$$.fragment),n=vt()},m(e,o){ht(e,t,o),Kt(i,t,null),dt(t,n),r=!0},p(e,t){const n={};8&t&&(n.href=e[5]),i.$set(n)},i(e){r||(Gt(i.$$.fragment,e),r=!0)},o(e){qt(i.$$.fragment,e),r=!1},d(e){e&&mt(t),Yt(i)}}}function un(e){let t,n,r=e[0]&&e[0].length>0&&sn(e);return{c(){r&&r.c(),t=$t()},m(e,i){r&&r.m(e,i),ht(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].length>0?r?(r.p(e,n),Gt(r,1)):((r=sn(e)).c(),Gt(r,1),r.m(t.parentNode,t)):r&&(Ut(),qt(r,1,1,()=>{r=null}),Zt())},i(e){n||(Gt(r),n=!0)},o(e){qt(r),n=!1},d(e){r&&r.d(e),e&&mt(t)}}}function fn(e,t,n){let{links:r}=t,{title:i=null}=t,o=!1;let s;return e.$set=(e=>{"links"in e&&n(0,r=e.links),"title"in e&&n(1,i=e.title)}),e.$$.update=(()=>{5&e.$$.dirty&&n(3,s=o?r.slice().sort((e,t)=>Le.str(e)>Le.str(t)?1:-1):r)}),[r,i,o,s,e=>n(2,o=!o)]}class pn extends Jt{constructor(e){super(),Vt(this,e,fn,un,ft,{links:0,title:1})}}function dn(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b,v,$,w,x,k,_,A,S,C,T,O,E,I,N,M,j,B,F,L,D,R,P,z,H,U,Z,G,q,W,X,K,Y,V,J,Q,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,fe,pe,de,he,me,ge,ye,be,ve,$e,we,xe,ke,_e,Ae,Se,Ce,Te,Oe,Ee,Ie,Ne,Me,je,Be,Fe,De,Re,Pe,ze,He,Ue,Ze,Ge,qe,We,Xe,Ke,Ye,Ve,Je,Qe,et,tt,nt,rt,it,ot,at,lt,ct,ut,ft,pt,gt,$t,wt,kt,_t,At,St,Ct,Tt,Ot,Et,It,Nt,Mt,jt,Bt,Ft,Lt,Dt,Rt,Pt,zt,Ht,Ut,Zt,Gt,qt,Wt,Xt,Kt,Yt,Vt,Jt,Qt,en,tn,nn,rn,on,sn,an,ln,cn,un,fn,pn,dn,hn,mn,gn,yn,bn,vn,$n,wn,xn,kn,_n,An,Sn,Cn,Tn,On,En,In,Nn,Mn,jn,Bn,Fn,Ln,Dn,Rn,Pn,zn,Hn,Un,Zn,Gn,qn,Wn,Xn,Kn,Yn,Vn,Jn,Qn,er,tr,nr,rr,ir,or,sr,ar,lr,cr,ur,fr,pr,dr,hr,mr,gr,yr,br,vr,$r,wr=Le.str("Welcome onboard, seagal! Take your bunk at da orlop and have some X-Grog, yarrr!")+"",xr=Le.str("X-Piratez is a total conversion mod designed for OpenXcom, a free open-source reimplementation of UFO")+"",kr=Le.str("Enemy Unknown (1994) and X-Com")+"",_r=Le.str("Terror From The Deep. There are major gameplay differences, as well as a complete overhaul of research, manufacture, base facilities, and so on. X-Piratez is designed for the veteran X-Com player seeking a much longer and complex campaign.")+"",Ar=Le.str("The year is 2601. The Earth has been long conquered by aliens. You run a gang of mutant pirates. Rob aliens and their human proxies for fun, profit and power. X-Piratez is the biggest OpenXcom mod to date.")+"",Sr=Le.str("Special thanks to Anna Zemlina for her fantastic artworks created especially for the X-Piratez Universe.")+"",Cr=Le.str("WARNINGS")+"",Tr=Le.str("mod author, the Grand Master")+"",Or=Le.str("You can send your donations through PayPal to")+"",Er=Le.str("chief OXCE programmer, the Wise Alchemist")+"",Ir=Le.str("You can send your donations through PayPal to")+"",Nr=Le.str("All mods are translated by the players")+"",Mr=Le.str("OpenXcom needs your translation skills!")+"",jr=Le.str("Community & support")+"",Br=Le.str("Here you can ask any questions associated with this site.")+"",Fr=Le.str("Ping @Kato_guardian and we will hear you.")+"",Lr=Le.str("Thanks to")+"",Dr=Le.str("for translating the homepage and interfaces into non-English languages")+"",Rr=Le.str("Wiki is powered by")+"",Pr=Le.str("Codemasters")+"",zr=Le.str("Download")+"",Hr=Le.str("(forum link)")+"",Ur=Le.str("Download")+"",Zr=Le.str("(from mod.io)")+"";return{c(){t=yt("div"),n=yt("div"),r=yt("img"),o=vt(),s=bt(wr),a=vt(),l=yt("br"),c=vt(),(u=yt("h4")).textContent=`${Le.str("Arrr, what da FLUFF is X-Piratez stuff?")}`,f=vt(),p=bt(xr),d=bt(": "),h=bt(kr),m=bt(": "),g=bt(_r),y=yt("br"),b=vt(),v=yt("br"),$=vt(),w=bt(Ar),x=yt("br"),k=vt(),_=yt("br"),A=vt(),S=bt(Sr),C=vt(),(T=yt("div")).innerHTML='<div class="column media-bar"><a href="https://discordapp.com/invite/b5KXPvX" target="_blank"><img class="media-icon" src="xpedia/images/discord-256.png" alt="Discord" title="Discord server"></a> \n        <a href="https://openxcom.org/forum/index.php/board,18.0.html" target="_blank"><img class="media-icon" src="xpedia/images/FG4SCQ58YFXV.png" alt="Forum" title="Forum"></a> \n        <a href="https://vk.com/xpiratez" target="_blank"><img class="media-icon" src="xpedia/images/vk-256.png" alt="VK" title="VK community"></a> \n        <a href="https://www.deviantart.com/emerald--weapon" target="_blank"><img class="media-icon" src="xpedia/images/Emerald.png" alt="Anna Zemlina (artist)" title="Anna Zemlina (artist)"></a></div>',O=vt(),(E=yt("h1")).textContent=`${Le.str("Current mod version is")} L3`,I=vt(),N=yt("div"),(M=yt("h2")).textContent=`${Le.str("PC Installation & Update Guide")}`,j=vt(),B=yt("ul"),(F=yt("li")).textContent=`${Le.str("Download the X-Piratez archive via the forum link (the main one) or from mod.io (alternatively.)")}`,L=vt(),(D=yt("li")).textContent=`${Le.str("Unzip the archive to a NEW folder. It strongly recommended not merging the contents with your existing Dioxine_XPiratez folder, as this can lead to various problems.")}`,R=vt(),(P=yt("li")).textContent=`${Le.str("You need your files of the original UFO")}: ${Le.str("Enemy Unknown or X-Com")}: ${Le.str("UFO Defense game (either DOS or Steam version) to launch the mod. Copy them to the Dioxine_XPiratez\\UFO folder.")}`,z=vt(),(H=yt("li")).textContent=`${Le.str("X-Piratez is distributed with the compatible OXCE engine version. There is no need to replace or upgrade OXCE, as other builds may not be compatible with your version of X-Piratez. Because of that, we recommend you turn off the 'Automatic update check' user option (options\\advanced\\general.) This option does not check for updates of the mod itself, in any case it has to be downloaded from the forum or mod.io")}`,U=vt(),(Z=yt("li")).textContent=`${Le.str("If you already have X-Piratez saves, you can copy them from the old Dioxine_XPiratez\\user\\piratez folder to the new one.")}`,G=vt(),(q=yt("li")).textContent=`${Le.str("Optionally, you can also copy user settings from the old Dioxine_XPiratez\\user folder to the new one (options.cfg file.)")}`,W=vt(),(X=yt("li")).textContent=`${Le.str("Optionally, don't delete your outdated version. Just in case.")}`,K=vt(),Y=yt("h4"),V=vt(),J=yt("div"),(Q=yt("div")).textContent=`\n          "${Le.str("READ OR DIE. The Bootypedia is your friend. Trust me on that.")}"\n        `,ee=vt(),(te=yt("div")).textContent=`\n          – Dioxine, ${Le.str("mod author, lead designer")}`,ne=vt(),re=yt("h4"),ie=vt(),oe=yt("div"),se=yt("h3"),ae=yt("img"),ce=bt(Cr),ue=vt(),fe=yt("ul"),(pe=yt("li")).textContent=`${Le.str("Contains some NUDITY of both sexes. You've been warned. Also take note this is not any porn-quality T&A since it's not a porn game.")}`,de=vt(),(he=yt("li")).textContent=`${Le.str("Do not install OpenXcom nightlies! They are not compatible with X-Piratez. (Requires OXCE version.)")}`,me=vt(),(ge=yt("li")).textContent=`${Le.str("If you absolutely can't stand bikini babes fighting Nazis with chainsaws, you may suffer some trauma.")}`,ye=vt(),(be=yt("li")).textContent=`${Le.str("If you're looking for a tactical game that doesn't require brains, try DOTA instead.")}`,ve=vt(),($e=yt("li")).textContent=`${Le.str("A single campaign might take as much as 400 hours.")}`,we=vt(),(xe=yt("li")).textContent=`${Le.str("Contains riddles. Not everything is what it seems.")}`,ke=vt(),(_e=yt("li")).textContent=`${Le.str("Read or Die.")}`,Ae=vt(),Se=yt("br"),Ce=vt(),Te=yt("div"),Oe=yt("div"),Ee=yt("img"),Ne=vt(),Me=yt("br"),je=vt(),(Be=yt("strong")).textContent="Dioxine",Fe=vt(),De=yt("br"),Re=vt(),Pe=bt(Tr),ze=vt(),He=yt("br"),Ue=vt(),Ze=yt("br"),Ge=vt(),qe=bt(Or),We=vt(),Xe=yt("br"),Ke=bt("\r\n        GSDioxine@gmail.com"),Ye=vt(),Ve=yt("div"),Je=yt("img"),et=vt(),tt=yt("br"),nt=vt(),(rt=yt("strong")).textContent="Meridian",it=vt(),ot=yt("br"),at=vt(),lt=bt(Er),ct=vt(),ut=yt("br"),ft=vt(),pt=yt("br"),gt=vt(),$t=bt(Ir),wt=vt(),kt=yt("br"),_t=bt("\r\n        martin.dzurenko@gmail.com"),At=vt(),St=yt("br"),Ct=vt(),Tt=yt("h4"),Ot=vt(),Et=yt("div"),It=yt("div"),Nt=yt("img"),jt=vt(),Bt=yt("br"),Ft=vt(),(Lt=yt("strong")).textContent=`${Le.str("Join the Transifex team!")}`,Dt=vt(),Rt=yt("br"),Pt=vt(),zt=bt(Nr),Ht=vt(),Ut=yt("br"),Zt=vt(),Gt=yt("br"),qt=vt(),Wt=bt(Mr),Xt=vt(),Kt=yt("div"),Yt=yt("img"),Jt=vt(),Qt=yt("br"),en=vt(),(tn=yt("strong")).textContent="X-Piratez Discord",nn=vt(),rn=yt("br"),on=vt(),sn=bt(jr),an=vt(),ln=yt("br"),cn=vt(),un=yt("br"),fn=vt(),pn=bt(Br),dn=vt(),hn=yt("br"),mn=vt(),gn=bt(Fr),yn=vt(),bn=yt("br"),vn=vt(),$n=yt("h4"),wn=vt(),xn=yt("div"),kn=bt(Lr),_n=bt(" Bartojan, Dorothy Haze, Mey-ow (Meymey) & Solarius Scorch\r\n    "),An=yt("br"),Sn=vt(),Cn=bt(Dr),Tn=bt("!\r\n    "),On=yt("br"),En=vt(),In=bt(Rr),Nn=vt(),(Mn=yt("a")).textContent="Baturinsky's XPedia",jn=bt(".\r\n    "),Bn=yt("br"),Fn=vt(),Ln=bt(Pr),Dn=bt(": Baturinsky, Finnik, Kato."),Rn=vt(),Pn=yt("div"),zn=yt("div"),Hn=yt("button"),Un=bt(zr),Zn=yt("br"),Gn=bt(Hr),qn=vt(),Wn=yt("button"),Xn=bt(Ur),Kn=yt("br"),Yn=bt(Zr),Vn=vt(),(Jn=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen035.png" alt="screen035.png">',Qn=vt(),(er=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen226.png" alt="screen226.png">',tr=vt(),(nr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen1599.png" alt="screen1600.png">',rr=vt(),(ir=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen1209.png" alt="screen1209.png">',or=vt(),(sr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen1707.png" alt="screen1209.png">',ar=vt(),(lr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen164.png" alt="screen164.png">',cr=vt(),(ur=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen1606.png" alt="screen1606.png">',fr=vt(),(pr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen757.png" alt="screen757.png">',dr=vt(),(hr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen135.png" alt="screen135.png">',mr=vt(),(gr=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen692.png" alt="screen692.png">',yr=vt(),(br=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen1715.png" alt="screen1209.png">',vr=vt(),($r=yt("a")).innerHTML='<img class="imgbox" src="xpedia/images/screen064.png" alt="screen064.png">',xt(r,"class","title-image"),r.src!==(i="xpedia/images/Title.png")&&xt(r,"src","xpedia/images/Title.png"),xt(r,"alt","Title art by Anna Zemlina"),xt(r,"title","Art by Anna Zemlina. X-Piratez logo by Alla Panova."),xt(T,"class","columns"),xt(B,"class","guide"),xt(N,"class","guide"),xt(Q,"class","quote"),xt(te,"class","qsign"),xt(ae,"class","warnings-icon"),ae.src!==(le="xpedia/images/warning.png")&&xt(ae,"src","xpedia/images/warning.png"),xt(ae,"alt","!!"),xt(fe,"class","warnings"),xt(oe,"class","warnings"),xt(Ee,"class","extlink-icon"),Ee.src!==(Ie="xpedia/images/Dioxine.png")&&xt(Ee,"src","xpedia/images/Dioxine.png"),xt(Ee,"alt","Dioxine"),xt(Be,"class","man"),xt(Oe,"class","extlink"),xt(Oe,"onclick","window.open('https://www.paypal.com/myaccount/transfer/homepage', '_blank')"),xt(Je,"class","extlink-icon"),Je.src!==(Qe="xpedia/images/Meridian.png")&&xt(Je,"src","xpedia/images/Meridian.png"),xt(Je,"alt","Meridian"),xt(rt,"class","man"),xt(Ve,"class","extlink"),xt(Ve,"onclick","window.open('https://www.paypal.com/myaccount/transfer/homepage', '_blank')"),xt(Te,"class","cellar"),xt(Nt,"class","extlink-icon"),Nt.src!==(Mt="xpedia/images/TX.png")&&xt(Nt,"src","xpedia/images/TX.png"),xt(Nt,"alt","Transifex"),xt(Lt,"class","man"),xt(It,"class","extlink"),xt(It,"onclick","window.open('https://www.transifex.com/openxcom/openxcom-mods/dashboard', '_blank')"),xt(Yt,"class","extlink-icon"),Yt.src!==(Vt="xpedia/images/XPZ.png")&&xt(Yt,"src","xpedia/images/XPZ.png"),xt(Yt,"alt","Troubleshooting here"),xt(tn,"class","man"),xt(Kt,"class","extlink"),xt(Kt,"onclick","window.open('https://discordapp.com/invite/b5KXPvX', '_blank')"),xt(Et,"class","cellar"),xt(Mn,"href","https://github.com/baturinsky/xpedia/"),xt(Mn,"target","_blank"),xt(xn,"class","credits"),xt(n,"class","column is-full-touch is-9-desktop"),xt(Hn,"title","Download (main)"),xt(Hn,"class","downloadbtn"),xt(Hn,"onclick"," window.open('https://openxcom.org/forum/index.php/topic,3626.0.html', '_blank'); return false;"),xt(Wn,"title","Download (alt)"),xt(Wn,"class","downloadbtn"),xt(Wn,"onclick"," window.open('https://openxcom.mod.io/x-piratez', '_blank'); return false;"),xt(Jn,"rel","nofollow"),xt(Jn,"target","_blank"),xt(Jn,"href","xpedia/images/screen035.png"),xt(er,"rel","nofollow"),xt(er,"target","_blank"),xt(er,"href","xpedia/images/screen226.png"),xt(nr,"rel","nofollow"),xt(nr,"target","_blank"),xt(nr,"href","xpedia/images/screen1599.png"),xt(ir,"rel","nofollow"),xt(ir,"target","_blank"),xt(ir,"href","xpedia/images/screen1209.png"),xt(sr,"rel","nofollow"),xt(sr,"target","_blank"),xt(sr,"href","xpedia/images/screen1707.png"),xt(lr,"rel","nofollow"),xt(lr,"target","_blank"),xt(lr,"href","xpedia/images/screen164.png"),xt(ur,"rel","nofollow"),xt(ur,"target","_blank"),xt(ur,"href","xpedia/images/screen1606.png"),xt(pr,"rel","nofollow"),xt(pr,"target","_blank"),xt(pr,"onclick","this.href='https://www.youtube.com/watch?v=oHg5SJYRHA0'"),xt(pr,"href","xpedia/images/screen757.png"),xt(hr,"rel","nofollow"),xt(hr,"target","_blank"),xt(hr,"href","xpedia/images/screen135.png"),xt(gr,"rel","nofollow"),xt(gr,"target","_blank"),xt(gr,"href","xpedia/images/screen692.png"),xt(br,"rel","nofollow"),xt(br,"target","_blank"),xt(br,"href","xpedia/images/screen1715.png"),xt($r,"rel","nofollow"),xt($r,"target","_blank"),xt($r,"href","xpedia/images/screen064.png"),xt(zn,"class","imgcol"),xt(Pn,"class","column is-hidden-touch is-3-desktop on-wide"),xt(t,"class","columns")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r),dt(n,o),dt(n,s),dt(n,a),dt(n,l),dt(n,c),dt(n,u),dt(n,f),dt(n,p),dt(n,d),dt(n,h),dt(n,m),dt(n,g),dt(n,y),dt(n,b),dt(n,v),dt(n,$),dt(n,w),dt(n,x),dt(n,k),dt(n,_),dt(n,A),dt(n,S),dt(n,C),dt(n,T),dt(n,O),dt(n,E),dt(n,I),dt(n,N),dt(N,M),dt(N,j),dt(N,B),dt(B,F),dt(B,L),dt(B,D),dt(B,R),dt(B,P),dt(B,z),dt(B,H),dt(B,U),dt(B,Z),dt(B,G),dt(B,q),dt(B,W),dt(B,X),dt(n,K),dt(n,Y),dt(n,V),dt(n,J),dt(J,Q),dt(J,ee),dt(J,te),dt(n,ne),dt(n,re),dt(n,ie),dt(n,oe),dt(oe,se),dt(se,ae),dt(se,ce),dt(oe,ue),dt(oe,fe),dt(fe,pe),dt(fe,de),dt(fe,he),dt(fe,me),dt(fe,ge),dt(fe,ye),dt(fe,be),dt(fe,ve),dt(fe,$e),dt(fe,we),dt(fe,xe),dt(fe,ke),dt(fe,_e),dt(n,Ae),dt(n,Se),dt(n,Ce),dt(n,Te),dt(Te,Oe),dt(Oe,Ee),dt(Oe,Ne),dt(Oe,Me),dt(Oe,je),dt(Oe,Be),dt(Oe,Fe),dt(Oe,De),dt(Oe,Re),dt(Oe,Pe),dt(Oe,ze),dt(Oe,He),dt(Oe,Ue),dt(Oe,Ze),dt(Oe,Ge),dt(Oe,qe),dt(Oe,We),dt(Oe,Xe),dt(Oe,Ke),dt(Te,Ye),dt(Te,Ve),dt(Ve,Je),dt(Ve,et),dt(Ve,tt),dt(Ve,nt),dt(Ve,rt),dt(Ve,it),dt(Ve,ot),dt(Ve,at),dt(Ve,lt),dt(Ve,ct),dt(Ve,ut),dt(Ve,ft),dt(Ve,pt),dt(Ve,gt),dt(Ve,$t),dt(Ve,wt),dt(Ve,kt),dt(Ve,_t),dt(n,At),dt(n,St),dt(n,Ct),dt(n,Tt),dt(n,Ot),dt(n,Et),dt(Et,It),dt(It,Nt),dt(It,jt),dt(It,Bt),dt(It,Ft),dt(It,Lt),dt(It,Dt),dt(It,Rt),dt(It,Pt),dt(It,zt),dt(It,Ht),dt(It,Ut),dt(It,Zt),dt(It,Gt),dt(It,qt),dt(It,Wt),dt(Et,Xt),dt(Et,Kt),dt(Kt,Yt),dt(Kt,Jt),dt(Kt,Qt),dt(Kt,en),dt(Kt,tn),dt(Kt,nn),dt(Kt,rn),dt(Kt,on),dt(Kt,sn),dt(Kt,an),dt(Kt,ln),dt(Kt,cn),dt(Kt,un),dt(Kt,fn),dt(Kt,pn),dt(Kt,dn),dt(Kt,hn),dt(Kt,mn),dt(Kt,gn),dt(n,yn),dt(n,bn),dt(n,vn),dt(n,$n),dt(n,wn),dt(n,xn),dt(xn,kn),dt(xn,_n),dt(xn,An),dt(xn,Sn),dt(xn,Cn),dt(xn,Tn),dt(xn,On),dt(xn,En),dt(xn,In),dt(xn,Nn),dt(xn,Mn),dt(xn,jn),dt(xn,Bn),dt(xn,Fn),dt(xn,Ln),dt(xn,Dn),dt(t,Rn),dt(t,Pn),dt(Pn,zn),dt(zn,Hn),dt(Hn,Un),dt(Hn,Zn),dt(Hn,Gn),dt(zn,qn),dt(zn,Wn),dt(Wn,Xn),dt(Wn,Kn),dt(Wn,Yn),dt(zn,Vn),dt(zn,Jn),dt(zn,Qn),dt(zn,er),dt(zn,tr),dt(zn,nr),dt(zn,rr),dt(zn,ir),dt(zn,or),dt(zn,sr),dt(zn,ar),dt(zn,lr),dt(zn,cr),dt(zn,ur),dt(zn,fr),dt(zn,pr),dt(zn,dr),dt(zn,hr),dt(zn,mr),dt(zn,gr),dt(zn,yr),dt(zn,br),dt(zn,vr),dt(zn,$r)},p:st,i:st,o:st,d(e){e&&mt(t)}}}class hn extends Jt{constructor(e){super(),Vt(this,e,null,dn,ft,{})}}function mn(e,t,n){const r=e.slice();return r[2]=t[n],r[4]=n,r}function gn(e){let t,n,r,i=0==e[4]?"":e[1]?"</br>":", ";const o=new rn({props:{href:e[2]}});return{c(){n=vt(),Xt(o.$$.fragment),t=new St(i,n)},m(e,i){t.m(e,i),ht(e,n,i),Kt(o,e,i),r=!0},p(e,n){(!r||2&n)&&i!==(i=0==e[4]?"":e[1]?"</br>":", ")&&t.p(i);const s={};1&n&&(s.href=e[2]),o.$set(s)},i(e){r||(Gt(o.$$.fragment,e),r=!0)},o(e){qt(o.$$.fragment,e),r=!1},d(e){e&&t.d(),e&&mt(n),Yt(o,e)}}}function yn(e){let t,n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=gn(mn(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=$t()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);ht(e,t,r),n=!0},p(e,[n]){if(3&n){let s;for(r=e[0],s=0;s<r.length;s+=1){const o=mn(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=gn(o),i[s].c(),Gt(i[s],1),i[s].m(t.parentNode,t))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){gt(i,e),e&&mt(t)}}}function bn(e,t,n){let{items:r}=t,{vertical:i=!1}=t;return e.$set=(e=>{"items"in e&&n(0,r=e.items),"vertical"in e&&n(1,i=e.vertical)}),[r,i]}class vn extends Jt{constructor(e){super(),Vt(this,e,bn,yn,ft,{items:0,vertical:1})}}function $n(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function wn(e){let t;const n=new rn({props:{href:e[0]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.href=e[0]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function xn(e){let t,n,r=e[0].toLocaleString()+"";return{c(){t=yt("em"),n=bt(r),xt(t,"class","num")},m(e,r){ht(e,t,r),dt(t,n)},p(e,t){1&t&&r!==(r=e[0].toLocaleString()+"")&&kt(n,r)},i:st,o:st,d(e){e&&mt(t)}}}function kn(e){let t,n,r=Le.str(e[0].toString())+"";return{c(){t=yt("span"),n=bt(r),At(t,"color",e[0]?"lime":"red")},m(e,r){ht(e,t,r),dt(t,n)},p(e,i){1&i&&r!==(r=Le.str(e[0].toString())+"")&&kt(n,r),1&i&&At(t,"color",e[0]?"lime":"red")},i:st,o:st,d(e){e&&mt(t)}}}function _n(e){let t,n,r=Object.keys(e[0]).sort(),i=[];for(let t=0;t<r.length;t+=1)i[t]=Sn($n(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","number-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(1&n){let s;for(r=Object.keys(e[0]).sort(),s=0;s<r.length;s+=1){const o=$n(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=Sn(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}function An(e){let t;const n=new vn({props:{items:e[0],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[0]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Sn(e){let t,n,r,i,o,s,a,l,c=Le.decamelize(e[1])+"";const u=new rn({props:{href:e[0][e[1]]}});return{c(){t=yt("tr"),n=yt("td"),r=yt("nobr"),i=vt(),o=yt("td"),s=yt("em"),Xt(u.$$.fragment),a=vt()},m(e,f){ht(e,t,f),dt(t,n),dt(n,r),r.innerHTML=c,dt(t,i),dt(t,o),dt(o,s),Kt(u,s,null),dt(t,a),l=!0},p(e,t){(!l||1&t)&&c!==(c=Le.decamelize(e[1])+"")&&(r.innerHTML=c);const n={};1&t&&(n.href=e[0][e[1]]),u.$set(n)},i(e){l||(Gt(u.$$.fragment,e),l=!0)},o(e){qt(u.$$.fragment,e),l=!1},d(e){e&&mt(t),Yt(u)}}}function Cn(e){let t,n,r,i,o,s;const a=[An,_n,kn,xn,wn],l=[];function c(e,r){return 1&r&&(t=!!Array.isArray(e[0])),t?0:e[0]instanceof Object?1:!0===e[0]||!1===e[0]?2:(1&r&&(n=!isNaN(+e[0])),n?3:4)}return r=c(e,-1),i=l[r]=a[r](e),{c(){i.c(),o=$t()},m(e,t){l[r].m(e,t),ht(e,o,t),s=!0},p(e,[t]){let n=r;(r=c(e,t))===n?l[r].p(e,t):(Ut(),qt(l[n],1,1,()=>{l[n]=null}),Zt(),(i=l[r])||(i=l[r]=a[r](e)).c(),Gt(i,1),i.m(o.parentNode,o))},i(e){s||(Gt(i),s=!0)},o(e){qt(i),s=!1},d(e){l[r].d(e),e&&mt(o)}}}function Tn(e,t,n){let{val:r}=t;return e.$set=(e=>{"val"in e&&n(0,r=e.val)}),[r]}class On extends Jt{constructor(e){super(),Vt(this,e,Tn,Cn,ft,{val:0})}}function En(e,t,n){const r=e.slice();return r[2]=t[n],r[4]=n,r}function In(e){let t,n,r,i=0==e[4]?"":e[1]?"</br>":", ";const o=new rn({props:{href:e[2]}});return{c(){n=vt(),Xt(o.$$.fragment),t=new St(i,n)},m(e,i){t.m(e,i),ht(e,n,i),Kt(o,e,i),r=!0},p(e,n){(!r||2&n)&&i!==(i=0==e[4]?"":e[1]?"</br>":", ")&&t.p(i);const s={};1&n&&(s.href=e[2]),o.$set(s)},i(e){r||(Gt(o.$$.fragment,e),r=!0)},o(e){qt(o.$$.fragment,e),r=!1},d(e){e&&t.d(),e&&mt(n),Yt(o,e)}}}function Nn(e){let t,n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=In(En(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=$t()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);ht(e,t,r),n=!0},p(e,[n]){if(3&n){let s;for(r=e[0],s=0;s<r.length;s+=1){const o=En(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=In(o),i[s].c(),Gt(i[s],1),i[s].m(t.parentNode,t))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){gt(i,e),e&&mt(t)}}}function Mn(e,t,n){let{items:r}=t,{vertical:i=!1}=t;return e.$set=(e=>{"items"in e&&n(0,r=e.items),"vertical"in e&&n(1,i=e.vertical)}),[r,i]}class jn extends Jt{constructor(e){super(),Vt(this,e,Mn,Nn,ft,{items:0,vertical:1})}}function Bn(e){let t,n,r,i,o,s,a;return{c(){t=yt("a"),xt(n=yt("img"),"style",r=e[2]+(e[1]?"float:left":"")),xt(n,"alt",i=e[0]||""),n.src!==(o=Le.sprite(e[0]))&&xt(n,"src",o),xt(t,"href",s=Le.sprite(e[0])),xt(t,"class","illustration"),a=[wt(n,"load",e[6]),wt(n,"error",e[7])]},m(e,r){ht(e,t,r),dt(t,n)},p(e,a){6&a&&r!==(r=e[2]+(e[1]?"float:left":""))&&xt(n,"style",r),1&a&&i!==(i=e[0]||"")&&xt(n,"alt",i),1&a&&n.src!==(o=Le.sprite(e[0]))&&xt(n,"src",o),1&a&&s!==(s=Le.sprite(e[0]))&&xt(t,"href",s)},d(e){e&&mt(t),ct(a)}}}function Fn(e){let t,n=e[0]&&Le.sprite(e[0]),r=n&&Bn(e);return{c(){r&&r.c(),t=$t()},m(e,n){r&&r.m(e,n),ht(e,t,n)},p(e,[i]){1&i&&(n=e[0]&&Le.sprite(e[0])),n?r?r.p(e,i):((r=Bn(e)).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:st,o:st,d(e){r&&r.d(e),e&&mt(t)}}}function Ln(e,t,n){let{id:r}=t,{left:i=!1}=t,{maxWidth:o=(window.innerWidth>1400?640:320)}=t,{maxZoom:s=4}=t,{style:a=""}=t;function l(e){}console.log(r);return e.$set=(e=>{"id"in e&&n(0,r=e.id),"left"in e&&n(1,i=e.left),"maxWidth"in e&&n(4,o=e.maxWidth),"maxZoom"in e&&n(5,s=e.maxZoom),"style"in e&&n(2,a=e.style)}),[r,i,a,l,o,s,e=>void e.target,e=>(function(e){e.onerror=null,e.src="xpedia/0.png",e.style.border="none"})(e.target)]}class Dn extends Jt{constructor(e){super(),Vt(this,e,Ln,Fn,ft,{id:0,left:1,maxWidth:4,maxZoom:5,style:2})}}function Rn(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Pn(e){let t;return{c(){t=bt("+")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function zn(e){let t,n=Le.str(e[3][0])+(1!=e[3][1]?"×<em>"+e[3][1]+"</em>":"");return{c(){t=new St(n,null)},m(e,n){t.m(e,n)},p(e,r){2&r&&n!==(n=Le.str(e[3][0])+(1!=e[3][1]?"×<em>"+e[3][1]+"</em>":""))&&t.p(n)},d(e){e&&t.d()}}}function Hn(e){let t,n=100*e[3][1]+"";return{c(){t=new St(n,null)},m(e,n){t.m(e,n)},p(e,r){2&r&&n!==(n=100*e[3][1]+"")&&t.p(n)},d(e){e&&t.d()}}}function Un(e){let t,n,r,i=0!=e[5]&&function(e){let t;return{c(){t=bt(" +")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}();function o(e,t){return"flatHundred"==e[3][0]?Hn:zn}let s=o(e),a=s(e);return{c(){t=yt("span"),i&&i.c(),n=vt(),a.c(),r=vt()},m(e,o){ht(e,t,o),i&&i.m(t,null),dt(t,n),a.m(t,null),dt(t,r)},p(e,n){s===(s=o(e))&&a?a.p(e,n):(a.d(1),(a=s(e))&&(a.c(),a.m(t,r)))},d(e){e&&mt(t),i&&i.d(),a.d()}}}function Zn(e){let t,n,r=e[1].length>0&&e[0]&&Pn(),i=e[1],o=[];for(let t=0;t<i.length;t+=1)o[t]=Un(Rn(e,i,t));return{c(){r&&r.c(),t=vt();for(let e=0;e<o.length;e+=1)o[e].c();n=$t()},m(e,i){r&&r.m(e,i),ht(e,t,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);ht(e,n,i)},p(e,[s]){if(e[1].length>0&&e[0]?r||((r=Pn()).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),2&s){let t;for(i=e[1],t=0;t<i.length;t+=1){const r=Rn(e,i,t);o[t]?o[t].p(r,s):(o[t]=Un(r),o[t].c(),o[t].m(n.parentNode,n))}for(;t<o.length;t+=1)o[t].d(1);o.length=i.length}},i:st,o:st,d(e){r&&r.d(e),e&&mt(t),gt(o,e),e&&mt(n)}}}function Gn(e,t,n){let r,{bonus:i}=t,{plus:o=!1}=t;return e.$set=(e=>{"bonus"in e&&n(2,i=e.bonus),"plus"in e&&n(0,o=e.plus)}),e.$$.update=(()=>{4&e.$$.dirty&&n(1,r=function(e){if(!e)return[];let t=[];for(let n of Object.keys(e))if(e[n].length)for(let r in e[n]){let i=e[n][r];0!=i&&(r=1*r+1,t.push([Le.str(n)+(1==r?"":"<sup>"+r+"</sup>"),i]))}else 0!=e[n]&&t.push([n,e[n]]);return t=t.sort((e,t)=>"flatHundred"==e[0]||e[0]<t[0]?-1:1)}(i))}),[o,r,i]}class qn extends Jt{constructor(e){super(),Vt(this,e,Gn,Zn,ft,{bonus:2,plus:0})}}function Wn(e){let t,n,r,i;return{c(){var o;t=yt("a"),xt(n=yt("canvas"),"class","pixelated"),At(n,"display",e[2]?"inline":"none"),xt(t,"href",e[0]),xt(t,"class","canvas-image"),o=r=e[3].call(null,n),i=o&&ut(o.destroy)?o.destroy:st},m(r,i){ht(r,t,i),dt(t,n),e[11](n)},p(e,[r]){4&r&&At(n,"display",e[2]?"inline":"none"),1&r&&xt(t,"href",e[0])},i:st,o:st,d(n){n&&mt(t),e[11](null),i()}}}function Xn(e,t,n){let r,i,{src:o=null}=t,{maxWidth:s=1e6}=t,{maxHeight:a=1e6}=t,{zoom:l=1}=t,{item:c=null}=t,u=null,f=!1;function p(){n(1,r.width=Math.min(s,u.naturalWidth*l),r),n(1,r.height=Math.min(a,u.naturalHeight*l),r),i.imageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.drawImage(u,0,0,u.naturalWidth*l,u.naturalHeight*l),n(2,f=!0)}return e.$set=(e=>{"src"in e&&n(0,o=e.src),"maxWidth"in e&&n(4,s=e.maxWidth),"maxHeight"in e&&n(5,a=e.maxHeight),"zoom"in e&&n(6,l=e.zoom),"item"in e&&n(7,c=e.item)}),e.$$.update=(()=>{641&e.$$.dirty&&(c&&(console.log(c),n(0,o=Le.sprite(c.sprite)),n(4,s=64*c.invWidth),n(5,a=64*c.invHeight),n(6,l="3")),o&&u&&(n(2,f=!1),n(9,u.src=o,u)))}),[o,r,f,function(e){n(1,r=e),i=r.getContext("2d"),n(9,u=new Image),n(9,u.onload=p,u),n(9,u.src=o,u)},s,a,l,c,i,u,p,function(e){Nt[e?"unshift":"push"](()=>{n(1,r=e)})}]}class Kn extends Jt{constructor(e){super(),Vt(this,e,Xn,Wn,ft,{src:0,maxWidth:4,maxHeight:5,zoom:6,item:7})}}function Yn(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function Vn(e){let t,n,r,i,o,s,a,l,c,u,f,p=Le.decamelize(e[1])+"",d=(Le.lang[e[1]+"_"+e[0][e[1]]]||"")+"";const h=new On({props:{val:e[0][e[1]]}});return{c(){t=yt("div"),n=yt("nobr"),r=yt("span"),o=bt(":"),a=vt(),Xt(h.$$.fragment),l=vt(),u=vt(),i=new St(p,o),xt(r,"tooltip",s="tip_"+e[1]),c=new St(d,null)},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),i.m(r),dt(r,o),dt(n,a),Kt(h,n,null),dt(n,l),c.m(n),dt(t,u),f=!0},p(e,t){(!f||1&t)&&p!==(p=Le.decamelize(e[1])+"")&&i.p(p),(!f||1&t&&s!==(s="tip_"+e[1]))&&xt(r,"tooltip",s);const n={};1&t&&(n.val=e[0][e[1]]),h.$set(n),(!f||1&t)&&d!==(d=(Le.lang[e[1]+"_"+e[0][e[1]]]||"")+"")&&c.p(d)},i(e){f||(Gt(h.$$.fragment,e),f=!0)},o(e){qt(h.$$.fragment,e),f=!1},d(e){e&&mt(t),Yt(h)}}}function Jn(e){let t,n,r,i,o=Object.keys(e[0]).sort(),s=[];for(let t=0;t<o.length;t+=1)s[t]=Vn(Yn(e,o,t));const a=e=>qt(s[e],1,1,()=>{s[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=yt("small");for(let e=0;e<s.length;e+=1)s[e].c();xt(n,"colspan","4"),xt(n,"class","attack-alter")},m(e,o){ht(e,t,o),dt(t,n),dt(n,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null);i=!0},p(e,[t]){if(1&t){let n;for(o=Object.keys(e[0]).sort(),n=0;n<o.length;n+=1){const i=Yn(e,o,n);s[n]?(s[n].p(i,t),Gt(s[n],1)):(s[n]=Vn(i),s[n].c(),Gt(s[n],1),s[n].m(r,null))}for(Ut(),n=o.length;n<s.length;n+=1)a(n);Zt()}},i(e){if(!i){for(let e=0;e<o.length;e+=1)Gt(s[e]);i=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)qt(s[e]);i=!1},d(e){e&&mt(t),gt(s,e)}}}function Qn(e,t,n){let{items:r}=t;return console.log("alter ",r),e.$set=(e=>{"items"in e&&n(0,r=e.items)}),[r]}class er extends Jt{constructor(e){super(),Vt(this,e,Qn,Jn,ft,{items:0})}}function tr(e){let t,n,r,i=Le.decamelize(e[0])+"";return{c(){t=yt("td"),xt(n=yt("div"),"tooltip",r="tip_"+e[0])},m(e,r){ht(e,t,r),dt(t,n),n.innerHTML=i},p(e,[t]){1&t&&i!==(i=Le.decamelize(e[0])+"")&&(n.innerHTML=i),1&t&&r!==(r="tip_"+e[0])&&xt(n,"tooltip",r)},i:st,o:st,d(e){e&&mt(t)}}}function nr(e,t,n){let{key:r}=t;return e.$set=(e=>{"key"in e&&n(0,r=e.key)}),[r]}class rr extends Jt{constructor(e){super(),Vt(this,e,nr,tr,ft,{key:0})}}function ir(e,t,n){const r=e.slice();return r[10]=t[n],r[9]=n,r}function or(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function sr(e,t,n){const r=e.slice();return r[3]=t[n][0],r[4]=t[n][1],r}function ar(e,t,n){const r=e.slice();return r[15]=t[n],r}function lr(e,t,n){const r=e.slice();return r[12]=t[n],r}function cr(e){let t,n,r,i,o,s,a;const l=new Kn({props:{src:Le.sprite(e[0].sprite),maxWidth:64*e[0].invWidth,maxHeight:96*e[0].invHeight,zoom:"3"}});let c=e[2].length>0&&ur(e);return{c(){t=yt("tr"),n=yt("td"),r=yt("div"),i=yt("div"),o=yt("div"),Xt(l.$$.fragment),s=vt(),c&&c.c(),xt(o,"class","image-bg"),At(i,"display","flex"),At(i,"flex-direction","column"),At(i,"align-items","center"),At(i,"margin","5px 5px"),At(i,"min-width","98%"),xt(n,"colspan","2"),xt(n,"class","td-attacks-table")},m(e,u){ht(e,t,u),dt(t,n),dt(n,r),dt(r,i),dt(i,o),Kt(l,o,null),dt(i,s),c&&c.m(i,null),a=!0},p(e,t){const n={};1&t&&(n.src=Le.sprite(e[0].sprite)),1&t&&(n.maxWidth=64*e[0].invWidth),1&t&&(n.maxHeight=96*e[0].invHeight),l.$set(n),e[2].length>0?c?(c.p(e,t),Gt(c,1)):((c=ur(e)).c(),Gt(c,1),c.m(i,null)):c&&(Ut(),qt(c,1,1,()=>{c=null}),Zt())},i(e){a||(Gt(l.$$.fragment,e),Gt(c),a=!0)},o(e){qt(l.$$.fragment,e),qt(c),a=!1},d(e){e&&mt(t),Yt(l),c&&c.d()}}}function ur(e){let t,n,r,i,o,s,a=2!=e[0].battleType&&fr(),l=2==e[0].battleType&&pr(),c=e[2],u=[];for(let t=0;t<c.length;t+=1)u[t]=xr(lr(e,c,t));const f=e=>qt(u[e],1,1,()=>{u[e]=null});let p=e[0].damageAlter&&2!=e[0].battleType&&kr(e);return{c(){t=yt("table"),n=yt("thead"),a&&a.c(),r=vt(),l&&l.c(),i=vt();for(let e=0;e<u.length;e+=1)u[e].c();o=vt(),p&&p.c(),xt(t,"class","attacks-table")},m(e,c){ht(e,t,c),dt(t,n),a&&a.m(n,null),dt(n,r),l&&l.m(n,null),dt(t,i);for(let e=0;e<u.length;e+=1)u[e].m(t,null);dt(t,o),p&&p.m(t,null),s=!0},p(e,i){if(2!=e[0].battleType?a?a.p(e,i):((a=fr()).c(),a.m(n,r)):a&&(a.d(1),a=null),2==e[0].battleType?l?l.p(e,i):((l=pr()).c(),l.m(n,null)):l&&(l.d(1),l=null),5&i){let n;for(c=e[2],n=0;n<c.length;n+=1){const r=lr(e,c,n);u[n]?(u[n].p(r,i),Gt(u[n],1)):(u[n]=xr(r),u[n].c(),Gt(u[n],1),u[n].m(t,o))}for(Ut(),n=c.length;n<u.length;n+=1)f(n);Zt()}e[0].damageAlter&&2!=e[0].battleType?p?(p.p(e,i),Gt(p,1)):((p=kr(e)).c(),Gt(p,1),p.m(t,null)):p&&(Ut(),qt(p,1,1,()=>{p=null}),Zt())},i(e){if(!s){for(let e=0;e<c.length;e+=1)Gt(u[e]);Gt(p),s=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)qt(u[e]);qt(p),s=!1},d(e){e&&mt(t),a&&a.d(),l&&l.d(),gt(u,e),p&&p.d()}}}function fr(e){let t,n,r,i,o,s,a;return{c(){(t=yt("td")).textContent=`${Le.str("mode")}`,n=vt(),(r=yt("td")).textContent=`${Le.str("accuracy")}`,i=vt(),(o=yt("td")).textContent=`${Le.str("cost")}`,s=vt(),(a=yt("td")).textContent=`${Le.str("damage")}`},m(e,l){ht(e,t,l),ht(e,n,l),ht(e,r,l),ht(e,i,l),ht(e,o,l),ht(e,s,l),ht(e,a,l)},p:st,d(e){e&&mt(t),e&&mt(n),e&&mt(r),e&&mt(i),e&&mt(o),e&&mt(s),e&&mt(a)}}}function pr(e){let t,n,r,i,o;return{c(){(t=yt("td")).textContent=`${Le.str("sprite")}`,n=vt(),(r=yt("td")).textContent=`${Le.str("Specifications")}`,i=vt(),(o=yt("td")).textContent=`${Le.str("damage")}`,xt(r,"colspan","2")},m(e,s){ht(e,t,s),ht(e,n,s),ht(e,r,s),ht(e,i,s),ht(e,o,s)},p:st,d(e){e&&mt(t),e&&mt(n),e&&mt(r),e&&mt(i),e&&mt(o)}}}function dr(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b,v,$,w,x,k,_,A,S,C=Le.str(e[12].name)+"",T=1==e[12].shots?"":"×"+e[12].shots,O=e[12].accuracy+"",E=e[12].cost.time+"",I=e[12].flatTime?"":"%",N=e[12].range&&mr(e);const M=new qn({props:{bonus:e[12].accuracyMultiplier}});let j=Object.keys(e[12].cost),B=[];for(let t=0;t<j.length;t+=1)B[t]=yr(ar(e,j,t));const F=e=>qt(B[e],1,1,()=>{B[e]=null});return{c(){t=yt("td"),n=bt(C),r=bt(T),i=vt(),o=yt("td"),s=yt("nobr"),a=yt("span"),l=yt("em"),c=bt(O),u=vt(),f=bt("%"),p=vt(),d=yt("span"),N&&N.c(),h=vt(),m=yt("div"),Xt(M.$$.fragment),g=vt(),y=yt("td"),b=yt("nobr"),v=yt("em"),$=bt(E),w=vt(),x=bt(I),k=vt(),(_=yt("small")).textContent=`${Le.str("TU")}`,A=vt();for(let e=0;e<B.length;e+=1)B[e].c();xt(l,"class","big-number")},m(e,C){ht(e,t,C),dt(t,n),dt(t,r),ht(e,i,C),ht(e,o,C),dt(o,s),dt(s,a),dt(a,l),dt(l,c),dt(a,u),dt(a,f),dt(s,p),dt(s,d),N&&N.m(d,null),dt(s,h),dt(s,m),Kt(M,m,null),ht(e,g,C),ht(e,y,C),dt(y,b),dt(b,v),dt(v,$),dt(b,w),dt(b,x),dt(b,k),dt(b,_),dt(y,A);for(let e=0;e<B.length;e+=1)B[e].m(y,null);S=!0},p(e,t){(!S||4&t)&&C!==(C=Le.str(e[12].name)+"")&&kt(n,C),(!S||4&t)&&T!==(T=1==e[12].shots?"":"×"+e[12].shots)&&kt(r,T),(!S||4&t)&&O!==(O=e[12].accuracy+"")&&kt(c,O),e[12].range?N?N.p(e,t):((N=mr(e)).c(),N.m(d,null)):N&&(N.d(1),N=null);const i={};if(4&t&&(i.bonus=e[12].accuracyMultiplier),M.$set(i),(!S||4&t)&&E!==(E=e[12].cost.time+"")&&kt($,E),(!S||4&t)&&I!==(I=e[12].flatTime?"":"%")&&kt(x,I),4&t){let n;for(j=Object.keys(e[12].cost),n=0;n<j.length;n+=1){const r=ar(e,j,n);B[n]?(B[n].p(r,t),Gt(B[n],1)):(B[n]=yr(r),B[n].c(),Gt(B[n],1),B[n].m(y,null))}for(Ut(),n=j.length;n<B.length;n+=1)F(n);Zt()}},i(e){if(!S){Gt(M.$$.fragment,e);for(let e=0;e<j.length;e+=1)Gt(B[e]);S=!0}},o(e){qt(M.$$.fragment,e),B=B.filter(Boolean);for(let e=0;e<B.length;e+=1)qt(B[e]);S=!1},d(e){e&&mt(t),e&&mt(i),e&&mt(o),N&&N.d(),Yt(M),e&&mt(g),e&&mt(y),gt(B,e)}}}function hr(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b=Le.str("Shots")+"",v=e[12].item.clipSize+"",$=Le.str("Wgt")+"",w=e[12].item.weight+"";const x=new Kn({props:{src:Le.sprite(e[12].item.sprite),maxWidth:32*e[12].item.invWidth,maxHeight:32*e[12].item.invHeight,zoom:"2"}}),k=new rn({props:{href:e[12].item.type}});return{c(){t=yt("td"),Xt(x.$$.fragment),n=vt(),r=yt("td"),Xt(k.$$.fragment),i=vt(),o=yt("br"),s=vt(),a=yt("small"),l=bt(b),c=bt(": "),u=bt(v),f=vt(),p=yt("br"),d=vt(),h=bt($),m=bt(": "),g=bt(w),xt(t,"class","ammo-img svelte-pzh78t"),xt(r,"colspan","2")},m(e,b){ht(e,t,b),Kt(x,t,null),ht(e,n,b),ht(e,r,b),Kt(k,r,null),dt(r,i),dt(r,o),dt(r,s),dt(r,a),dt(a,l),dt(a,c),dt(a,u),dt(a,f),dt(a,p),dt(a,d),dt(a,h),dt(a,m),dt(a,g),y=!0},p(e,t){const n={};4&t&&(n.src=Le.sprite(e[12].item.sprite)),4&t&&(n.maxWidth=32*e[12].item.invWidth),4&t&&(n.maxHeight=32*e[12].item.invHeight),x.$set(n);const r={};4&t&&(r.href=e[12].item.type),k.$set(r),(!y||4&t)&&v!==(v=e[12].item.clipSize+"")&&kt(u,v),(!y||4&t)&&w!==(w=e[12].item.weight+"")&&kt(g,w)},i(e){y||(Gt(x.$$.fragment,e),Gt(k.$$.fragment,e),y=!0)},o(e){qt(x.$$.fragment,e),qt(k.$$.fragment,e),y=!1},d(e){e&&mt(t),Yt(x),e&&mt(n),e&&mt(r),Yt(k)}}}function mr(e){let t,n=Le.str("at N m").replace("N",`<em>${e[12].range}</em>`)+"";return{c(){t=new St(n,null)},m(e,n){t.m(e,n)},p(e,r){4&r&&n!==(n=Le.str("at N m").replace("N",`<em>${e[12].range}</em>`)+"")&&t.p(n)},d(e){e&&t.d()}}}function gr(e){let t,n,r,i,o,s,a,l,c=Le.str(e[15])+"";const u=new On({props:{val:e[12].cost[e[15]]}});return{c(){t=yt("br"),n=vt(),r=yt("nobr"),Xt(u.$$.fragment),i=vt(),o=yt("small"),s=bt(c),a=vt()},m(e,c){ht(e,t,c),ht(e,n,c),ht(e,r,c),Kt(u,r,null),dt(r,i),dt(r,o),dt(o,s),dt(r,a),l=!0},p(e,t){const n={};4&t&&(n.val=e[12].cost[e[15]]),u.$set(n),(!l||4&t)&&c!==(c=Le.str(e[15])+"")&&kt(s,c)},i(e){l||(Gt(u.$$.fragment,e),l=!0)},o(e){qt(u.$$.fragment,e),l=!1},d(e){e&&mt(t),e&&mt(n),e&&mt(r),Yt(u)}}}function yr(e){let t,n,r="time"!=e[15]&&0!=e[12].cost[e[15]]&&gr(e);return{c(){r&&r.c(),t=$t()},m(e,i){r&&r.m(e,i),ht(e,t,i),n=!0},p(e,n){"time"!=e[15]&&0!=e[12].cost[e[15]]?r?(r.p(e,n),Gt(r,1)):((r=gr(e)).c(),Gt(r,1),r.m(t.parentNode,t)):r&&(Ut(),qt(r,1,1,()=>{r=null}),Zt())},i(e){n||(Gt(r),n=!0)},o(e){qt(r),n=!1},d(e){r&&r.d(e),e&&mt(t)}}}function br(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y=e[12].pellets>1&&e[12].damageBonus?"(":"",b=(e[12].damage||0)+"",v=e[12].pellets>1&&e[12].damageBonus?")":"",$=e[12].pellets>1?" ×"+e[12].pellets:"";const w=new qn({props:{plus:!0,bonus:e[12].damageBonus}});let x=e[12].damageType&&vr(e);return{c(){t=yt("nobr"),n=bt(y),r=vt(),i=yt("em"),o=bt(b),s=vt(),a=yt("small"),Xt(w.$$.fragment),l=vt(),c=bt(v),u=vt(),f=bt($),p=vt(),d=yt("br"),h=vt(),x&&x.c(),m=$t()},m(e,y){ht(e,t,y),dt(t,n),dt(t,r),dt(t,i),dt(i,o),dt(t,s),dt(t,a),Kt(w,a,null),dt(a,l),dt(a,c),dt(t,u),dt(t,f),ht(e,p,y),ht(e,d,y),ht(e,h,y),x&&x.m(e,y),ht(e,m,y),g=!0},p(e,t){(!g||4&t)&&y!==(y=e[12].pellets>1&&e[12].damageBonus?"(":"")&&kt(n,y),(!g||4&t)&&b!==(b=(e[12].damage||0)+"")&&kt(o,b);const r={};4&t&&(r.bonus=e[12].damageBonus),w.$set(r),(!g||4&t)&&v!==(v=e[12].pellets>1&&e[12].damageBonus?")":"")&&kt(c,v),(!g||4&t)&&$!==($=e[12].pellets>1?" ×"+e[12].pellets:"")&&kt(f,$),e[12].damageType?x?(x.p(e,t),Gt(x,1)):((x=vr(e)).c(),Gt(x,1),x.m(m.parentNode,m)):x&&(Ut(),qt(x,1,1,()=>{x=null}),Zt())},i(e){g||(Gt(w.$$.fragment,e),Gt(x),g=!0)},o(e){qt(w.$$.fragment,e),qt(x),g=!1},d(e){e&&mt(t),Yt(w),e&&mt(p),e&&mt(d),e&&mt(h),x&&x.d(e),e&&mt(m)}}}function vr(e){let t;const n=new rn({props:{href:Le.damageTypes[e[12].damageType]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};4&t&&(r.href=Le.damageTypes[e[12].damageType]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function $r(e){let t;const n=new er({props:{items:e[0].meleeAlter}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[0].meleeAlter),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function wr(e){let t;const n=new er({props:{items:e[12].alter}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};4&t&&(r.items=e[12].alter),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function xr(e){let t,n,r,i,o,s,a,l,c;const u=[hr,dr],f=[];function p(e,t){return"ammo"==e[12].mode?0:1}n=p(e),r=f[n]=u[n](e);let d=("damage"in e[12]||"damageType"in e[12])&&br(e),h="melee"==e[12].mode&&e[0].meleeAlter&&2!=e[0].battleType&&$r(e),m="ammo"==e[12].mode&&e[12].alter&&wr(e);return{c(){t=yt("tr"),r.c(),i=vt(),o=yt("td"),d&&d.c(),s=vt(),h&&h.c(),a=vt(),m&&m.c(),l=$t()},m(e,r){ht(e,t,r),f[n].m(t,null),dt(t,i),dt(t,o),d&&d.m(o,null),ht(e,s,r),h&&h.m(e,r),ht(e,a,r),m&&m.m(e,r),ht(e,l,r),c=!0},p(e,s){let c=n;(n=p(e))===c?f[n].p(e,s):(Ut(),qt(f[c],1,1,()=>{f[c]=null}),Zt(),(r=f[n])||(r=f[n]=u[n](e)).c(),Gt(r,1),r.m(t,i)),"damage"in e[12]||"damageType"in e[12]?d?(d.p(e,s),Gt(d,1)):((d=br(e)).c(),Gt(d,1),d.m(o,null)):d&&(Ut(),qt(d,1,1,()=>{d=null}),Zt()),"melee"==e[12].mode&&e[0].meleeAlter&&2!=e[0].battleType?h?(h.p(e,s),Gt(h,1)):((h=$r(e)).c(),Gt(h,1),h.m(a.parentNode,a)):h&&(Ut(),qt(h,1,1,()=>{h=null}),Zt()),"ammo"==e[12].mode&&e[12].alter?m?(m.p(e,s),Gt(m,1)):((m=wr(e)).c(),Gt(m,1),m.m(l.parentNode,l)):m&&(Ut(),qt(m,1,1,()=>{m=null}),Zt())},i(e){c||(Gt(r),Gt(d),Gt(h),Gt(m),c=!0)},o(e){qt(r),qt(d),qt(h),qt(m),c=!1},d(e){e&&mt(t),f[n].d(),d&&d.d(),e&&mt(s),h&&h.d(e),e&&mt(a),m&&m.d(e),e&&mt(l)}}}function kr(e){let t;const n=new er({props:{items:e[0].damageAlter}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[0].damageAlter),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function _r(e){let t,n,r,i,o,s,a,l,c,u,f,p,d;const h=new rr({props:{key:e[3]}}),m=[Mr,Nr,Ir,Er,Or,Tr,Cr,Sr,Ar],g=[];function y(e,t){return 1&t&&(i=!!["requiresBuyBaseFunc"].includes(e[3])),i?0:(1&t&&(o=!!["manufacture","componentOf"].includes(e[3])),o?1:(1&t&&(s=!!["damageBonus","meleeBonus","accuracyMultiplier","meleeMultiplier","closeQuartersMultiplier"].includes(e[3])),s?2:(1&t&&(a=!!["damageType","meleeType"].includes(e[3])),a?3:"battleType"==e[3]?4:"experienceTrainingMode"==e[3]?5:(1&t&&(l=!!e[3].includes("Sound")),l?6:(1&t&&(c=!!["floorSprite","handSprite"].includes(e[3])),c?7:8)))))}return u=y(e,-1),f=g[u]=m[u](e),{c(){t=yt("tr"),Xt(h.$$.fragment),n=vt(),r=yt("td"),f.c(),p=vt(),xt(r,"class","right-column svelte-pzh78t")},m(e,i){ht(e,t,i),Kt(h,t,null),dt(t,n),dt(t,r),g[u].m(r,null),dt(t,p),d=!0},p(e,t){const n={};1&t&&(n.key=e[3]),h.$set(n);let i=u;(u=y(e,t))===i?g[u].p(e,t):(Ut(),qt(g[i],1,1,()=>{g[i]=null}),Zt(),(f=g[u])||(f=g[u]=m[u](e)).c(),Gt(f,1),f.m(r,null))},i(e){d||(Gt(h.$$.fragment,e),Gt(f),d=!0)},o(e){qt(h.$$.fragment,e),qt(f),d=!1},d(e){e&&mt(t),Yt(h),g[u].d()}}}function Ar(e){let t;const n=new On({props:{val:e[4]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[4]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Sr(e){let t,n,r,i,o,s,a,l=e[4]+"";return{c(){t=yt("a"),n=bt(l),i=vt(),o=yt("img"),At(t,"vertical-align","top"),xt(t,"href",r=Le.specialSprite(e[3],e[4])),xt(o,"class","sprite svelte-pzh78t"),xt(o,"alt",s=e[4]),o.src!==(a=Le.specialSprite(e[3],e[4]))&&xt(o,"src",a)},m(e,r){ht(e,t,r),dt(t,n),ht(e,i,r),ht(e,o,r)},p(e,i){1&i&&l!==(l=e[4]+"")&&kt(n,l),1&i&&r!==(r=Le.specialSprite(e[3],e[4]))&&xt(t,"href",r),1&i&&s!==(s=e[4])&&xt(o,"alt",s),1&i&&o.src!==(a=Le.specialSprite(e[3],e[4]))&&xt(o,"src",a)},i:st,o:st,d(e){e&&mt(t),e&&mt(i),e&&mt(o)}}}function Cr(e){let t,n=Dr(e[4]),r=[];for(let t=0;t<n.length;t+=1)r[t]=jr(ir(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$t()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);ht(e,t,n)},p(e,i){if(1&i){let o;for(n=Dr(e[4]),o=0;o<n.length;o+=1){const s=ir(e,n,o);r[o]?r[o].p(s,i):(r[o]=jr(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:st,o:st,d(e){gt(r,e),e&&mt(t)}}}function Tr(e){let t,n,r,i=e[4]+"",o=Le.str(Le.experienceTrainingModes[e[4]])+"";return{c(){t=bt(i),n=bt(": "),r=bt(o)},m(e,i){ht(e,t,i),ht(e,n,i),ht(e,r,i)},p(e,n){1&n&&i!==(i=e[4]+"")&&kt(t,i),1&n&&o!==(o=Le.str(Le.experienceTrainingModes[e[4]])+"")&&kt(r,o)},i:st,o:st,d(e){e&&mt(t),e&&mt(n),e&&mt(r)}}}function Or(e){let t,n,r,i=e[4]+"",o=Le.str(Le.battleTypes[e[4]])+"";return{c(){t=bt(i),n=bt(": "),r=bt(o)},m(e,i){ht(e,t,i),ht(e,n,i),ht(e,r,i)},p(e,n){1&n&&i!==(i=e[4]+"")&&kt(t,i),1&n&&o!==(o=Le.str(Le.battleTypes[e[4]])+"")&&kt(r,o)},i:st,o:st,d(e){e&&mt(t),e&&mt(n),e&&mt(r)}}}function Er(e){let t,n,r,i=e[4]+"",o=Le.damageTypeName(e[4])+"";return{c(){t=bt(i),n=bt(": "),r=bt(o)},m(e,i){ht(e,t,i),ht(e,n,i),ht(e,r,i)},p(e,n){1&n&&i!==(i=e[4]+"")&&kt(t,i),1&n&&o!==(o=Le.damageTypeName(e[4])+"")&&kt(r,o)},i:st,o:st,d(e){e&&mt(t),e&&mt(n),e&&mt(r)}}}function Ir(e){let t;const n=new qn({props:{bonus:e[4]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.bonus=e[4]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Nr(e){let t,n,r=Object.keys(e[4]),i=[];for(let t=0;t<r.length;t+=1)i[t]=Br(or(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","number-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(1&n){let s;for(r=Object.keys(e[4]),s=0;s<r.length;s+=1){const o=or(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=Br(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}function Mr(e){let t;const n=new jn({props:{items:e[4],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[4]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function jr(e){let t,n,r,i,o,s=e[9]>0?"<br/>":"";return{c(){n=vt(),r=yt("audio"),i=bt("Audio tag not working"),t=new St(s,n),r.controls=!0,r.src!==(o=e[10])&&xt(r,"src",o)},m(e,o){t.m(e,o),ht(e,n,o),ht(e,r,o),dt(r,i)},p(e,t){1&t&&r.src!==(o=e[10])&&xt(r,"src",o)},d(e){e&&t.d(),e&&mt(n),e&&mt(r)}}}function Br(e){let t,n,r,i,o,s,a,l,c=e[4][e[7]]+"";const u=new rn({props:{href:e[7]}});return{c(){t=yt("tr"),n=yt("td"),r=yt("em"),i=bt(c),o=vt(),s=yt("td"),Xt(u.$$.fragment),a=vt()},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),dt(r,i),dt(t,o),dt(t,s),Kt(u,s,null),dt(t,a),l=!0},p(e,t){(!l||1&t)&&c!==(c=e[4][e[7]]+"")&&kt(i,c);const n={};1&t&&(n.href=e[7]),u.$set(n)},i(e){l||(Gt(u.$$.fragment,e),l=!0)},o(e){qt(u.$$.fragment,e),l=!1},d(e){e&&mt(t),Yt(u)}}}function Fr(e){let t,n,r=!["sprite","type","_attacks","damageAlter","meleeAlter"].includes(e[3]),i=r&&_r(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["sprite","type","_attacks","damageAlter","meleeAlter"].includes(e[3])),r?i?(i.p(e,n),Gt(i,1)):((i=_r(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function Lr(e){let t,n,r,i,o,s,a,l=(e[0].sprite&&"Resources/Blanks/Blank.png"!=e[0].sprite||e[2].length>0)&&cr(e),c=Object.entries(e[0]).sort(Rr),u=[];for(let t=0;t<c.length;t+=1)u[t]=Fr(sr(e,c,t));const f=e=>qt(u[e],1,1,()=>{u[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=bt(e[1]),i=vt(),l&&l.c(),o=vt();for(let e=0;e<u.length;e+=1)u[e].c();s=$t(),xt(n,"class","table-header"),xt(n,"colspan","2")},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),ht(e,i,c),l&&l.m(e,c),ht(e,o,c);for(let t=0;t<u.length;t+=1)u[t].m(e,c);ht(e,s,c),a=!0},p(e,[t]){if((!a||2&t)&&kt(r,e[1]),e[0].sprite&&"Resources/Blanks/Blank.png"!=e[0].sprite||e[2].length>0?l?(l.p(e,t),Gt(l,1)):((l=cr(e)).c(),Gt(l,1),l.m(o.parentNode,o)):l&&(Ut(),qt(l,1,1,()=>{l=null}),Zt()),1&t){let n;for(c=Object.entries(e[0]).sort(Rr),n=0;n<c.length;n+=1){const r=sr(e,c,n);u[n]?(u[n].p(r,t),Gt(u[n],1)):(u[n]=Fr(r),u[n].c(),Gt(u[n],1),u[n].m(s.parentNode,s))}for(Ut(),n=c.length;n<u.length;n+=1)f(n);Zt()}},i(e){if(!a){Gt(l);for(let e=0;e<c.length;e+=1)Gt(u[e]);a=!0}},o(e){qt(l),u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)qt(u[e]);a=!1},d(e){e&&mt(t),e&&mt(i),l&&l.d(e),e&&mt(o),gt(u,e),e&&mt(s)}}}function Dr(e){return e?(e.length||(e=[e]),e.map(e=>Le.path+Le.sounds[e]).filter(e=>e)):[]}const Rr=(e,t)=>e[0]>t[0]?1:-1;function Pr(e,t,n){let r,{item:i}=t,{title:o=Le.str("Item")}=t;return console.info(i),e.$set=(e=>{"item"in e&&n(0,i=e.item),"title"in e&&n(1,o=e.title)}),e.$$.update=(()=>{if(5&e.$$.dirty){if(n(2,r=i.attacks().slice()),i.compatibleAmmo)for(let e of i.compatibleAmmo){let t=Le.items[e].attacks()[0];r.push(t)}console.info(r)}}),[i,o,r]}class zr extends Jt{constructor(e){super(),Vt(this,e,Pr,Lr,ft,{item:0,title:1})}}function Hr(e,t,n){const r=e.slice();return r[13]=t[n],r[12]=n,r}function Ur(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function Zr(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function Gr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function qr(e,t,n){const r=e.slice();return r[6]=t[n][0],r[17]=t[n][1],r[12]=n,r}function Wr(e,t,n){const r=e.slice();return r[7]=t[n],r}function Xr(e,t,n){const r=e.slice();return r[24]=t[n],r[21]=n,r}function Kr(e,t,n){const r=e.slice();return r[22]=t[n],r[12]=n,r}function Yr(e){let t,n,r;const i=new vn({props:{items:e[2]}});return{c(){(t=yt("span")).textContent=`- ${Le.str("see also")}`,n=vt(),Xt(i.$$.fragment),At(t,"color","white")},m(e,o){ht(e,t,o),ht(e,n,o),Kt(i,e,o),r=!0},p(e,t){const n={};4&t&&(n.items=e[2]),i.$set(n)},i(e){r||(Gt(i.$$.fragment,e),r=!0)},o(e){qt(i.$$.fragment,e),r=!1},d(e){e&&mt(t),e&&mt(n),Yt(i,e)}}}function Vr(e){let t,n,r,i,o,s,a=(e[1]?Le.str("Hide"):Le.str("Show"))+"",l=Le.str("all variants")+"";return{c(){t=yt("p"),n=yt("button"),r=bt(a),i=vt(),o=bt(l),xt(n,"class","btn-hover-effect btn-hover-effect--effect-1"),s=wt(n,"click",e[3])},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(n,i),dt(n,o)},p(e,t){2&t&&a!==(a=(e[1]?Le.str("Hide"):Le.str("Show"))+"")&&kt(r,a)},d(e){e&&mt(t),s()}}}function Jr(e){let t,n,r,i=Object.keys(e[0].dollSprites).sort(e[4]),o=[];for(let t=0;t<i.length;t+=1)o[t]=ni(Kr(e,i,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=vt(),xt(n=yt("div"),"style",r="height:"+(e[1]?230*(Math.floor(Object.keys(e[0].dollSprites).length/wi)+1):230)+"px")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);ht(e,t,r),ht(e,n,r)},p(e,s){if(3&s){let n;for(i=Object.keys(e[0].dollSprites).sort(e[4]),n=0;n<i.length;n+=1){const r=Kr(e,i,n);o[n]?o[n].p(r,s):(o[n]=ni(r),o[n].c(),o[n].m(t.parentNode,t))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}3&s&&r!==(r="height:"+(e[1]?230*(Math.floor(Object.keys(e[0].dollSprites).length/wi)+1):230)+"px")&&xt(n,"style",r)},d(e){gt(o,e),e&&mt(t),e&&mt(n)}}}function Qr(e){let t,n,r=e[1]&&ei(e),i=e[0].dollSprites[e[22]],o=[];for(let t=0;t<i.length;t+=1)o[t]=ti(Xr(e,i,t));return{c(){t=yt("div"),r&&r.c(),n=vt();for(let e=0;e<o.length;e+=1)o[e].c();xt(t,"class","armor"),At(t,"left",e[12]%wi*180+"px"),At(t,"top",230*Math.floor(e[12]/wi)+"px")},m(e,i){ht(e,t,i),r&&r.m(t,null),dt(t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,s){if(e[1]?r?r.p(e,s):((r=ei(e)).c(),r.m(t,n)):r&&(r.d(1),r=null),1&s){let n;for(i=e[0].dollSprites[e[22]],n=0;n<i.length;n+=1){const r=Xr(e,i,n);o[n]?o[n].p(r,s):(o[n]=ti(r),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}},d(e){e&&mt(t),r&&r.d(),gt(o,e)}}}function ei(e){let t,n,r=e[22]+"";return{c(){t=yt("div"),n=bt(r),xt(t,"class","armor-variant")},m(e,r){ht(e,t,r),dt(t,n)},p(e,t){1&t&&r!==(r=e[22]+"")&&kt(n,r)},d(e){e&&mt(t)}}}function ti(e){let t,n,r;return{c(){(t=yt("img")).src!==(n=e[24])&&xt(t,"src",n),xt(t,"alt",r=e[22]),xt(t,"onerror","this.onerror=null; console.log(this.src + ' not found'); this.src='xpedia/0.png';"),xt(t,"class","armor-layer")},m(e,n){ht(e,t,n)},p(e,i){1&i&&t.src!==(n=e[24])&&xt(t,"src",n),1&i&&r!==(r=e[22])&&xt(t,"alt",r)},d(e){e&&mt(t)}}}function ni(e){let t,n=(e[1]||0==e[12])&&Qr(e);return{c(){n&&n.c(),t=$t()},m(e,r){n&&n.m(e,r),ht(e,t,r)},p(e,r){e[1]||0==e[12]?n?n.p(e,r):((n=Qr(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&mt(t)}}}function ri(e){let t,n,r,i,o,s,a,l=Le.str(e[7])+"",c=Object.entries(e[0][e[7]]).sort(e[5]),u=[];for(let t=0;t<c.length;t+=1)u[t]=ci(qr(e,c,t));const f=e=>qt(u[e],1,1,()=>{u[e]=null});return{c(){t=yt("table"),n=yt("thead"),r=yt("tr"),i=yt("td"),o=vt();for(let e=0;e<u.length;e+=1)u[e].c();s=vt(),xt(i,"colspan","2"),xt(i,"class","number-table-header"),At(i,"text-align","center"),xt(t,"class","number-table armor-column")},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),dt(r,i),i.innerHTML=l,dt(t,o);for(let e=0;e<u.length;e+=1)u[e].m(t,null);dt(t,s),a=!0},p(e,n){if(1&n){let r;for(c=Object.entries(e[0][e[7]]).sort(e[5]),r=0;r<c.length;r+=1){const i=qr(e,c,r);u[r]?(u[r].p(i,n),Gt(u[r],1)):(u[r]=ci(i),u[r].c(),Gt(u[r],1),u[r].m(t,s))}for(Ut(),r=c.length;r<u.length;r+=1)f(r);Zt()}},i(e){if(!a){for(let e=0;e<c.length;e+=1)Gt(u[e]);a=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)qt(u[e]);a=!1},d(e){e&&mt(t),gt(u,e)}}}function ii(e){let t,n,r=Le.str(e[6])+"";return{c(){t=yt("nobr"),n=bt(r)},m(e,r){ht(e,t,r),dt(t,n)},p(e,t){1&t&&r!==(r=Le.str(e[6])+"")&&kt(n,r)},i:st,o:st,d(e){e&&mt(t)}}}function oi(e){let t;const n=new rn({props:{href:Le.damageTypes[e[6]]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.href=Le.damageTypes[e[6]]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function si(e){let t,n=("damageModifier"==e[7]?Math.floor(100*e[17]):Le.decamelize(e[17]))+"";return{c(){t=yt("em")},m(e,r){ht(e,t,r),t.innerHTML=n},p(e,r){1&r&&n!==(n=("damageModifier"==e[7]?Math.floor(100*e[17]):Le.decamelize(e[17]))+"")&&(t.innerHTML=n)},d(e){e&&mt(t)}}}function ai(e){let t,n=Object.keys(e[17]),r=[];for(let t=0;t<n.length;t+=1)r[t]=li(Gr(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$t()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);ht(e,t,n)},p(e,i){if(1&i){let o;for(n=Object.keys(e[17]),o=0;o<n.length;o+=1){const s=Gr(e,n,o);r[o]?r[o].p(s,i):(r[o]=li(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){gt(r,e),e&&mt(t)}}}function li(e){let t,n,r,i,o=Le.str(e[19])+"",s=Le.decamelize(e[17][e[19]])+"",a=0!=e[21]&&function(e){let t;return{c(){t=yt("br")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}();return{c(){a&&a.c(),t=vt(),r=bt("\r\n                        :\r\n                        "),i=yt("em"),n=new St(o,r)},m(e,o){a&&a.m(e,o),ht(e,t,o),n.m(e,o),ht(e,r,o),ht(e,i,o),i.innerHTML=s},p(e,t){1&t&&o!==(o=Le.str(e[19])+"")&&n.p(o),1&t&&s!==(s=Le.decamelize(e[17][e[19]])+"")&&(i.innerHTML=s)},d(e){a&&a.d(e),e&&mt(t),e&&n.d(),e&&mt(r),e&&mt(i)}}}function ci(e){let t,n,r,i,o,s,a;const l=[oi,ii],c=[];r=function(e,t){return"damageModifier"==e[7]?0:1}(e),i=c[r]=l[r](e);let u=function(e,t){return"recovery"==e[7]?ai:si}(e)(e);return{c(){t=yt("tr"),n=yt("td"),i.c(),o=vt(),s=yt("td"),u.c()},m(e,i){ht(e,t,i),dt(t,n),c[r].m(n,null),dt(t,o),dt(t,s),u.m(s,null),a=!0},p(e,t){i.p(e,t),u.p(e,t)},i(e){a||(Gt(i),a=!0)},o(e){qt(i),a=!1},d(e){e&&mt(t),c[r].d(),u.d()}}}function ui(e){let t,n,r=e[0][e[7]]&&ri(e);return{c(){r&&r.c(),t=$t()},m(e,i){r&&r.m(e,i),ht(e,t,i),n=!0},p(e,n){e[0][e[7]]?r?(r.p(e,n),Gt(r,1)):((r=ri(e)).c(),Gt(r,1),r.m(t.parentNode,t)):r&&(Ut(),qt(r,1,1,()=>{r=null}),Zt())},i(e){n||(Gt(r),n=!0)},o(e){qt(r),n=!1},d(e){r&&r.d(e),e&&mt(t)}}}function fi(e){let t,n,r,i,o,s,a,l,c;const u=new rr({props:{key:e[6]}}),f=[gi,mi,hi,di,pi],p=[];function d(e,t){return"damageModifier"==e[6]?0:(1&t&&(i=!!["corpseBattle"].includes(e[6])),i?1:"spriteSheet"==e[6]?2:(1&t&&(o=!!["builtInWeapons","users","units"].includes(e[6])),o?3:4))}return s=d(e,-1),a=p[s]=f[s](e),{c(){t=yt("tr"),Xt(u.$$.fragment),n=vt(),r=yt("td"),a.c(),l=vt()},m(e,i){ht(e,t,i),Kt(u,t,null),dt(t,n),dt(t,r),p[s].m(r,null),dt(t,l),c=!0},p(e,t){const n={};1&t&&(n.key=e[6]),u.$set(n);let i=s;(s=d(e,t))===i?p[s].p(e,t):(Ut(),qt(p[i],1,1,()=>{p[i]=null}),Zt(),(a=p[s])||(a=p[s]=f[s](e)).c(),Gt(a,1),a.m(r,null))},i(e){c||(Gt(u.$$.fragment,e),Gt(a),c=!0)},o(e){qt(u.$$.fragment,e),qt(a),c=!1},d(e){e&&mt(t),Yt(u),p[s].d()}}}function pi(e){let t;const n=new On({props:{val:e[7]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[7]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function di(e){let t,n,r=e[7].filter(ki),i=[];for(let t=0;t<r.length;t+=1)i[t]=yi(Hr(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=$t()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);ht(e,t,r),n=!0},p(e,n){if(1&n){let s;for(r=e[7].filter(ki),s=0;s<r.length;s+=1){const o=Hr(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=yi(o),i[s].c(),Gt(i[s],1),i[s].m(t.parentNode,t))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){gt(i,e),e&&mt(t)}}}function hi(e){let t,n,r,i=e[7]+"";return{c(){t=yt("a"),n=bt(i),xt(t,"href",r=Le.sprite(e[7]))},m(e,r){ht(e,t,r),dt(t,n)},p(e,o){1&o&&i!==(i=e[7]+"")&&kt(n,i),1&o&&r!==(r=Le.sprite(e[7]))&&xt(t,"href",r)},i:st,o:st,d(e){e&&mt(t)}}}function mi(e){let t;const n=new rn({props:{href:e[7][0]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.href=e[7][0]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function gi(e){let t,n=e[7],r=[];for(let t=0;t<n.length;t+=1)r[t]=bi(Ur(e,n,t));return{c(){t=yt("table");for(let e=0;e<r.length;e+=1)r[e].c();xt(t,"class","number-table")},m(e,n){ht(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,i){if(1&i){let o;for(n=e[7],o=0;o<n.length;o+=1){const s=Ur(e,n,o);r[o]?r[o].p(s,i):(r[o]=bi(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:st,o:st,d(e){e&&mt(t),gt(r,e)}}}function yi(e){let t,n,r=0!=e[12]&&function(e){let t;return{c(){t=bt(",")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}();const i=new rn({props:{href:e[13]}});return{c(){r&&r.c(),t=vt(),Xt(i.$$.fragment)},m(e,o){r&&r.m(e,o),ht(e,t,o),Kt(i,e,o),n=!0},p(e,t){const n={};1&t&&(n.href=e[13]),i.$set(n)},i(e){n||(Gt(i.$$.fragment,e),n=!0)},o(e){qt(i.$$.fragment,e),n=!1},d(e){r&&r.d(e),e&&mt(t),Yt(i,e)}}}function bi(e){let t,n,r,i,o,s,a,l,c=Le.damageTypeName(e[12])+"",u=Math.round(100*e[10])+"";return{c(){t=yt("tr"),n=yt("td"),r=bt(c),i=vt(),o=yt("td"),s=bt(u),a=bt("%"),l=vt(),xt(n,"width","50%"),xt(n,"class","number-table1"),xt(o,"width","50%"),xt(o,"class","number-table2")},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),dt(t,i),dt(t,o),dt(o,s),dt(o,a),dt(t,l)},p(e,t){1&t&&u!==(u=Math.round(100*e[10])+"")&&kt(s,u)},d(e){e&&mt(t)}}}function vi(e){let t,n,r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(e[6]),i=r&&fi(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["recovery","type","layersDefinition","spriteFaceColor","spriteHairColor","spriteUtileColor","spriteFaceGroup","spriteHairGroup","spriteUtileGroup","customArmorPreviewIndex","dollSprites","layersDefaultPrefix","frontArmor","sideArmor","rearArmor","underArmor","spriteInv","scripts","armor","damageModifier","stats"].includes(e[6])),r?i?(i.p(e,n),Gt(i,1)):((i=fi(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function $i(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y=Le.str("Armor")+"",b=Object.keys(e[0].dollSprites).length>1,v=e[2].length>0&&Yr(e),$=b&&Vr(e),w=e[0].dollSprites&&Jr(e),x=["armor","damageModifier","stats","recovery"],k=[];for(let t=0;t<4;t+=1)k[t]=ui(Wr(e,x,t));const _=e=>qt(k[e],1,1,()=>{k[e]=null});let A=Object.entries(e[0]).sort(xi),S=[];for(let t=0;t<A.length;t+=1)S[t]=vi(Zr(e,A,t));const C=e=>qt(S[e],1,1,()=>{S[e]=null});return{c(){t=yt("table"),n=yt("tr"),r=yt("td"),i=bt(y),o=vt(),v&&v.c(),s=vt(),a=yt("tr"),l=yt("td"),c=yt("div"),$&&$.c(),u=vt(),w&&w.c(),f=vt(),p=yt("tr"),d=yt("td"),h=yt("div");for(let e=0;e<4;e+=1)k[e].c();m=vt();for(let e=0;e<S.length;e+=1)S[e].c();xt(r,"colspan","2"),xt(r,"class","table-header"),xt(c,"class","armors"),xt(l,"colspan","2"),xt(h,"class","flex-horisontal"),xt(d,"colspan","2"),xt(t,"class","armor-table")},m(e,y){ht(e,t,y),dt(t,n),dt(n,r),dt(r,i),dt(r,o),v&&v.m(r,null),dt(t,s),dt(t,a),dt(a,l),dt(l,c),$&&$.m(c,null),dt(c,u),w&&w.m(c,null),dt(t,f),dt(t,p),dt(p,d),dt(d,h);for(let e=0;e<4;e+=1)k[e].m(h,null);dt(t,m);for(let e=0;e<S.length;e+=1)S[e].m(t,null);g=!0},p(e,[n]){if(e[2].length>0?v?(v.p(e,n),Gt(v,1)):((v=Yr(e)).c(),Gt(v,1),v.m(r,null)):v&&(Ut(),qt(v,1,1,()=>{v=null}),Zt()),1&n&&(b=Object.keys(e[0].dollSprites).length>1),b?$?$.p(e,n):(($=Vr(e)).c(),$.m(c,u)):$&&($.d(1),$=null),e[0].dollSprites?w?w.p(e,n):((w=Jr(e)).c(),w.m(c,null)):w&&(w.d(1),w=null),1&n){let t;for(x=["armor","damageModifier","stats","recovery"],t=0;t<4;t+=1){const r=Wr(e,x,t);k[t]?(k[t].p(r,n),Gt(k[t],1)):(k[t]=ui(r),k[t].c(),Gt(k[t],1),k[t].m(h,null))}for(Ut(),t=4;t<4;t+=1)_(t);Zt()}if(1&n){let r;for(A=Object.entries(e[0]).sort(xi),r=0;r<A.length;r+=1){const i=Zr(e,A,r);S[r]?(S[r].p(i,n),Gt(S[r],1)):(S[r]=vi(i),S[r].c(),Gt(S[r],1),S[r].m(t,null))}for(Ut(),r=A.length;r<S.length;r+=1)C(r);Zt()}},i(e){if(!g){Gt(v);for(let e=0;e<4;e+=1)Gt(k[e]);for(let e=0;e<A.length;e+=1)Gt(S[e]);g=!0}},o(e){qt(v),k=k.filter(Boolean);for(let e=0;e<4;e+=1)qt(k[e]);S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)qt(S[e]);g=!1},d(e){e&&mt(t),v&&v.d(),$&&$.d(),w&&w.d(),gt(k,e),gt(S,e)}}}let wi=3;const xi=(e,t)=>e[0]>t[0]?1:-1,ki=e=>"INV_NULL"!=e.substr(0,8);function _i(e,t,n){let{armor:r}=t,i=!1,o=[];return e.$set=(e=>{"armor"in e&&n(0,r=e.armor)}),e.$$.update=(()=>{if(5&e.$$.dirty&&(console.log(r),n(2,o=[]),"storeItem"in r&&"STR_NONE"!=r.storeItem&&o.push(r.storeItem),"users"in r))for(let e of r.users.filter(e=>"INV_NULL"!=e.substr(0,8)&&e!=r.type&&"#"+e!=window.location.hash))o.push(e)}),[r,i,o,e=>n(1,i=!i),(e,t)=>Le.bodiesCompare([e,t]),(e,t)=>Le.str(e[0])>Le.str(t[0])?1:-1]}class Ai extends Jt{constructor(e){super(),Vt(this,e,_i,$i,ft,{armor:0})}}function Si(e,t,n){const r=e.slice();return r[2]=t[n][0],r[3]=t[n][1],r}function Ci(e){let t,n,r,i,o,s,a,l,c,u;const f=new rr({props:{key:e[2]}}),p=[Ii,Ei,Oi,Ti],d=[];function h(e,t){return 1&t&&(i=!!["weaponStrings"].includes(e[2])),i?0:(1&t&&(o=!!["sprite"].includes(e[2])),o?1:(1&t&&(s=!!["requiresBaseFunc"].includes(e[2])),s?2:3))}return a=h(e,-1),l=d[a]=p[a](e),{c(){t=yt("tr"),Xt(f.$$.fragment),n=vt(),r=yt("td"),l.c(),c=vt()},m(e,i){ht(e,t,i),Kt(f,t,null),dt(t,n),dt(t,r),d[a].m(r,null),dt(t,c),u=!0},p(e,t){const n={};1&t&&(n.key=e[2]),f.$set(n);let i=a;(a=h(e,t))===i?d[a].p(e,t):(Ut(),qt(d[i],1,1,()=>{d[i]=null}),Zt(),(l=d[a])||(l=d[a]=p[a](e)).c(),Gt(l,1),l.m(r,null))},i(e){u||(Gt(f.$$.fragment,e),Gt(l),u=!0)},o(e){qt(f.$$.fragment,e),qt(l),u=!1},d(e){e&&mt(t),Yt(f),d[a].d()}}}function Ti(e){let t;const n=new On({props:{val:e[3]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[3]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Oi(e){let t;const n=new jn({props:{items:e[3],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[3]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ei(e){let t,n;return{c(){xt(t=yt("img"),"class","craft sprite"),xt(t,"onerror","this.onerror=null; this.src='xpedia/0.png'"),xt(t,"alt","X"),t.src!==(n=Le.specialSprite("baseSprite",1*e[3]+33))&&xt(t,"src",n)},m(e,n){ht(e,t,n)},p(e,r){1&r&&t.src!==(n=Le.specialSprite("baseSprite",1*e[3]+33))&&xt(t,"src",n)},i:st,o:st,d(e){e&&mt(t)}}}function Ii(e){let t;const n=new On({props:{val:e[3].map(e[1])}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[3].map(e[1])),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ni(e){let t,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[2]),i=r&&Ci(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[2])),r?i?(i.p(e,n),Gt(i,1)):((i=Ci(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function Mi(e){let t,n,r,i,o,s=Object.entries(e[0]).sort(ji),a=[];for(let t=0;t<s.length;t+=1)a[t]=Ni(Si(e,s,t));const l=e=>qt(a[e],1,1,()=>{a[e]=null});return{c(){t=yt("table"),n=yt("tr"),(r=yt("td")).textContent=`${Le.str("Craft")}`,i=vt();for(let e=0;e<a.length;e+=1)a[e].c();xt(r,"colspan","2"),xt(r,"class","table-header"),xt(t,"class","main-table")},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,[n]){if(1&n){let r;for(s=Object.entries(e[0]).sort(ji),r=0;r<s.length;r+=1){const i=Si(e,s,r);a[r]?(a[r].p(i,n),Gt(a[r],1)):(a[r]=Ni(i),a[r].c(),Gt(a[r],1),a[r].m(t,null))}for(Ut(),r=s.length;r<a.length;r+=1)l(r);Zt()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)Gt(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qt(a[e]);o=!1},d(e){e&&mt(t),gt(a,e)}}}const ji=(e,t)=>e[0]>t[0]?1:-1;function Bi(e,t,n){let{craft:r}=t;return e.$set=(e=>{"craft"in e&&n(0,r=e.craft)}),e.$$.update=(()=>{1&e.$$.dirty&&console.info(r)}),[r,e=>Le.str(e).replace(">{ALT}{0}","")]}class Fi extends Jt{constructor(e){super(),Vt(this,e,Bi,Mi,ft,{craft:0})}}function Li(e,t,n){const r=e.slice();return r[1]=t[n][0],r[2]=t[n][1],r}function Di(e){let t,n,r,i,o;const s=new rr({props:{key:e[1]}}),a=new On({props:{val:e[2]}});return{c(){t=yt("tr"),Xt(s.$$.fragment),n=vt(),r=yt("td"),Xt(a.$$.fragment),i=vt()},m(e,l){ht(e,t,l),Kt(s,t,null),dt(t,n),dt(t,r),Kt(a,r,null),dt(t,i),o=!0},p(e,t){const n={};1&t&&(n.key=e[1]),s.$set(n);const r={};1&t&&(r.val=e[2]),a.$set(r)},i(e){o||(Gt(s.$$.fragment,e),Gt(a.$$.fragment,e),o=!0)},o(e){qt(s.$$.fragment,e),qt(a.$$.fragment,e),o=!1},d(e){e&&mt(t),Yt(s),Yt(a)}}}function Ri(e){let t,n,r=!["type"].includes(e[1]),i=r&&Di(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["type"].includes(e[1])),r?i?(i.p(e,n),Gt(i,1)):((i=Di(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function Pi(e){let t;const n=new zr({props:{item:Le.items[e[0].launcher],title:Le.str("Launcher")+": "+Le.str(e[0].launcher)}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.item=Le.items[e[0].launcher]),1&t&&(r.title=Le.str("Launcher")+": "+Le.str(e[0].launcher)),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function zi(e){let t;const n=new zr({props:{item:Le.items[e[0].clip],title:Le.str("Clip")+": "+Le.str(e[0].clip)}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.item=Le.items[e[0].clip]),1&t&&(r.title=Le.str("Clip")+": "+Le.str(e[0].clip)),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Hi(e){let t,n,r,i,o,s,a,l,c,u=Object.entries(e[0]).sort(Ui),f=[];for(let t=0;t<u.length;t+=1)f[t]=Ri(Li(e,u,t));const p=e=>qt(f[e],1,1,()=>{f[e]=null});let d=e[0].launcher&&Pi(e),h=e[0].clip&&zi(e);return{c(){t=yt("div"),n=yt("table"),r=yt("tr"),(i=yt("td")).textContent=`${Le.str("Weapon")}`,o=vt();for(let e=0;e<f.length;e+=1)f[e].c();s=vt(),a=yt("table"),d&&d.c(),l=vt(),h&&h.c(),xt(i,"colspan","2"),xt(i,"class","table-header"),xt(n,"class","main-table"),At(n,"min-width","25rem"),xt(a,"class","main-table"),At(a,"min-width","25rem"),xt(t,"class","launchers")},m(e,u){ht(e,t,u),dt(t,n),dt(n,r),dt(r,i),dt(n,o);for(let e=0;e<f.length;e+=1)f[e].m(n,null);dt(t,s),dt(t,a),d&&d.m(a,null),dt(a,l),h&&h.m(a,null),c=!0},p(e,[t]){if(1&t){let r;for(u=Object.entries(e[0]).sort(Ui),r=0;r<u.length;r+=1){const i=Li(e,u,r);f[r]?(f[r].p(i,t),Gt(f[r],1)):(f[r]=Ri(i),f[r].c(),Gt(f[r],1),f[r].m(n,null))}for(Ut(),r=u.length;r<f.length;r+=1)p(r);Zt()}e[0].launcher?d?(d.p(e,t),Gt(d,1)):((d=Pi(e)).c(),Gt(d,1),d.m(a,l)):d&&(Ut(),qt(d,1,1,()=>{d=null}),Zt()),e[0].clip?h?(h.p(e,t),Gt(h,1)):((h=zi(e)).c(),Gt(h,1),h.m(a,null)):h&&(Ut(),qt(h,1,1,()=>{h=null}),Zt())},i(e){if(!c){for(let e=0;e<u.length;e+=1)Gt(f[e]);Gt(d),Gt(h),c=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)qt(f[e]);qt(d),qt(h),c=!1},d(e){e&&mt(t),gt(f,e),d&&d.d(),h&&h.d()}}}const Ui=(e,t)=>e[0]>t[0]?1:-1;function Zi(e,t,n){let{weapon:r}=t;return e.$set=(e=>{"weapon"in e&&n(0,r=e.weapon)}),e.$$.update=(()=>{1&e.$$.dirty&&console.log(r)}),[r]}class Gi extends Jt{constructor(e){super(),Vt(this,e,Zi,Hi,ft,{weapon:0})}}function qi(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Wi(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Xi(e,t,n){const r=e.slice();return r[1]=t[n][0],r[2]=t[n][1],r}function Ki(e){let t,n,r,i,o,s,a,l;const c=new rr({props:{key:e[1]}}),u=[Vi,Yi],f=[];function p(e,t){return 1&t&&(i=!!["builtInWeaponSets"].includes(e[1])),i?0:1}return o=p(e,-1),s=f[o]=u[o](e),{c(){t=yt("tr"),Xt(c.$$.fragment),n=vt(),r=yt("td"),s.c(),a=vt()},m(e,i){ht(e,t,i),Kt(c,t,null),dt(t,n),dt(t,r),f[o].m(r,null),dt(t,a),l=!0},p(e,t){const n={};1&t&&(n.key=e[1]),c.$set(n);let i=o;(o=p(e,t))===i?f[o].p(e,t):(Ut(),qt(f[i],1,1,()=>{f[i]=null}),Zt(),(s=f[o])||(s=f[o]=u[o](e)).c(),Gt(s,1),s.m(r,null))},i(e){l||(Gt(c.$$.fragment,e),Gt(s),l=!0)},o(e){qt(c.$$.fragment,e),qt(s),l=!1},d(e){e&&mt(t),Yt(c),f[o].d()}}}function Yi(e){let t;const n=new On({props:{val:e[2]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[2]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Vi(e){let t,n,r=Object.values(e[2]),i=[];for(let t=0;t<r.length;t+=1)i[t]=eo(Wi(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=$t()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);ht(e,t,r),n=!0},p(e,n){if(1&n){let s;for(r=Object.values(e[2]),s=0;s<r.length;s+=1){const o=Wi(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=eo(o),i[s].c(),Gt(i[s],1),i[s].m(t.parentNode,t))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){gt(i,e),e&&mt(t)}}}function Ji(e){let t,n,r=e[7]+1+"";return{c(){t=bt(r),n=bt(":")},m(e,r){ht(e,t,r),ht(e,n,r)},d(e){e&&mt(t),e&&mt(n)}}}function Qi(e){let t,n,r=0!=e[10]&&function(e){let t;return{c(){t=bt(",")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}();const i=new rn({props:{href:e[8]}});return{c(){r&&r.c(),t=vt(),Xt(i.$$.fragment)},m(e,o){r&&r.m(e,o),ht(e,t,o),Kt(i,e,o),n=!0},p(e,t){const n={};1&t&&(n.href=e[8]),i.$set(n)},i(e){n||(Gt(i.$$.fragment,e),n=!0)},o(e){qt(i.$$.fragment,e),n=!1},d(e){r&&r.d(e),e&&mt(t),Yt(i,e)}}}function eo(e){let t,n,r,i,o=![e[7]].includes(e[2]),s=0!=e[7]&&function(e){let t;return{c(){t=yt("br")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}(),a=o&&Ji(e),l=e[5],c=[];for(let t=0;t<l.length;t+=1)c[t]=Qi(qi(e,l,t));const u=e=>qt(c[e],1,1,()=>{c[e]=null});return{c(){s&&s.c(),t=vt(),a&&a.c(),n=vt();for(let e=0;e<c.length;e+=1)c[e].c();r=$t()},m(e,o){s&&s.m(e,o),ht(e,t,o),a&&a.m(e,o),ht(e,n,o);for(let t=0;t<c.length;t+=1)c[t].m(e,o);ht(e,r,o),i=!0},p(e,t){if(1&t&&(o=![e[7]].includes(e[2])),o?a||((a=Ji(e)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),1&t){let n;for(l=e[5],n=0;n<l.length;n+=1){const i=qi(e,l,n);c[n]?(c[n].p(i,t),Gt(c[n],1)):(c[n]=Qi(i),c[n].c(),Gt(c[n],1),c[n].m(r.parentNode,r))}for(Ut(),n=l.length;n<c.length;n+=1)u(n);Zt()}},i(e){if(!i){for(let e=0;e<l.length;e+=1)Gt(c[e]);i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qt(c[e]);i=!1},d(e){s&&s.d(e),e&&mt(t),a&&a.d(e),e&&mt(n),gt(c,e),e&&mt(r)}}}function to(e){let t,n,r=!["type","scripts"].includes(e[1]),i=r&&Ki(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["type","scripts"].includes(e[1])),r?i?(i.p(e,n),Gt(i,1)):((i=Ki(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function no(e){let t,n,r,i,o,s=Object.entries(e[0]).sort(ro),a=[];for(let t=0;t<s.length;t+=1)a[t]=to(Xi(e,s,t));const l=e=>qt(a[e],1,1,()=>{a[e]=null});return{c(){t=yt("tr"),(n=yt("td")).textContent=`${Le.str("Unit")}`,r=vt();for(let e=0;e<a.length;e+=1)a[e].c();i=$t(),xt(n,"colspan","2"),xt(n,"class","table-header")},m(e,s){ht(e,t,s),dt(t,n),ht(e,r,s);for(let t=0;t<a.length;t+=1)a[t].m(e,s);ht(e,i,s),o=!0},p(e,[t]){if(1&t){let n;for(s=Object.entries(e[0]).sort(ro),n=0;n<s.length;n+=1){const r=Xi(e,s,n);a[n]?(a[n].p(r,t),Gt(a[n],1)):(a[n]=to(r),a[n].c(),Gt(a[n],1),a[n].m(i.parentNode,i))}for(Ut(),n=s.length;n<a.length;n+=1)l(n);Zt()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)Gt(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qt(a[e]);o=!1},d(e){e&&mt(t),e&&mt(r),gt(a,e),e&&mt(i)}}}const ro=(e,t)=>e[0]>t[0]?1:-1;function io(e,t,n){let{unit:r}=t;return e.$set=(e=>{"unit"in e&&n(0,r=e.unit)}),e.$$.update=(()=>{1&e.$$.dirty&&console.log(r)}),[r]}class oo extends Jt{constructor(e){super(),Vt(this,e,io,no,ft,{unit:0})}}function so(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function ao(e,t,n){const r=e.slice();return r[4]=t[n],r}function lo(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function co(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function uo(e){let t,n,r,i,o;const s=new rr({props:{key:e[4]}}),a=new On({props:{val:e[5]}});return{c(){t=yt("tr"),Xt(s.$$.fragment),n=vt(),r=yt("td"),Xt(a.$$.fragment),i=vt()},m(e,l){ht(e,t,l),Kt(s,t,null),dt(t,n),dt(t,r),Kt(a,r,null),dt(t,i),o=!0},p(e,t){const n={};1&t&&(n.key=e[4]),s.$set(n);const r={};1&t&&(r.val=e[5]),a.$set(r)},i(e){o||(Gt(s.$$.fragment,e),Gt(a.$$.fragment,e),o=!0)},o(e){qt(s.$$.fragment,e),qt(a.$$.fragment,e),o=!1},d(e){e&&mt(t),Yt(s),Yt(a)}}}function fo(e){let t,n,r,i,o,s,a,l,c=Le.decamelize(e[4])+"",u=Object.keys(e[5]),f=[];for(let t=0;t<u.length;t+=1)f[t]=go(ao(e,u,t));const p=e=>qt(f[e],1,1,()=>{f[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=yt("div"),i=bt(c),o=vt(),s=yt("div");for(let e=0;e<f.length;e+=1)f[e].c();a=vt(),xt(r,"class","table-subheader"),xt(n,"colspan","2"),xt(t,"class","subtable")},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),dt(r,i),dt(n,o),dt(n,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);dt(n,a),l=!0},p(e,t){if((!l||1&t)&&c!==(c=Le.decamelize(e[4])+"")&&kt(i,c),5&t){let n;for(u=Object.keys(e[5]),n=0;n<u.length;n+=1){const r=ao(e,u,n);f[n]?(f[n].p(r,t),Gt(f[n],1)):(f[n]=go(r),f[n].c(),Gt(f[n],1),f[n].m(s,null))}for(Ut(),n=u.length;n<f.length;n+=1)p(n);Zt()}},i(e){if(!l){for(let e=0;e<u.length;e+=1)Gt(f[e]);l=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)qt(f[e]);l=!1},d(e){e&&mt(t),gt(f,e)}}}function po(e){let t;const n=new jn({props:{items:e[5],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[5]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function ho(e){let t,n,r,i,o,s,a,l,c=Le.decamelize(e[4])+"",u=e[5],f=[];for(let t=0;t<u.length;t+=1)f[t]=yo(lo(e,u,t));const p=e=>qt(f[e],1,1,()=>{f[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=yt("div"),i=bt(c),o=vt(),s=yt("div");for(let e=0;e<f.length;e+=1)f[e].c();a=vt(),xt(r,"class","table-subheader"),xt(s,"class","cols"),At(s,"columns","2"),xt(n,"colspan","2"),xt(t,"class","subtable")},m(e,c){ht(e,t,c),dt(t,n),dt(n,r),dt(r,i),dt(n,o),dt(n,s);for(let e=0;e<f.length;e+=1)f[e].m(s,null);dt(n,a),l=!0},p(e,t){if((!l||1&t)&&c!==(c=Le.decamelize(e[4])+"")&&kt(i,c),5&t){let n;for(u=e[5],n=0;n<u.length;n+=1){const r=lo(e,u,n);f[n]?(f[n].p(r,t),Gt(f[n],1)):(f[n]=yo(r),f[n].c(),Gt(f[n],1),f[n].m(s,null))}for(Ut(),n=u.length;n<f.length;n+=1)p(n);Zt()}},i(e){if(!l){for(let e=0;e<u.length;e+=1)Gt(f[e]);l=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)qt(f[e]);l=!1},d(e){e&&mt(t),gt(f,e)}}}function mo(e){let t,n;const r=new rn({props:{href:e[8]}});return{c(){t=yt("div"),Xt(r.$$.fragment)},m(e,i){ht(e,t,i),Kt(r,t,null),n=!0},p(e,t){const n={};1&t&&(n.href=e[8]),r.$set(n)},i(e){n||(Gt(r.$$.fragment,e),n=!0)},o(e){qt(r.$$.fragment,e),n=!1},d(e){e&&mt(t),Yt(r)}}}function go(e){let t,n,r,i,o;const s=new rn({props:{href:e[4]}});let a=e[5][e[4]],l=[];for(let t=0;t<a.length;t+=1)l[t]=mo(so(e,a,t));const c=e=>qt(l[e],1,1,()=>{l[e]=null});return{c(){t=yt("div"),Xt(s.$$.fragment),n=vt(),r=yt("div");for(let e=0;e<l.length;e+=1)l[e].c();i=vt(),xt(t,"class","table-subheader"),xt(r,"class","cols"),At(r,"columns","2")},m(e,a){ht(e,t,a),Kt(s,t,null),ht(e,n,a),ht(e,r,a);for(let e=0;e<l.length;e+=1)l[e].m(r,null);dt(r,i),o=!0},p(e,t){const n={};if(1&t&&(n.href=e[4]),s.$set(n),5&t){let n;for(a=e[5][e[4]],n=0;n<a.length;n+=1){const o=so(e,a,n);l[n]?(l[n].p(o,t),Gt(l[n],1)):(l[n]=mo(o),l[n].c(),Gt(l[n],1),l[n].m(r,i))}for(Ut(),n=a.length;n<l.length;n+=1)c(n);Zt()}},i(e){if(!o){Gt(s.$$.fragment,e);for(let e=0;e<a.length;e+=1)Gt(l[e]);o=!0}},o(e){qt(s.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)qt(l[e]);o=!1},d(e){e&&mt(t),Yt(s),e&&mt(n),e&&mt(r),gt(l,e)}}}function yo(e){let t,n;const r=new rn({props:{href:e[8]}});return{c(){t=yt("div"),Xt(r.$$.fragment)},m(e,i){ht(e,t,i),Kt(r,t,null),n=!0},p(e,t){const n={};1&t&&(n.href=e[8]),r.$set(n)},i(e){n||(Gt(r.$$.fragment,e),n=!0)},o(e){qt(r.$$.fragment,e),n=!1},d(e){e&&mt(t),Yt(r)}}}function bo(e){let t,n,r,i,o,s,a;const l=[ho,po,fo,uo],c=[];function u(e,i){return 1&i&&(t=!!(e[2].includes(e[4])&&e[5]&&e[5].length>0)),t?0:(1&i&&(n=!!["requiresBaseFunc"].includes(e[4])),n?1:"getOneFreeProtected"==e[4]?2:(1&i&&(r=!["name"].includes(e[4])),r?3:-1))}return~(i=u(e,-1))&&(o=c[i]=l[i](e)),{c(){o&&o.c(),s=$t()},m(e,t){~i&&c[i].m(e,t),ht(e,s,t),a=!0},p(e,t){let n=i;(i=u(e,t))===n?~i&&c[i].p(e,t):(o&&(Ut(),qt(c[n],1,1,()=>{c[n]=null}),Zt()),~i?((o=c[i])||(o=c[i]=l[i](e)).c(),Gt(o,1),o.m(s.parentNode,s)):o=null)},i(e){a||(Gt(o),a=!0)},o(e){qt(o),a=!1},d(e){~i&&c[i].d(e),e&&mt(s)}}}function vo(e){let t,n,r,i,o,s,a=Object.entries(e[0]).sort(e[3]),l=[];for(let t=0;t<a.length;t+=1)l[t]=bo(co(e,a,t));const c=e=>qt(l[e],1,1,()=>{l[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=bt(e[1]),i=vt();for(let e=0;e<l.length;e+=1)l[e].c();o=$t(),xt(n,"colspan","2"),xt(n,"class","table-header")},m(e,a){ht(e,t,a),dt(t,n),dt(n,r),ht(e,i,a);for(let t=0;t<l.length;t+=1)l[t].m(e,a);ht(e,o,a),s=!0},p(e,[t]){if((!s||2&t)&&kt(r,e[1]),5&t){let n;for(a=Object.entries(e[0]).sort(e[3]),n=0;n<a.length;n+=1){const r=co(e,a,n);l[n]?(l[n].p(r,t),Gt(l[n],1)):(l[n]=bo(r),l[n].c(),Gt(l[n],1),l[n].m(o.parentNode,o))}for(Ut(),n=a.length;n<l.length;n+=1)c(n);Zt()}},i(e){if(!s){for(let e=0;e<a.length;e+=1)Gt(l[e]);s=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)qt(l[e]);s=!1},d(e){e&&mt(t),e&&mt(i),gt(l,e),e&&mt(o)}}}function $o(e,t,n){let{research:r}=t,{title:i=Le.str("Research")}=t,o=["seeAlso","requiresBaseFunc","manufacture","getOneFree","freeFrom","unlocks","dependencies","leadsTo","disables"];return e.$set=(e=>{"research"in e&&n(0,r=e.research),"title"in e&&n(1,i=e.title)}),e.$$.update=(()=>{1&e.$$.dirty&&console.log(r)}),[r,i,o,(e,t)=>(o.includes(t[0])?-10:10)+(e[0]>t[0]?1:-1)]}class wo extends Jt{constructor(e){super(),Vt(this,e,$o,vo,ft,{research:0,title:1})}}function xo(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ko(e,t,n){const r=e.slice();return r[1]=t[n],r}function _o(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function Ao(e,t,n){const r=e.slice();return r[7]=t[n][0],r[8]=t[n][1],r}function So(e){let t,n,r,i,o,s,a,l;const c=new rr({props:{key:e[7]}}),u=[Oo,To,Co],f=[];function p(e,t){return 1&t&&(i=!!["requiresBaseFunc"].includes(e[8][0])),i?0:(1&t&&(o=!!["producedItems","requiredItems"].includes(e[7])),o?1:2)}return s=p(e,-1),a=f[s]=u[s](e),{c(){t=yt("tr"),Xt(c.$$.fragment),n=vt(),r=yt("td"),a.c()},m(e,i){ht(e,t,i),Kt(c,t,null),dt(t,n),dt(t,r),f[s].m(r,null),l=!0},p(e,t){const n={};1&t&&(n.key=e[7]),c.$set(n);let i=s;(s=p(e,t))===i?f[s].p(e,t):(Ut(),qt(f[i],1,1,()=>{f[i]=null}),Zt(),(a=f[s])||(a=f[s]=u[s](e)).c(),Gt(a,1),a.m(r,null))},i(e){l||(Gt(c.$$.fragment,e),Gt(a),l=!0)},o(e){qt(c.$$.fragment,e),qt(a),l=!1},d(e){e&&mt(t),Yt(c),f[s].d()}}}function Co(e){let t;const n=new On({props:{val:e[8]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[8]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function To(e){let t,n,r=Object.keys(e[8]).sort(),i=[];for(let t=0;t<r.length;t+=1)i[t]=Eo(_o(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","number-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(1&n){let s;for(r=Object.keys(e[8]).sort(),s=0;s<r.length;s+=1){const o=_o(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=Eo(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}function Oo(e){let t;const n=new jn({props:{items:e[8][1],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[8][1]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Eo(e){let t,n,r,i,o,s=e[8][e[4]]+"";const a=new rn({props:{href:e[4]}});return{c(){t=yt("tr"),n=yt("td"),r=bt(s),i=yt("td"),Xt(a.$$.fragment)},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(t,i),Kt(a,i,null),o=!0},p(e,t){(!o||1&t)&&s!==(s=e[8][e[4]]+"")&&kt(r,s);const n={};1&t&&(n.href=e[4]),a.$set(n)},i(e){o||(Gt(a.$$.fragment,e),o=!0)},o(e){qt(a.$$.fragment,e),o=!1},d(e){e&&mt(t),Yt(a)}}}function Io(e){let t,n,r=!["name","randomProducedItems"].includes(e[7]),i=r&&So(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["name","randomProducedItems"].includes(e[7])),r?i?(i.p(e,n),Gt(i,1)):((i=So(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function No(e){let t,n,r,i,o,s,a,l=e[0].randomProducedItems,c=[];for(let t=0;t<l.length;t+=1)c[t]=Bo(ko(e,l,t));const u=e=>qt(c[e],1,1,()=>{c[e]=null});return{c(){t=yt("tr"),(n=yt("td")).textContent=`${Le.decamelize("randomProducedItems")}`,r=vt(),i=yt("tr"),o=yt("td"),s=yt("table");for(let e=0;e<c.length;e+=1)c[e].c();xt(n,"colspan","2"),xt(n,"class","table-subheader"),xt(s,"class","number-table"),xt(s,"width","100%"),At(s,"margin","0px"),xt(o,"colspan","2")},m(e,l){ht(e,t,l),dt(t,n),ht(e,r,l),ht(e,i,l),dt(i,o),dt(o,s);for(let e=0;e<c.length;e+=1)c[e].m(s,null);a=!0},p(e,t){if(1&t){let n;for(l=e[0].randomProducedItems,n=0;n<l.length;n+=1){const r=ko(e,l,n);c[n]?(c[n].p(r,t),Gt(c[n],1)):(c[n]=Bo(r),c[n].c(),Gt(c[n],1),c[n].m(s,null))}for(Ut(),n=l.length;n<c.length;n+=1)u(n);Zt()}},i(e){if(!a){for(let e=0;e<l.length;e+=1)Gt(c[e]);a=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qt(c[e]);a=!1},d(e){e&&mt(t),e&&mt(r),e&&mt(i),gt(c,e)}}}function Mo(e){let t,n;return{c(){t=yt("tr"),(n=yt("td")).textContent=`${Le.str("NOTHING")}`,xt(n,"colspan","2"),At(n,"text-align","center")},m(e,r){ht(e,t,r),dt(t,n)},p:st,d(e){e&&mt(t)}}}function jo(e){let t,n,r,i,o,s=e[1][1][e[4]]+"";const a=new rn({props:{href:e[4]}});return{c(){t=yt("tr"),n=yt("td"),r=bt(s),i=yt("td"),Xt(a.$$.fragment)},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(t,i),Kt(a,i,null),o=!0},p(e,t){(!o||1&t)&&s!==(s=e[1][1][e[4]]+"")&&kt(r,s);const n={};1&t&&(n.href=e[4]),a.$set(n)},i(e){o||(Gt(a.$$.fragment,e),o=!0)},o(e){qt(a.$$.fragment,e),o=!1},d(e){e&&mt(t),Yt(a)}}}function Bo(e){let t,n,r,i,o,s,a,l,c,u,f=0==Object.keys(e[1][1]).length,p=e[1][0]+"",d=(e[1][0]/e[0].chanceSum*100).toFixed(3)+"",h=f&&Mo(),m=Object.keys(e[1][1]).sort(),g=[];for(let t=0;t<m.length;t+=1)g[t]=jo(xo(e,m,t));const y=e=>qt(g[e],1,1,()=>{g[e]=null});return{c(){h&&h.c(),t=vt();for(let e=0;e<g.length;e+=1)g[e].c();n=vt(),r=yt("tr"),i=yt("td"),o=bt("×"),s=bt(p),a=bt(" / "),l=bt(d),c=bt("%"),xt(i,"colspan","2"),At(i,"text-align","center"),At(i,"border-bottom","solid 0.3px #382C44")},m(e,f){h&&h.m(e,f),ht(e,t,f);for(let t=0;t<g.length;t+=1)g[t].m(e,f);ht(e,n,f),ht(e,r,f),dt(r,i),dt(i,o),dt(i,s),dt(i,a),dt(i,l),dt(i,c),u=!0},p(e,r){if(1&r&&(f=0==Object.keys(e[1][1]).length),f?h?h.p(e,r):((h=Mo()).c(),h.m(t.parentNode,t)):h&&(h.d(1),h=null),1&r){let t;for(m=Object.keys(e[1][1]).sort(),t=0;t<m.length;t+=1){const i=xo(e,m,t);g[t]?(g[t].p(i,r),Gt(g[t],1)):(g[t]=jo(i),g[t].c(),Gt(g[t],1),g[t].m(n.parentNode,n))}for(Ut(),t=m.length;t<g.length;t+=1)y(t);Zt()}(!u||1&r)&&p!==(p=e[1][0]+"")&&kt(s,p),(!u||1&r)&&d!==(d=(e[1][0]/e[0].chanceSum*100).toFixed(3)+"")&&kt(l,d)},i(e){if(!u){for(let e=0;e<m.length;e+=1)Gt(g[e]);u=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)qt(g[e]);u=!1},d(e){h&&h.d(e),e&&mt(t),gt(g,e),e&&mt(n),e&&mt(r)}}}function Fo(e){let t,n,r,i,o,s,a=Object.entries(e[0]).sort(Lo),l=[];for(let t=0;t<a.length;t+=1)l[t]=Io(Ao(e,a,t));const c=e=>qt(l[e],1,1,()=>{l[e]=null});let u="randomProducedItems"in e[0]&&No(e);return{c(){t=yt("tr"),(n=yt("td")).textContent=`${Le.str("Manufacture")}`,r=vt();for(let e=0;e<l.length;e+=1)l[e].c();i=vt(),u&&u.c(),o=$t(),xt(n,"colspan","2"),xt(n,"class","table-header")},m(e,a){ht(e,t,a),dt(t,n),ht(e,r,a);for(let t=0;t<l.length;t+=1)l[t].m(e,a);ht(e,i,a),u&&u.m(e,a),ht(e,o,a),s=!0},p(e,[t]){if(1&t){let n;for(a=Object.entries(e[0]).sort(Lo),n=0;n<a.length;n+=1){const r=Ao(e,a,n);l[n]?(l[n].p(r,t),Gt(l[n],1)):(l[n]=Io(r),l[n].c(),Gt(l[n],1),l[n].m(i.parentNode,i))}for(Ut(),n=a.length;n<l.length;n+=1)c(n);Zt()}"randomProducedItems"in e[0]?u?(u.p(e,t),Gt(u,1)):((u=No(e)).c(),Gt(u,1),u.m(o.parentNode,o)):u&&(Ut(),qt(u,1,1,()=>{u=null}),Zt())},i(e){if(!s){for(let e=0;e<a.length;e+=1)Gt(l[e]);Gt(u),s=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)qt(l[e]);qt(u),s=!1},d(e){e&&mt(t),e&&mt(r),gt(l,e),e&&mt(i),u&&u.d(e),e&&mt(o)}}}const Lo=(e,t)=>e[0]>t[0]?1:-1;function Do(e,t,n){let{manufacture:r}=t;return e.$set=(e=>{"manufacture"in e&&n(0,r=e.manufacture)}),e.$$.update=(()=>{1&e.$$.dirty&&console.log(r)}),[r]}class Ro extends Jt{constructor(e){super(),Vt(this,e,Do,Fo,ft,{manufacture:0})}}function Po(e){let t,n,r,i,o;const s=new pn({props:{links:e[0].allowedCraft,title:Le.str("Allowed crafts")}}),a=new pn({props:{links:e[0].allowedItemCategories,title:Le.str("Allowed item categories")}}),l=new pn({props:{links:e[0].allowedArmors,title:Le.str("Allowed armors")}}),c=new pn({props:{links:e[0].allowedVehicles,title:Le.str("Allowed auxilia")}}),u=new pn({props:{links:e[0].deployments,title:Le.str("Deployments")}});return{c(){Xt(s.$$.fragment),t=vt(),Xt(a.$$.fragment),n=vt(),Xt(l.$$.fragment),r=vt(),Xt(c.$$.fragment),i=vt(),Xt(u.$$.fragment)},m(e,f){Kt(s,e,f),ht(e,t,f),Kt(a,e,f),ht(e,n,f),Kt(l,e,f),ht(e,r,f),Kt(c,e,f),ht(e,i,f),Kt(u,e,f),o=!0},p(e,[t]){const n={};1&t&&(n.links=e[0].allowedCraft),s.$set(n);const r={};1&t&&(r.links=e[0].allowedItemCategories),a.$set(r);const i={};1&t&&(i.links=e[0].allowedArmors),l.$set(i);const o={};1&t&&(o.links=e[0].allowedVehicles),c.$set(o);const f={};1&t&&(f.links=e[0].deployments),u.$set(f)},i(e){o||(Gt(s.$$.fragment,e),Gt(a.$$.fragment,e),Gt(l.$$.fragment,e),Gt(c.$$.fragment,e),Gt(u.$$.fragment,e),o=!0)},o(e){qt(s.$$.fragment,e),qt(a.$$.fragment,e),qt(l.$$.fragment,e),qt(c.$$.fragment,e),qt(u.$$.fragment,e),o=!1},d(e){Yt(s,e),e&&mt(t),Yt(a,e),e&&mt(n),Yt(l,e),e&&mt(r),Yt(c,e),e&&mt(i),Yt(u,e)}}}function zo(e,t,n){let{conditions:r}=t;return e.$set=(e=>{"conditions"in e&&n(0,r=e.conditions)}),[r]}class Ho extends Jt{constructor(e){super(),Vt(this,e,zo,Po,ft,{conditions:0})}}function Uo(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Zo(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Go(e,t,n){const r=e.slice();return r[1]=t[n][0],r[2]=t[n][1],r}function qo(e){let t,n,r,i,o,s,a,l;const c=new rr({props:{key:e[1]}}),u=[Ko,Xo,Wo],f=[];function p(e,t){return 1&t&&(i=!!["modSprite"].includes(e[1])),i?0:"raceBonus"==e[1]?1:2}return o=p(e,-1),s=f[o]=u[o](e),{c(){t=yt("tr"),Xt(c.$$.fragment),n=vt(),r=yt("td"),s.c(),a=vt()},m(e,i){ht(e,t,i),Kt(c,t,null),dt(t,n),dt(t,r),f[o].m(r,null),dt(t,a),l=!0},p(e,t){const n={};1&t&&(n.key=e[1]),c.$set(n);let i=o;(o=p(e,t))===i?f[o].p(e,t):(Ut(),qt(f[i],1,1,()=>{f[i]=null}),Zt(),(s=f[o])||(s=f[o]=u[o](e)).c(),Gt(s,1),s.m(r,null))},i(e){l||(Gt(c.$$.fragment,e),Gt(s),l=!0)},o(e){qt(c.$$.fragment,e),qt(s),l=!1},d(e){e&&mt(t),Yt(c),f[o].d()}}}function Wo(e){let t;const n=new On({props:{val:e[2]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[2]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Xo(e){let t,n,r=Object.keys(e[2]).sort(),i=[];for(let t=0;t<r.length;t+=1)i[t]=Vo(Zo(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","number-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(1&n){let s;for(r=Object.keys(e[2]).sort(),s=0;s<r.length;s+=1){const o=Zo(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=Vo(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}function Ko(e){let t,n;return{c(){xt(t=yt("img"),"class","sprite"),xt(t,"alt","X"),t.src!==(n=Le.sprite(e[2]))&&xt(t,"src",n),xt(t,"onerror","this.onerror=null; this.src='xpedia/0.jpg'")},m(e,n){ht(e,t,n)},p(e,r){1&r&&t.src!==(n=Le.sprite(e[2]))&&xt(t,"src",n)},i:st,o:st,d(e){e&&mt(t)}}}function Yo(e){let t,n,r,i,o,s,a,l=Le.decamelize(e[8])+"";const c=new rn({props:{href:e[2][e[5]][e[8]]}});return{c(){t=yt("div"),n=bt(l),r=bt(": "),i=yt("em"),Xt(c.$$.fragment),o=yt("br"),xt(t,"tooltip",s="tip_"+e[8])},m(e,s){ht(e,t,s),dt(t,n),dt(t,r),dt(t,i),Kt(c,i,null),dt(t,o),a=!0},p(e,r){(!a||1&r)&&l!==(l=Le.decamelize(e[8])+"")&&kt(n,l);const i={};1&r&&(i.href=e[2][e[5]][e[8]]),c.$set(i),(!a||1&r&&s!==(s="tip_"+e[8]))&&xt(t,"tooltip",s)},i(e){a||(Gt(c.$$.fragment,e),a=!0)},o(e){qt(c.$$.fragment,e),a=!1},d(e){e&&mt(t),Yt(c)}}}function Vo(e){let t,n,r,i,o,s,a=Le.str(e[5])+"",l=Object.keys(e[2][e[5]]).sort(),c=[];for(let t=0;t<l.length;t+=1)c[t]=Yo(Uo(e,l,t));const u=e=>qt(c[e],1,1,()=>{c[e]=null});return{c(){t=yt("tr"),n=yt("td"),r=bt(a),i=yt("td");for(let e=0;e<c.length;e+=1)c[e].c();o=vt()},m(e,a){ht(e,t,a),dt(t,n),dt(n,r),dt(t,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null);dt(i,o),s=!0},p(e,t){if((!s||1&t)&&a!==(a=Le.str(e[5])+"")&&kt(r,a),1&t){let n;for(l=Object.keys(e[2][e[5]]).sort(),n=0;n<l.length;n+=1){const r=Uo(e,l,n);c[n]?(c[n].p(r,t),Gt(c[n],1)):(c[n]=Yo(r),c[n].c(),Gt(c[n],1),c[n].m(i,o))}for(Ut(),n=l.length;n<c.length;n+=1)u(n);Zt()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)Gt(c[e]);s=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qt(c[e]);s=!1},d(e){e&&mt(t),gt(c,e)}}}function Jo(e){let t,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[1]),i=r&&qo(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[1])),r?i?(i.p(e,n),Gt(i,1)):((i=qo(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function Qo(e){let t,n,r,i,o,s=Object.entries(e[0]).sort(es),a=[];for(let t=0;t<s.length;t+=1)a[t]=Jo(Go(e,s,t));const l=e=>qt(a[e],1,1,()=>{a[e]=null});return{c(){t=yt("table"),n=yt("tr"),(r=yt("td")).textContent=`${Le.str("Craft")}`,i=vt();for(let e=0;e<a.length;e+=1)a[e].c();xt(r,"colspan","2"),xt(r,"class","table-header"),xt(t,"class","main-table")},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,[n]){if(1&n){let r;for(s=Object.entries(e[0]).sort(es),r=0;r<s.length;r+=1){const i=Go(e,s,r);a[r]?(a[r].p(i,n),Gt(a[r],1)):(a[r]=Jo(i),a[r].c(),Gt(a[r],1),a[r].m(t,null))}for(Ut(),r=s.length;r<a.length;r+=1)l(r);Zt()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)Gt(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qt(a[e]);o=!1},d(e){e&&mt(t),gt(a,e)}}}const es=(e,t)=>e[0]>t[0]?1:-1;function ts(e,t,n){let{ufo:r}=t;return e.$set=(e=>{"ufo"in e&&n(0,r=e.ufo)}),e.$$.update=(()=>{1&e.$$.dirty&&console.info(r)}),[r]}class ns extends Jt{constructor(e){super(),Vt(this,e,ts,Qo,ft,{ufo:0})}}function rs(e,t,n){const r=e.slice();return r[11]=t[n],r[15]=n,r}function is(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function os(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function ss(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function as(e){let t,n,r,i,o,s,a,l,c,u,f;const p=new rr({props:{key:e[4]}}),d=[ps,fs,us,cs,ls],h=[];function m(e,t){return 1&t&&(i=!!["buildCostItems"].includes(e[4])),i?0:(1&t&&(o=!!["storageTiles"].includes(e[4])),o?1:(1&t&&(s=!!["provideBaseFunc","requiresBaseFunc","forbiddenBaseFunc"].includes(e[4])),s?2:(1&t&&(a=!!["spriteFacility","spriteShape"].includes(e[4])),a?3:4)))}return l=m(e,-1),c=h[l]=d[l](e),{c(){t=yt("tr"),Xt(p.$$.fragment),n=vt(),r=yt("td"),c.c(),u=vt()},m(e,i){ht(e,t,i),Kt(p,t,null),dt(t,n),dt(t,r),h[l].m(r,null),dt(t,u),f=!0},p(e,t){const n={};1&t&&(n.key=e[4]),p.$set(n);let i=l;(l=m(e,t))===i?h[l].p(e,t):(Ut(),qt(h[i],1,1,()=>{h[i]=null}),Zt(),(c=h[l])||(c=h[l]=d[l](e)).c(),Gt(c,1),c.m(r,null))},i(e){f||(Gt(p.$$.fragment,e),Gt(c),f=!0)},o(e){qt(p.$$.fragment,e),qt(c),f=!1},d(e){e&&mt(t),Yt(p),h[l].d()}}}function ls(e){let t;const n=new On({props:{val:e[5]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.val=e[5]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function cs(e){let t,n={length:e[2]},r=[];for(let t=0;t<n.length;t+=1)r[t]=hs(is(e,n,t));return{c(){t=yt("div");for(let e=0;e<r.length;e+=1)r[e].c();xt(t,"class","tight"),At(t,"columns",e[2]),At(t,"width",64*e[2]+"px")},m(e,n){ht(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,i){if(5&i){let o;for(n={length:e[2]},o=0;o<n.length;o+=1){const s=is(e,n,o);r[o]?r[o].p(s,i):(r[o]=hs(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}4&i&&At(t,"columns",e[2]),4&i&&At(t,"width",64*e[2]+"px")},i:st,o:st,d(e){e&&mt(t),gt(r,e)}}}function us(e){let t;const n=new jn({props:{items:e[5],vertical:!0}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.items=e[5]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function fs(e){let t,n,r,i,o,s,a,l,c=(e[1]?Le.str("Hide"):Le.str("Show"))+"",u=e[1]&&ms(e);return{c(){t=yt("div"),n=yt("div"),r=yt("button"),i=bt(c),o=vt(),s=yt("div"),u&&u.c(),xt(r,"class","button dropdown-content svelte-fh4l44"),l=wt(r,"click",e[3])},m(e,l){ht(e,t,l),dt(t,n),dt(n,r),dt(r,i),dt(t,o),dt(t,s),u&&u.m(s,null),a=!0},p(e,t){(!a||2&t)&&c!==(c=(e[1]?Le.str("Hide"):Le.str("Show"))+"")&&kt(i,c),e[1]?u?(u.p(e,t),Gt(u,1)):((u=ms(e)).c(),Gt(u,1),u.m(s,null)):u&&(Ut(),qt(u,1,1,()=>{u=null}),Zt())},i(e){a||(Gt(u),a=!0)},o(e){qt(u),a=!1},d(e){e&&mt(t),u&&u.d(),l()}}}function ps(e){let t,n,r=Object.keys(e[5]).sort(),i=[];for(let t=0;t<r.length;t+=1)i[t]=gs(os(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=$t()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);ht(e,t,r),n=!0},p(e,n){if(1&n){let s;for(r=Object.keys(e[5]).sort(),s=0;s<r.length;s+=1){const o=os(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=gs(o),i[s].c(),Gt(i[s],1),i[s].m(t.parentNode,t))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){gt(i,e),e&&mt(t)}}}function ds(e){let t,n;return{c(){xt(t=yt("img"),"class","facility sprite"),xt(t,"onerror","this.onerror=null; this.src='xpedia/0.jpg'"),xt(t,"alt","X"),t.src!==(n=Le.specialSprite("baseSprite",1*e[5]+e[15]*e[2]+e[13]))&&xt(t,"src",n)},m(e,n){ht(e,t,n)},p(e,r){5&r&&t.src!==(n=Le.specialSprite("baseSprite",1*e[5]+e[15]*e[2]+e[13]))&&xt(t,"src",n)},d(e){e&&mt(t)}}}function hs(e){let t,n={length:e[2]},r=[];for(let t=0;t<n.length;t+=1)r[t]=ds(rs(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$t()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);ht(e,t,n)},p(e,i){if(5&i){let o;for(n={length:e[2]},o=0;o<n.length;o+=1){const s=rs(e,n,o);r[o]?r[o].p(s,i):(r[o]=ds(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){gt(r,e),e&&mt(t)}}}function ms(e){let t,n;const r=new vn({props:{items:e[5],vertical:!0}});return{c(){t=yt("div"),Xt(r.$$.fragment),At(t,"columns","3")},m(e,i){ht(e,t,i),Kt(r,t,null),n=!0},p(e,t){const n={};1&t&&(n.items=e[5]),r.$set(n)},i(e){n||(Gt(r.$$.fragment,e),n=!0)},o(e){qt(r.$$.fragment,e),n=!1},d(e){e&&mt(t),Yt(r)}}}function gs(e){let t,n,r,i,o,s,a=e[5][e[8]].build+"",l=e[5][e[8]].refund+"",c=0!=e[10]&&function(e){let t;return{c(){t=yt("br")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}();const u=new rn({props:{href:e[8]}});return{c(){c&&c.c(),t=vt(),Xt(u.$$.fragment),n=bt("\r\n              : "),r=bt(a),i=bt(" / "),o=bt(l)},m(e,a){c&&c.m(e,a),ht(e,t,a),Kt(u,e,a),ht(e,n,a),ht(e,r,a),ht(e,i,a),ht(e,o,a),s=!0},p(e,t){const n={};1&t&&(n.href=e[8]),u.$set(n),(!s||1&t)&&a!==(a=e[5][e[8]].build+"")&&kt(r,a),(!s||1&t)&&l!==(l=e[5][e[8]].refund+"")&&kt(o,l)},i(e){s||(Gt(u.$$.fragment,e),s=!0)},o(e){qt(u.$$.fragment,e),s=!1},d(e){c&&c.d(e),e&&mt(t),Yt(u,e),e&&mt(n),e&&mt(r),e&&mt(i),e&&mt(o)}}}function ys(e){let t,n,r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[4]),i=r&&as(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["type","battlescapeTerrainData","craftInventoryTile","deployment"].includes(e[4])),r?i?(i.p(e,n),Gt(i,1)):((i=as(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function bs(e){let t,n,r,i,o,s=Object.entries(e[0]).sort(vs),a=[];for(let t=0;t<s.length;t+=1)a[t]=ys(ss(e,s,t));const l=e=>qt(a[e],1,1,()=>{a[e]=null});return{c(){t=yt("table"),n=yt("tr"),(r=yt("td")).textContent=`${Le.str("Facility")}`,i=vt();for(let e=0;e<a.length;e+=1)a[e].c();xt(r,"colspan","2"),xt(r,"class","table-header"),xt(t,"class","main-table")},m(e,s){ht(e,t,s),dt(t,n),dt(n,r),dt(t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,[n]){if(7&n){let r;for(s=Object.entries(e[0]).sort(vs),r=0;r<s.length;r+=1){const i=ss(e,s,r);a[r]?(a[r].p(i,n),Gt(a[r],1)):(a[r]=ys(i),a[r].c(),Gt(a[r],1),a[r].m(t,null))}for(Ut(),r=s.length;r<a.length;r+=1)l(r);Zt()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)Gt(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qt(a[e]);o=!1},d(e){e&&mt(t),gt(a,e)}}}const vs=(e,t)=>e[0]>t[0]&&"storageTiles"!=e[0]?1:-1;function $s(e,t,n){let{facility:r}=t,i=!1,o=1;return e.$set=(e=>{"facility"in e&&n(0,r=e.facility)}),e.$$.update=(()=>{5&e.$$.dirty&&(n(2,o=r.size||1),console.log(o),console.info(r))}),[r,i,o,e=>n(1,i=!i)]}class ws extends Jt{constructor(e){super(),Vt(this,e,$s,bs,ft,{facility:0})}}function xs(e,t,n){const r=e.slice();return r[1]=t[n],r}function ks(e){let t,n,r,i,o,s,a=Le.decamelize(e[1][0])+"";const l=new vn({props:{items:e[1][1]}});return{c(){t=yt("tr"),n=yt("td"),r=bt(a),i=vt(),o=yt("td"),Xt(l.$$.fragment)},m(e,a){ht(e,t,a),dt(t,n),dt(n,r),dt(t,i),dt(t,o),Kt(l,o,null),s=!0},p(e,t){(!s||1&t)&&a!==(a=Le.decamelize(e[1][0])+"")&&kt(r,a);const n={};1&t&&(n.items=e[1][1]),l.$set(n)},i(e){s||(Gt(l.$$.fragment,e),s=!0)},o(e){qt(l.$$.fragment,e),s=!1},d(e){e&&mt(t),Yt(l)}}}function _s(e){let t,n,r=!["id"].includes(e[1][0]),i=r&&ks(e);return{c(){i&&i.c(),t=$t()},m(e,r){i&&i.m(e,r),ht(e,t,r),n=!0},p(e,n){1&n&&(r=!["id"].includes(e[1][0])),r?i?(i.p(e,n),Gt(i,1)):((i=ks(e)).c(),Gt(i,1),i.m(t.parentNode,t)):i&&(Ut(),qt(i,1,1,()=>{i=null}),Zt())},i(e){n||(Gt(i),n=!0)},o(e){qt(i),n=!1},d(e){i&&i.d(e),e&&mt(t)}}}function As(e){let t,n,r=Object.entries(e[0]).sort(Ss),i=[];for(let t=0;t<r.length;t+=1)i[t]=_s(xs(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","main-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,[n]){if(1&n){let s;for(r=Object.entries(e[0]).sort(Ss),s=0;s<r.length;s+=1){const o=xs(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=_s(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}const Ss=(e,t)=>("providedBy"==e[0]?-10:10)+(e[0]>t[0]?1:-1);function Cs(e,t,n){let{service:r}=t;return e.$set=(e=>{"service"in e&&n(0,r=e.service)}),[r]}class Ts extends Jt{constructor(e){super(),Vt(this,e,Cs,As,ft,{service:0})}}function Os(e,t,n){const r=e.slice();return r[1]=t[n],r}function Es(e){let t,n,r,i,o,s,a,l,c,u=Le.str(e[1][0])+"";const f=new vn({props:{items:e[1][1].providedBy}});return{c(){t=yt("tr"),n=yt("td"),r=yt("a"),o=vt(),s=yt("td"),Xt(f.$$.fragment),a=vt(),xt(r,"color","cyan"),xt(r,"href",i="#"+e[1][0]),xt(r,"class","svelte-edz6kn"),xt(n,"class","svelte-edz6kn"),xt(s,"class","svelte-edz6kn"),xt(t,"class",l=pt(e[1][0]==e[0]?"highlight":"")+" svelte-edz6kn")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r),r.innerHTML=u,dt(t,o),dt(t,s),Kt(f,s,null),dt(t,a),c=!0},p(e,n){(!c||1&n&&l!==(l=pt(e[1][0]==e[0]?"highlight":"")+" svelte-edz6kn"))&&xt(t,"class",l)},i(e){c||(Gt(f.$$.fragment,e),c=!0)},o(e){qt(f.$$.fragment,e),c=!1},d(e){e&&mt(t),Yt(f)}}}function Is(e){let t,n,r=Object.entries(Le.baseServices),i=[];for(let t=0;t<r.length;t+=1)i[t]=Es(Os(e,r,t));const o=e=>qt(i[e],1,1,()=>{i[e]=null});return{c(){t=yt("table");for(let e=0;e<i.length;e+=1)i[e].c();xt(t,"class","main-table")},m(e,r){ht(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,[n]){if(1&n){let s;for(r=Object.entries(Le.baseServices),s=0;s<r.length;s+=1){const o=Os(e,r,s);i[s]?(i[s].p(o,n),Gt(i[s],1)):(i[s]=Es(o),i[s].c(),Gt(i[s],1),i[s].m(t,null))}for(Ut(),s=r.length;s<i.length;s+=1)o(s);Zt()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Gt(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qt(i[e]);n=!1},d(e){e&&mt(t),gt(i,e)}}}function Ns(e,t,n){let{query:r=null}=t;return console.log(r),e.$set=(e=>{"query"in e&&n(0,r=e.query)}),[r]}class Ms extends Jt{constructor(e){super(),Vt(this,e,Ns,Is,ft,{query:0})}}function js(e){let t;const n=new Dn({props:{id:e[0].image_id}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.id=e[0].image_id),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Bs(e){let t,n;return{c(){t=yt("div"),n=yt("span"),xt(t,"class","article-text")},m(r,i){ht(r,t,i),dt(t,n),n.innerHTML=e[2]},p(e,t){4&t&&(n.innerHTML=e[2])},d(e){e&&mt(t)}}}function Fs(e){let t;const n=new pn({props:{links:Le.sections[e[0].id].articles.map(Js)}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.links=Le.sections[e[0].id].articles.map(Js)),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ls(e){let t;const n=new pn({props:{links:Le.categories[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.links=Le.categories[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ds(e){let t;const n=new Ho({props:{conditions:Le.startingConditions[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.conditions=Le.startingConditions[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Rs(e){let t;const n=new Ms({});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p:st,i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ps(e){let t;const n=new oo({props:{unit:Le.units[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.unit=Le.units[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function zs(e){let t;const n=new zr({props:{item:Le.items[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.item=Le.items[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Hs(e){let t;const n=new Ai({props:{armor:Le.armors[Le.units[e[0].id].armor]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.armor=Le.armors[Le.units[e[0].id].armor]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Us(e){let t;const n=new Ai({props:{armor:Le.armors[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.armor=Le.armors[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Zs(e){let t;const n=new Ts({props:{service:Le.baseServices[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.service=Le.baseServices[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Gs(e){let t;const n=new Fi({props:{craft:Le.crafts[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.craft=Le.crafts[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function qs(e){let t;const n=new Gi({props:{weapon:Le.craftWeapons[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.weapon=Le.craftWeapons[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ws(e){let t;const n=new ns({props:{ufo:Le.ufos[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.ufo=Le.ufos[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Xs(e){let t;const n=new ws({props:{facility:Le.facilities[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.facility=Le.facilities[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ks(e){let t;const n=new Ro({props:{manufacture:Le.manufacture[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.manufacture=Le.manufacture[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ys(e){let t;const n=new wo({props:{research:Le.research[e[0].id]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t&&(r.research=Le.research[e[0].id]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Vs(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b,v,$,w,x,k,_,A,S,C,T,O,E,I,N,M,j,B,F,L,D=(e[0].title||e[0].id)+"";document.title=t=Le.str(e[0].title||"BootyPedia");let R=(!(e[0].id in Le.units)||"STR_GOLDEN_SAINT_1"==e[0].id||"STR_STAR_GOD_PUBLIC_ENEMY"==e[0].id)&&js(e),P=e[2]&&Bs(e);const z=[Rs,Ds,Ls,Fs],H=[];function U(e,t){return"SERVICES"==e[0].id?0:"CONDITIONS"==e[0].type_id?1:"CATEGORIES"==e[0].type_id?2:"PEDIA"==e[0].type_id||"TYPE"==e[0].type_id?3:-1}~(y=U(e))&&(b=H[y]=z[y](e));var Z=e[3];function G(e){return{props:{query:e[1]}}}if(Z)var q=new Z(G(e));let W=e[0].id in Le.units&&Ps(e),X=e[0].id in Le.items&&zs(e);const K=[Us,Hs],Y=[];function V(e,t){return e[0].id in Le.armors?0:e[0].id in Le.units&&Le.units[e[0].id].armor?1:-1}~(A=V(e))&&(S=Y[A]=K[A](e));let J=e[0].id in Le.baseServices&&Zs(e),Q=e[0].id in Le.crafts&&Gs(e),ee=e[0].id in Le.craftWeapons&&qs(e),te=e[0].id in Le.ufos&&Ws(e),ne=e[0].id in Le.facilities&&Xs(e),re=e[0].id in Le.manufacture&&Ks(e),ie=e[0].id in Le.research&&Ys(e);return{c(){n=vt(),r=yt("h1"),i=yt("span"),o=vt(),s=yt("nobr"),a=bt(D),l=vt(),c=yt("span"),u=vt(),(f=yt("button")).textContent="<",p=vt(),(d=yt("button")).textContent=">",h=vt(),R&&R.c(),m=vt(),P&&P.c(),g=vt(),b&&b.c(),v=vt(),$=yt("div"),q&&Xt(q.$$.fragment),w=vt(),x=yt("table"),W&&W.c(),k=vt(),X&&X.c(),_=vt(),S&&S.c(),C=vt(),J&&J.c(),T=vt(),Q&&Q.c(),O=vt(),ee&&ee.c(),E=vt(),te&&te.c(),I=vt(),ne&&ne.c(),N=vt(),M=yt("div"),j=yt("table"),re&&re.c(),B=vt(),ie&&ie.c(),At(i,"flex-wrap","wrap"),At(c,"flex","1"),xt(f,"class","page-turn"),xt(d,"class","page-turn"),xt(x,"class","main-table"),xt(j,"class","main-table"),xt(M,"class","flex-vertical"),xt($,"class","flex-horisontal"),L=[wt(f,"click",e[5]),wt(d,"click",e[6])]},m(e,t){ht(e,n,t),ht(e,r,t),dt(r,i),dt(r,o),dt(r,s),dt(s,a),dt(r,l),dt(r,c),dt(r,u),dt(r,f),dt(r,p),dt(r,d),ht(e,h,t),R&&R.m(e,t),ht(e,m,t),P&&P.m(e,t),ht(e,g,t),~y&&H[y].m(e,t),ht(e,v,t),ht(e,$,t),q&&Kt(q,$,null),dt($,w),dt($,x),W&&W.m(x,null),dt(x,k),X&&X.m(x,null),dt($,_),~A&&Y[A].m($,null),dt($,C),J&&J.m($,null),dt($,T),Q&&Q.m($,null),dt($,O),ee&&ee.m($,null),dt($,E),te&&te.m($,null),dt($,I),ne&&ne.m($,null),dt($,N),dt($,M),dt(M,j),re&&re.m(j,null),dt(j,B),ie&&ie.m(j,null),F=!0},p(e,[n]){(!F||1&n)&&t!==(t=Le.str(e[0].title||"BootyPedia"))&&(document.title=t),(!F||1&n)&&D!==(D=(e[0].title||e[0].id)+"")&&kt(a,D),e[0].id in Le.units&&"STR_GOLDEN_SAINT_1"!=e[0].id&&"STR_STAR_GOD_PUBLIC_ENEMY"!=e[0].id?R&&(Ut(),qt(R,1,1,()=>{R=null}),Zt()):R?(R.p(e,n),Gt(R,1)):((R=js(e)).c(),Gt(R,1),R.m(m.parentNode,m)),e[2]?P?P.p(e,n):((P=Bs(e)).c(),P.m(g.parentNode,g)):P&&(P.d(1),P=null);let r=y;(y=U(e))===r?~y&&H[y].p(e,n):(b&&(Ut(),qt(H[r],1,1,()=>{H[r]=null}),Zt()),~y?((b=H[y])||(b=H[y]=z[y](e)).c(),Gt(b,1),b.m(v.parentNode,v)):b=null);const i={};if(2&n&&(i.query=e[1]),Z!==(Z=e[3])){if(q){Ut();const e=q;qt(e.$$.fragment,1,0,()=>{Yt(e,1)}),Zt()}Z?(Xt((q=new Z(G(e))).$$.fragment),Gt(q.$$.fragment,1),Kt(q,$,w)):q=null}else Z&&q.$set(i);e[0].id in Le.units?W?(W.p(e,n),Gt(W,1)):((W=Ps(e)).c(),Gt(W,1),W.m(x,k)):W&&(Ut(),qt(W,1,1,()=>{W=null}),Zt()),e[0].id in Le.items?X?(X.p(e,n),Gt(X,1)):((X=zs(e)).c(),Gt(X,1),X.m(x,null)):X&&(Ut(),qt(X,1,1,()=>{X=null}),Zt());let o=A;(A=V(e))===o?~A&&Y[A].p(e,n):(S&&(Ut(),qt(Y[o],1,1,()=>{Y[o]=null}),Zt()),~A?((S=Y[A])||(S=Y[A]=K[A](e)).c(),Gt(S,1),S.m($,C)):S=null),e[0].id in Le.baseServices?J?(J.p(e,n),Gt(J,1)):((J=Zs(e)).c(),Gt(J,1),J.m($,T)):J&&(Ut(),qt(J,1,1,()=>{J=null}),Zt()),e[0].id in Le.crafts?Q?(Q.p(e,n),Gt(Q,1)):((Q=Gs(e)).c(),Gt(Q,1),Q.m($,O)):Q&&(Ut(),qt(Q,1,1,()=>{Q=null}),Zt()),e[0].id in Le.craftWeapons?ee?(ee.p(e,n),Gt(ee,1)):((ee=qs(e)).c(),Gt(ee,1),ee.m($,E)):ee&&(Ut(),qt(ee,1,1,()=>{ee=null}),Zt()),e[0].id in Le.ufos?te?(te.p(e,n),Gt(te,1)):((te=Ws(e)).c(),Gt(te,1),te.m($,I)):te&&(Ut(),qt(te,1,1,()=>{te=null}),Zt()),e[0].id in Le.facilities?ne?(ne.p(e,n),Gt(ne,1)):((ne=Xs(e)).c(),Gt(ne,1),ne.m($,N)):ne&&(Ut(),qt(ne,1,1,()=>{ne=null}),Zt()),e[0].id in Le.manufacture?re?(re.p(e,n),Gt(re,1)):((re=Ks(e)).c(),Gt(re,1),re.m(j,B)):re&&(Ut(),qt(re,1,1,()=>{re=null}),Zt()),e[0].id in Le.research?ie?(ie.p(e,n),Gt(ie,1)):((ie=Ys(e)).c(),Gt(ie,1),ie.m(j,null)):ie&&(Ut(),qt(ie,1,1,()=>{ie=null}),Zt())},i(e){F||(Gt(R),Gt(b),q&&Gt(q.$$.fragment,e),Gt(W),Gt(X),Gt(S),Gt(J),Gt(Q),Gt(ee),Gt(te),Gt(ne),Gt(re),Gt(ie),F=!0)},o(e){qt(R),qt(b),q&&qt(q.$$.fragment,e),qt(W),qt(X),qt(S),qt(J),qt(Q),qt(ee),qt(te),qt(ne),qt(re),qt(ie),F=!1},d(e){e&&mt(n),e&&mt(r),e&&mt(h),R&&R.d(e),e&&mt(m),P&&P.d(e),e&&mt(g),~y&&H[y].d(e),e&&mt(v),e&&mt($),q&&Yt(q),W&&W.d(),X&&X.d(),~A&&Y[A].d(),J&&J.d(),Q&&Q.d(),ee&&ee.d(),te&&te.d(),ne&&ne.d(),re&&re.d(),ie&&ie.d(),ct(L)}}}const Js=e=>e.id;function Qs(e,t,n){const r=Et();let i,{article:o}=t,{query:s}=t,a=!1;return e.$set=(e=>{"article"in e&&n(0,o=e.article),"query"in e&&n(1,s=e.query)}),e.$$.update=(()=>{if(7&e.$$.dirty&&(n(2,i=o.text||""),n(3,a="OTHER"==o.type_id&&{BaseServices:Ms}[o.id]),s))for(let e of s.split()){let t=new RegExp(e,"ig");n(2,i=i.replace(t,"<span class='queried'>$&</span>"))}}),[o,s,i,a,r,e=>r("prev"),e=>r("next")]}class ea extends Jt{constructor(e){super(),Vt(this,e,Qs,Vs,ft,{article:0,query:1})}}const{document:ta}=Wt;function na(e,t,n){const r=e.slice();return r[44]=t[n],r}function ra(e,t,n){const r=e.slice();return r[41]=t[n],r}function ia(e,t,n){const r=e.slice();return r[47]=t[n],r}function oa(e,t,n){const r=e.slice();return r[41]=t[n],r[51]=n,r}function sa(e,t,n){const r=e.slice();return r[41]=t[n],r[51]=n,r}function aa(e){return{c(){ta.title="BootyPedia"},m:st,d:st}}function la(e){return{c:st,m:st,p:st,i:st,o:st,d:st}}function ca(e){let t,n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,y,b,v,$,w,x,k,_,A,S,C,T,O,E,I,N,M,j,B,F,L,D,R,P,z,H,U,Z,G,q,W,X,K,Y,V=(e[3]?e[3].title:"")+"",J=Le.sectionsOrder,Q=[];for(let t=0;t<J.length;t+=1)Q[t]=ua(sa(e,J,t));let ee=Le.typeSectionsOrder,te=[];for(let t=0;t<ee.length;t+=1)te[t]=fa(oa(e,ee,t));let ne=Le.config&&Le.config.languages&&Le.config.languages.length>1&&function(e){let t,n,r,i,o,s;let a=function(e,t){return"/en-US.html".includes(e[15])||"/en-US".includes(e[15])?ya:"/ru.html".includes(e[15])||"/ru".includes(e[15])?ga:"/pl.html".includes(e[15])||"/pl".includes(e[15])?ma:"/cs.html".includes(e[15])||"/cs".includes(e[15])?ha:"/es-ES.html".includes(e[15])?da:pa}(e)(e),l=Le.config.languages,c=[];for(let t=0;t<l.length;t+=1)c[t]=ba(ia(e,l,t));return{c(){t=yt("div"),n=yt("div"),a.c(),r=vt(),i=yt("div");for(let e=0;e<c.length;e+=1)c[e].c();xt(n,"class","navbar-button"),xt(i,"class","languages-dropdown"),xt(i,"style",o=e[11]?"visibility:visible":"visibility:hidden"),xt(t,"class","navbar-dropdown-container"),s=[wt(n,"mousedown",e[29]),wt(t,"mouseover",e[30]),wt(t,"mouseout",e[31])]},m(e,o){ht(e,t,o),dt(t,n),a.m(n,null),dt(t,r),dt(t,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null)},p(e,t){if(64&t[0]){let n;for(l=Le.config.languages,n=0;n<l.length;n+=1){const r=ia(e,l,n);c[n]?c[n].p(r,t):(c[n]=ba(r),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}2048&t[0]&&o!==(o=e[11]?"visibility:visible":"visibility:hidden")&&xt(i,"style",o)},d(e){e&&mt(t),a.d(),gt(c,e),ct(s)}}}(e),re=e[8]&&va(e);const ie=[Ca,Sa,Aa],oe=[];function se(e,t){return e[0]?0:e[2]?1:e[2]?-1:2}return~(Z=se(e))&&(G=oe[Z]=ie[Z](e)),{c(){t=yt("nav"),n=yt("div"),r=yt("div"),i=yt("img"),s=vt(),a=yt("nobr"),(l=yt("span")).textContent=`${Le.modName}  ${Le.str("BootyPedia")}   `,c=vt(),(u=yt("span")).textContent="V",f=bt("\r\n           "),p=vt(),d=yt("div"),h=yt("div"),m=yt("div"),g=yt("div"),y=vt();for(let e=0;e<Q.length;e+=1)Q[e].c();b=vt(),v=yt("div");for(let e=0;e<te.length;e+=1)te[e].c();w=vt(),x=yt("a"),k=bt(V),A=vt(),S=yt("div"),C=vt(),(T=yt("div")).innerHTML='<a href="##MAIN"><img src="xpedia/2.png" alt="Home" class="xpedia-icon main-menu" style="padding-top: 0.3rem"></a>',O=vt(),(E=yt("div")).innerHTML='<a href="https://openxcom.org/forum/index.php/topic,3626.0.html" target="_blank"><img src="xpedia/3.png" alt="DL_link" class="xpedia-icon main-menu" style="padding-top: 0.3rem"></a>',I=vt(),ne&&ne.c(),N=vt(),M=vt(),j=yt("div"),B=yt("input"),L=vt(),re&&re.c(),D=vt(),R=yt("button"),(P=yt("span")).textContent="≡",H=vt(),U=yt("div"),G&&G.c(),W=vt(),(X=yt("div")).textContent="Tooltip",i.src!==(o="xpedia/favicon.png")&&xt(i,"src","xpedia/favicon.png"),xt(i,"alt","logo X"),xt(i,"class","xpedia-icon"),xt(l,"class","on-wide"),At(u,"transform","scale(1.5,0.75)"),At(u,"font-weight","bold"),At(u,"display","inline-block"),xt(r,"class","navbar-button"),xt(m,"class","navbar-auto navbar-list"),xt(v,"class","navbar-custom navbar-list"),xt(h,"class","flex-horisontal"),At(h,"flex-wrap","nowrap"),xt(d,"class","navbar-dropdown"),xt(d,"style",$=e[10]?"visibility:visible":"visibility:hidden"),xt(n,"class","navbar-dropdown-container"),xt(x,"class","navbar-button navbar-current-article on-wide"),xt(x,"href",_="##"+(e[3]?e[3].id:"MAIN")),xt(S,"class","stretcher"),xt(T,"class","navbar-button"),xt(E,"class","navbar-button"),xt(B,"class","input"),xt(B,"type","text"),xt(B,"placeholder",F=Le.str("Search...")),xt(j,"class","navbar-search"),xt(t,"class","navbar flex-horisontal"),At(t,"flex-wrap","nowrap"),At(P,"font-size","150%"),xt(R,"class","side-hide-button"),xt(R,"style",z=e[8]?"":"left:1em;"),xt(U,"class","main"),xt(U,"style",q=e[8]?"":"padding-left:1rem;"),xt(X,"class","tooltip fadein"),Y=[wt(r,"mousedown",e[26]),wt(n,"mouseover",e[27]),wt(n,"mouseout",e[28]),wt(B,"input",e[33]),wt(B,"keyup",e[19]),wt(R,"click",e[37])]},m(o,$){ht(o,t,$),dt(t,n),dt(n,r),dt(r,i),dt(r,s),dt(r,a),dt(a,l),dt(a,c),dt(a,u),dt(a,f),dt(n,p),dt(n,d),dt(d,h),dt(h,m),dt(m,g),dt(m,y);for(let e=0;e<Q.length;e+=1)Q[e].m(m,null);dt(h,b),dt(h,v);for(let e=0;e<te.length;e+=1)te[e].m(v,null);dt(t,w),dt(t,x),dt(x,k),dt(t,A),dt(t,S),dt(t,C),dt(t,T),dt(t,O),dt(t,E),dt(t,I),ne&&ne.m(t,null),dt(t,N),dt(t,M),dt(t,j),dt(j,B),_t(B,e[2]),ht(o,L,$),re&&re.m(o,$),ht(o,D,$),ht(o,R,$),dt(R,P),ht(o,H,$),ht(o,U,$),~Z&&oe[Z].m(U,null),ht(o,W,$),ht(o,X,$),e[40](X),K=!0},p(e,t){if(0&t){let n;for(J=Le.sectionsOrder,n=0;n<J.length;n+=1){const r=sa(e,J,n);Q[n]?Q[n].p(r,t):(Q[n]=ua(r),Q[n].c(),Q[n].m(m,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}if(0&t){let n;for(ee=Le.typeSectionsOrder,n=0;n<ee.length;n+=1){const r=oa(e,ee,n);te[n]?te[n].p(r,t):(te[n]=fa(r),te[n].c(),te[n].m(v,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=ee.length}(!K||1024&t[0]&&$!==($=e[10]?"visibility:visible":"visibility:hidden"))&&xt(d,"style",$),(!K||8&t[0])&&V!==(V=(e[3]?e[3].title:"")+"")&&kt(k,V),(!K||8&t[0]&&_!==(_="##"+(e[3]?e[3].id:"MAIN")))&&xt(x,"href",_),Le.config&&Le.config.languages&&Le.config.languages.length>1&&ne.p(e,t),4&t[0]&&B.value!==e[2]&&_t(B,e[2]),e[8]?re?re.p(e,t):((re=va(e)).c(),re.m(D.parentNode,D)):re&&(re.d(1),re=null),(!K||256&t[0]&&z!==(z=e[8]?"":"left:1em;"))&&xt(R,"style",z);let n=Z;(Z=se(e))===n?~Z&&oe[Z].p(e,t):(G&&(Ut(),qt(oe[n],1,1,()=>{oe[n]=null}),Zt()),~Z?((G=oe[Z])||(G=oe[Z]=ie[Z](e)).c(),Gt(G,1),G.m(U,null)):G=null),(!K||256&t[0]&&q!==(q=e[8]?"":"padding-left:1rem;"))&&xt(U,"style",q)},i(e){K||(Gt(G),K=!0)},o(e){qt(G),K=!1},d(n){n&&mt(t),gt(Q,n),gt(te,n),ne&&ne.d(),n&&mt(L),re&&re.d(n),n&&mt(D),n&&mt(R),n&&mt(H),n&&mt(U),~Z&&oe[Z].d(),n&&mt(W),n&&mt(X),e[40](null),ct(Y)}}}function ua(e){let t,n,r,i=e[41].title+"";return{c(){t=yt("a"),n=bt(i),xt(t,"href",r="##"+e[41].id)},m(e,r){ht(e,t,r),dt(t,n)},p:st,d(e){e&&mt(t)}}}function fa(e){let t,n,r,i=e[41].title+"";return{c(){t=yt("a"),n=bt(i),xt(t,"href",r="##"+e[41].id)},m(e,r){ht(e,t,r),dt(t,n)},p:st,d(e){e&&mt(t)}}}function pa(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/1.png")&&xt(t,"src","xpedia/1.png"),xt(t,"alt","Aあ"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function da(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/images/es.png")&&xt(t,"src","xpedia/images/es.png"),xt(t,"alt","es"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function ha(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/images/cz.png")&&xt(t,"src","xpedia/images/cz.png"),xt(t,"alt","cs"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function ma(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/images/pl.png")&&xt(t,"src","xpedia/images/pl.png"),xt(t,"alt","pl"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function ga(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/images/ru.png")&&xt(t,"src","xpedia/images/ru.png"),xt(t,"alt","ru"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function ya(e){let t,n;return{c(){(t=yt("img")).src!==(n="xpedia/images/us.png")&&xt(t,"src","xpedia/images/us.png"),xt(t,"alt","en"),xt(t,"class","xpedia-icon main-menu")},m(e,n){ht(e,t,n)},d(e){e&&mt(t)}}}function ba(e){let t,n,r,i,o,s="English".includes(e[47].name),a="Русский".includes(e[47].name),l="Polski".includes(e[47].name),c="Čeština".includes(e[47].name),u="Español".includes(e[47].name),f=s&&function(e){let t,n,r,i,o;return{c(){t=yt("div"),n=yt("a"),(r=yt("img")).src!==(i="xpedia/images/us.png")&&xt(r,"src","xpedia/images/us.png"),xt(r,"alt","English"),xt(n,"href",o=e[47].save_as+"##"+e[6]),xt(t,"class","languages-image")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r)},p(e,t){64&t[0]&&o!==(o=e[47].save_as+"##"+e[6])&&xt(n,"href",o)},d(e){e&&mt(t)}}}(e),p=a&&function(e){let t,n,r,i,o;return{c(){t=yt("div"),n=yt("a"),(r=yt("img")).src!==(i="xpedia/images/ru.png")&&xt(r,"src","xpedia/images/ru.png"),xt(r,"alt","Русский"),xt(n,"href",o=e[47].save_as+"##"+e[6]),xt(t,"class","languages-image")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r)},p(e,t){64&t[0]&&o!==(o=e[47].save_as+"##"+e[6])&&xt(n,"href",o)},d(e){e&&mt(t)}}}(e),d=l&&function(e){let t,n,r,i,o;return{c(){t=yt("div"),n=yt("a"),(r=yt("img")).src!==(i="xpedia/images/pl.png")&&xt(r,"src","xpedia/images/pl.png"),xt(r,"alt","Polski"),xt(n,"href",o=e[47].save_as+"##"+e[6]),xt(t,"class","languages-image")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r)},p(e,t){64&t[0]&&o!==(o=e[47].save_as+"##"+e[6])&&xt(n,"href",o)},d(e){e&&mt(t)}}}(e),h=c&&function(e){let t,n,r,i,o;return{c(){t=yt("div"),n=yt("a"),(r=yt("img")).src!==(i="xpedia/images/cz.png")&&xt(r,"src","xpedia/images/cz.png"),xt(r,"alt","Čeština"),xt(n,"href",o=e[47].save_as+"##"+e[6]),xt(t,"class","languages-image")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r)},p(e,t){64&t[0]&&o!==(o=e[47].save_as+"##"+e[6])&&xt(n,"href",o)},d(e){e&&mt(t)}}}(e),m=u&&function(e){let t,n,r,i,o,s;return{c(){t=yt("div"),n=yt("a"),r=yt("img"),s=vt(),r.src!==(i="xpedia/images/es.png")&&xt(r,"src","xpedia/images/es.png"),xt(r,"alt","Español"),xt(n,"href",o=e[47].save_as+"##"+e[6]),xt(t,"class","languages-image")},m(e,i){ht(e,t,i),dt(t,n),dt(n,r),dt(t,s)},p(e,t){64&t[0]&&o!==(o=e[47].save_as+"##"+e[6])&&xt(n,"href",o)},d(e){e&&mt(t)}}}(e);return{c(){f&&f.c(),t=vt(),p&&p.c(),n=vt(),d&&d.c(),r=vt(),h&&h.c(),i=vt(),m&&m.c(),o=$t()},m(e,s){f&&f.m(e,s),ht(e,t,s),p&&p.m(e,s),ht(e,n,s),d&&d.m(e,s),ht(e,r,s),h&&h.m(e,s),ht(e,i,s),m&&m.m(e,s),ht(e,o,s)},p(e,t){s&&f.p(e,t),a&&p.p(e,t),l&&d.p(e,t),c&&h.p(e,t),u&&m.p(e,t)},d(e){f&&f.d(e),e&&mt(t),p&&p.d(e),e&&mt(n),d&&d.d(e),e&&mt(r),h&&h.d(e),e&&mt(i),m&&m.d(e),e&&mt(o)}}}function va(e){let t,n,r,i,o,s,a,l,c=Le.str("A-Z")+"",u=e[0]&&e[0].section&&e[0].section.isType()?Le.typeSectionsOrder:Le.sectionsOrder,f=[];for(let t=0;t<u.length;t+=1)f[t]=_a(ra(e,u,t));return{c(){t=yt("nav"),n=yt("button"),r=bt(c),o=vt();for(let e=0;e<f.length;e+=1)f[e].c();s=vt(),a=yt("br"),xt(n,"class","side-sort-button"),xt(n,"style",i=e[13]?"":"text-decoration:line-through"),xt(t,"class","sidebar"),l=wt(n,"click",e[34])},m(e,i){ht(e,t,i),dt(t,n),dt(n,r),dt(t,o);for(let e=0;e<f.length;e+=1)f[e].m(t,null);dt(t,s),dt(t,a)},p(e,r){if(8192&r[0]&&i!==(i=e[13]?"":"text-decoration:line-through")&&xt(n,"style",i),16441&r[0]){let n;for(u=e[0]&&e[0].section&&e[0].section.isType()?Le.typeSectionsOrder:Le.sectionsOrder,n=0;n<u.length;n+=1){const i=ra(e,u,n);f[n]?f[n].p(i,r):(f[n]=_a(i),f[n].c(),f[n].m(t,s))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}},d(e){e&&mt(t),gt(f,e),l()}}}function $a(e){let t,n,r,i,o=e[41].title+"",s=e[14](e[41].articles),a=[];for(let t=0;t<s.length;t+=1)a[t]=ka(na(e,s,t));return{c(){t=yt("p"),n=bt(o),r=vt(),i=yt("div");for(let e=0;e<a.length;e+=1)a[e].c();xt(t,"class","menu-label"),xt(i,"class","menu-list")},m(e,o){ht(e,t,o),dt(t,n),ht(e,r,o),ht(e,i,o);for(let e=0;e<a.length;e+=1)a[e].m(i,null)},p(e,t){if(1&t[0]&&o!==(o=e[41].title+"")&&kt(n,o),16433&t[0]){let n;for(s=e[14](e[41].articles),n=0;n<s.length;n+=1){const r=na(e,s,n);a[n]?a[n].p(r,t):(a[n]=ka(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(e){e&&mt(t),e&&mt(r),e&&mt(i),gt(a,e)}}}function wa(e){let t,n,r,i,o=e[44].title+"";return{c(){t=yt("a"),n=bt(o),xt(t,"class","side-link"),xt(t,"href",r="##"+e[44].id),i=wt(t,"click",e[36])},m(e,r){ht(e,t,r),dt(t,n)},p(e,i){16385&i[0]&&o!==(o=e[44].title+"")&&kt(n,o),16385&i[0]&&r!==(r="##"+e[44].id)&&xt(t,"href",r)},d(e){e&&mt(t),i()}}}function xa(e){let t,n,r,i=e[44].title+"";return{c(){t=yt("a"),n=bt(i),xt(t,"href",r="##"+e[44].id),xt(t,"class","active-article-option side-link")},m(r,i){ht(r,t,i),dt(t,n),e[35](t)},p(e,o){16385&o[0]&&i!==(i=e[44].title+"")&&kt(n,i),16385&o[0]&&r!==(r="##"+e[44].id)&&xt(t,"href",r)},d(n){n&&mt(t),e[35](null)}}}function ka(e){let t;function n(e,t){return e[0]&&e[0].id==e[44].id?xa:wa}let r=n(e),i=r(e);return{c(){i.c(),t=$t()},m(e,n){i.m(e,n),ht(e,t,n)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),(i=r(e))&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&mt(t)}}}function _a(e){let t,n=(!e[3]||e[41].id==e[3].id)&&$a(e);return{c(){n&&n.c(),t=$t()},m(e,r){n&&n.m(e,r),ht(e,t,r)},p(e,r){e[3]&&e[41].id!=e[3].id?n&&(n.d(1),n=null):n?n.p(e,r):((n=$a(e)).c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&mt(t)}}}function Aa(e){let t;const n=new hn({});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p:st,i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Sa(e){let t,n,r,i,o,s,a,l,c,u,f,p=Le.str("Searching")+"";const d=[Ia,Ea,Oa,Ta],h=[];function m(e,t){return e[1]&&e[1].length>0?0:e[2].length<2?1:e[7]?2:3}return l=m(e),c=h[l]=d[l](e),{c(){t=bt(p),n=bt(' "\r\n      '),r=yt("em"),i=bt(e[2]),o=bt('\r\n      ":\r\n      '),s=yt("br"),a=vt(),c.c(),u=$t()},m(e,c){ht(e,t,c),ht(e,n,c),ht(e,r,c),dt(r,i),ht(e,o,c),ht(e,s,c),ht(e,a,c),h[l].m(e,c),ht(e,u,c),f=!0},p(e,t){(!f||4&t[0])&&kt(i,e[2]);let n=l;(l=m(e))===n?h[l].p(e,t):(Ut(),qt(h[n],1,1,()=>{h[n]=null}),Zt(),(c=h[l])||(c=h[l]=d[l](e)).c(),Gt(c,1),c.m(u.parentNode,u))},i(e){f||(Gt(c),f=!0)},o(e){qt(c),f=!1},d(e){e&&mt(t),e&&mt(n),e&&mt(r),e&&mt(o),e&&mt(s),e&&mt(a),h[l].d(e),e&&mt(u)}}}function Ca(e){let t;const n=new ea({props:{article:e[0],query:e[2]}});return n.$on("prev",e[38]),n.$on("next",e[39]),{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};1&t[0]&&(r.article=e[0]),4&t[0]&&(r.query=e[2]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Ta(e){let t;return{c(){(t=yt("i")).textContent=`${Le.str("Nothing found")}.`},m(e,n){ht(e,t,n)},p:st,i:st,o:st,d(e){e&&mt(t)}}}function Oa(e){let t;return{c(){t=bt("...")},m(e,n){ht(e,t,n)},p:st,i:st,o:st,d(e){e&&mt(t)}}}function Ea(e){let t;return{c(){(t=yt("i")).textContent=`${Le.str("Query too short")}!`},m(e,n){ht(e,t,n)},p:st,i:st,o:st,d(e){e&&mt(t)}}}function Ia(e){let t;const n=new pn({props:{links:e[1]}});return{c(){Xt(n.$$.fragment)},m(e,r){Kt(n,e,r),t=!0},p(e,t){const r={};2&t[0]&&(r.links=e[1]),n.$set(r)},i(e){t||(Gt(n.$$.fragment,e),t=!0)},o(e){qt(n.$$.fragment,e),t=!1},d(e){Yt(n,e)}}}function Na(e){let t,n,r,i,o,s,a,l,c=Le.str("Loading...")+"";return{c(){t=yt("div"),n=bt(c),r=vt(),i=yt("hr"),o=vt(),xt(s=yt("img"),"alt",a=Le.str("Loading...")),s.src!==(l="xpedia/spinner.svg")&&xt(s,"src","xpedia/spinner.svg"),xt(t,"class","centered svelte-13r8mio")},m(e,a){ht(e,t,a),dt(t,n),dt(t,r),dt(t,i),dt(t,o),dt(t,s)},p:st,i:st,o:st,d(e){e&&mt(t)}}}function Ma(e){let t,n,r,i,o,s=!e[0]&&aa(),a={ctx:e,current:null,token:null,pending:Na,then:ca,catch:la,blocks:[,,,]};return function(e,t){const n=t.token={};function r(e,r,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==i&&((s=s.slice())[i]=o);const a=e&&(t.current=e)(s);let l=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==r&&e&&(Ut(),qt(e,1,1,()=>{t.blocks[n]=null}),Zt())}):t.block.d(1),a.c(),Gt(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[r]=a),l&&Rt()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=Ot();if(e.then(e=>{Tt(n),r(t.then,1,t.value,e),Tt(null)},e=>{Tt(n),r(t.catch,2,t.error,e),Tt(null)}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var i}(i=e[17],a),{c(){s&&s.c(),t=$t(),n=vt(),r=$t(),a.block.c()},m(e,i){s&&s.m(ta.head,null),dt(ta.head,t),ht(e,n,i),ht(e,r,i),a.block.m(e,a.anchor=i),a.mount=(()=>r.parentNode),a.anchor=r,o=!0},p(n,r){(e=n)[0]?s&&(s.d(1),s=null):s||((s=aa()).c(),s.m(t.parentNode,t));{const t=e.slice();a.block.p(t,r)}},i(e){o||(Gt(a.block),o=!0)},o(e){for(let e=0;e<3;e+=1){qt(a.blocks[e])}o=!1},d(e){s&&s.d(e),mt(t),e&&mt(n),e&&mt(r),a.block.d(e),a.token=null,a=null}}}function ja(e){window.location.hash="##"+e}function Ba(e,t,n){let r,i,{source:o}=t,s=null,a=null,l="",c=null,u=!1,f="",p=null,d=!0,h=!1,m=!1,g=!1,y=document.location.pathname,b="ontouchstart"in window;async function v(){await Le.load(o)}let $=v();function w(){n(10,m=n(11,g=!1));let e=decodeURI(document.location.hash);if("##"==e.substr(0,2)){if(n(6,f=e.substr(2)),"MAIN"==f&&n(2,l=""),f){let e=f.indexOf("::");-1!=e&&(n(2,l=f.substr(e+2)),n(6,f=f.substr(0,e))),"SEARCH"==f?(l.length>=4?n(1,a=Le.search.findArticles(l).map(e=>e.id)):n(1,a=0),n(0,s=null)):(n(1,a=null),s&&s.id==f||n(0,s=Le.article(f))),console.log(f),console.log(s)}s?s.section&&c!=s.section&&n(3,c=s.section):n(3,c=null),r&&(Lt(),Bt).then(()=>r.scrollIntoView({behavior:"auto",block:"center"}))}}function x(e){let t=Le.findNextArticle(s,e);t&&ja(t.id)}window.onhashchange=w,$.then(w);let k=!1;function _(e=null){null===e?n(10,m=!m):b||n(10,m=e)}function A(e){n(12,i.innerHTML=e,i);let t=i.classList;e?t.add("visible"):t.remove("visible")}document.addEventListener("keydown",e=>{const t=e.key;"ArrowRight"==t&&x(1),"ArrowLeft"==t&&x(-1)}),window.addEventListener("mousemove",async e=>{if(i){let t=e.target;for(;t&&t.attributes&&!t.attributes.tooltip;)t=t.parentNode;if(t&&t.attributes){let r=t.attributes.tooltip,o=e.target.getBoundingClientRect();n(12,i.style.left=o.left+o.width/2+"px",i),n(12,i.style.top=o.top+"px",i);let s=r.value;A(s in Le.lang&&!e.shiftKey?Le.lang[s]:s.substr(4))}else A(null)}});let S;return e.$set=(e=>{"source"in e&&n(21,o=e.source)}),e.$$.update=(()=>{1&e.$$.dirty[0]&&console.info(s||"no article"),8192&e.$$.dirty[0]&&n(14,S=(e=>k?e.slice().sort((e,t)=>e.title>t.title?1:-1):e))}),[s,a,l,c,r,u,f,p,d,h,m,g,i,k,S,y,b,$,x,function(e){p&&clearTimeout(p),n(7,p=setTimeout(()=>{ja("SEARCH::"+e.target.value),n(7,p=null)},"Enter"==e.key?10:1e3))},_,o,v,w,function(e){n(3,c=Le.sections[e])},A,e=>_(),e=>_(!0),e=>_(!1),e=>n(11,g=!g),e=>!b&&n(11,g=!0),e=>!b&&n(11,g=!1),e=>n(9,h=!h),function(){l=this.value,n(2,l)},e=>n(13,k=!k),function(e){Nt[e?"unshift":"push"](()=>{n(4,r=e)})},()=>n(5,u=!0),e=>{0==e.button&&n(8,d=!d)},e=>x(-1),e=>x(1),function(e){Nt[e?"unshift":"push"](()=>{n(12,i=e)})}]}class Fa extends Jt{constructor(e){super(),Vt(this,e,Ba,Ma,ft,{source:21},[-1,-1])}}return window.onload=function(){let e=function(e){let t={"&amp;":"&","&lt;":"<","&gt;":">"};return e.replace(/&amp;|&quot;|&lt;|&gt;/g,e=>t[e])}(document.body.textContent);document.body.innerHTML="",document.body.style.display="block",new it,app=new Fa({props:{source:e},target:document.body})},app}();
